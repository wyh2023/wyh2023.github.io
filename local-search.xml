<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>19çº§å¤§ä¸€ä¸Šè®¡åŸºä¸Šæœº</title>
    <link href="/2020/12/14/19%E7%BA%A7%E5%A4%A7%E4%B8%80%E4%B8%8A%E8%AE%A1%E5%9F%BA%E4%B8%8A%E6%9C%BA/"/>
    <url>/2020/12/14/19%E7%BA%A7%E5%A4%A7%E4%B8%80%E4%B8%8A%E8%AE%A1%E5%9F%BA%E4%B8%8A%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="19çº§å¤§ä¸€ä¸Šè®¡ç®—ç³»ç»ŸåŸºç¡€ä¸Šæœºå›é¡¾"><a href="#19çº§å¤§ä¸€ä¸Šè®¡ç®—ç³»ç»ŸåŸºç¡€ä¸Šæœºå›é¡¾" class="headerlink" title="19çº§å¤§ä¸€ä¸Šè®¡ç®—ç³»ç»ŸåŸºç¡€ä¸Šæœºå›é¡¾"></a>19çº§å¤§ä¸€ä¸Šè®¡ç®—ç³»ç»ŸåŸºç¡€ä¸Šæœºå›é¡¾</h2><p>äº‹å…ˆå£°æ˜ï¼šä¸ªäººæ‰€å†™ç‰ˆæœ¬ä¸ä»£è¡¨ç­”æ¡ˆï¼ä»…æä¾›æ€è·¯ï¼</p><h3 id="å­—å…¸åºæ’åº"><a href="#å­—å…¸åºæ’åº" class="headerlink" title="å­—å…¸åºæ’åº"></a>å­—å…¸åºæ’åº</h3><p><img src="/img/å­—å…¸åº.jpg" alt=""></p><p>è¿™é“é¢˜ä¹ä¸€çœ‹éƒ½èƒ½æƒ³åˆ°åœ¨è€ƒæ’åºï¼Œç„¶è€Œå­—ç¬¦ä¸²çš„æ’åºå’Œä¸€èˆ¬æ„ä¹‰ä¸Šçš„æ•°å­—æ’åºä¸åŒã€‚å¦‚æœæ˜¯å¤§ä¸€ä¸Šæ²¡æœ‰ç»å¸¸ç»ƒä¹ Cè¯­è¨€å¹¶ä¸”è¿˜æœ‰äº›Naiveçš„å°ç™½åŒå­¦ï¼Œå¦‚ä½•è¿›è¡Œå­—å…¸åºå¯èƒ½å°±éœ€è¦ä¸€äº›æ—¶é—´æ€è€ƒã€‚å½“ä½ è§£å†³äº†å­—å…¸åºâ€”â€”ã€é€ä¸ªæ¯”è¾ƒå­—æ¯è¡¨é¡ºåºï¼Œè‹¥éƒ½ç›¸ç­‰æ¯”è¾ƒé•¿åº¦ã€‘ï¼Œè¿˜ä¼šé‡åˆ°ä¸€ä¸ªäº‹æƒ…ï¼šå­—ç¬¦ä¸²æ•°ç»„å¥½åƒä¸èƒ½è¿›è¡Œå¸¸è§„æ„ä¹‰ä¸Šçš„äº¤æ¢å’Œèµ‹å€¼TAT</p><pre><code class="hljs c"><span class="hljs-keyword">char</span> s[<span class="hljs-number">100</span>][<span class="hljs-number">100</span>];<span class="hljs-comment">//wrong!!!!</span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s1, <span class="hljs-keyword">char</span> *s2, <span class="hljs-keyword">int</span> j)</span></span>&#123;    <span class="hljs-keyword">char</span> *tmp = s[j];    s[j] = s[j+<span class="hljs-number">1</span>];    s[j+<span class="hljs-number">1</span>] = s[j];&#125;</code></pre><p>é‚£æ€ä¹ˆåŠå‘¢ï¼Œæˆ‘ä»¬åº”è¯¥å­¦è¿‡<strong>äº¤æ¢æŒ‡é’ˆ</strong>ã€‚æˆ‘ä»¬å¯ä»¥é¢å¤–å†å¼€ä¸€ä¸ªæ•°ç»„<code>char *strArr[100];</code>ä¿å­˜çš„æ˜¯æŒ‡å‘ç›¸åº”å­—ç¬¦ä¸²çš„æŒ‡é’ˆã€‚ä¸€æ—¦éœ€è¦äº¤æ¢ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œäº¤æ¢<code>strArr</code>ä¸­çš„æŒ‡é’ˆå³å¯ã€‚</p><p>æœ€ååœ¨è¿›è¡Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿæ˜¯å–ç›¸åº”çš„æŒ‡é’ˆï¼ˆåŸå­—ç¬¦ä¸²æ•°ç»„çš„å­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸å¯¹ä½ç½®æ²¡æœ‰æ”¹å˜ï¼‰</p><p>ç®€å•è§£é‡Šä¸€ä¸‹ä»£ç â€”â€”åŸºæœ¬æ¨¡æ‹Ÿäº†é¢˜æ„ï¼›åœ¨è¿›è¡Œå­—å…¸åºæ¯”è¾ƒçš„æ—¶å€™ï¼Œé¦–å…ˆä¸€ä¸€å¯¹åº”æ¯”è¾ƒå­—æ¯è¡¨åºï¼Œè‹¥ç›¸ç­‰åˆ™æ¯”è¾ƒé•¿åº¦ï¼Œä¸€æ—¦å‡ºç°é€†åºï¼ˆå‰å¤§äºåï¼‰åˆ™äº¤æ¢ï¼›å› ä¸ºæ²¡æœ‰å¤æ‚åº¦çš„è¦æ±‚ï¼Œæˆ‘å†æ¬¡ä½¿ç”¨äº†æœ€ç®€å•çš„å†’æ³¡æ’åºã€‚</p><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">strlen</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s)</span> </span>&#123;    <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span> (*(s + len) != <span class="hljs-string">&#x27;\0&#x27;</span>) &#123;        len++;    &#125;    <span class="hljs-keyword">return</span> len;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">int</span> T, N;    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> t=<span class="hljs-number">0</span>; t&lt;T; t++)&#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;N);        <span class="hljs-keyword">char</span> *strArr[<span class="hljs-number">100</span>];        <span class="hljs-keyword">char</span> str[<span class="hljs-number">100</span>][<span class="hljs-number">50</span>];        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;N; i++)&#123;            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, str[i]);            strArr[i] = str[i];        &#125;        <span class="hljs-keyword">int</span> flg;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;N<span class="hljs-number">-1</span>; i++)&#123;            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;N-i<span class="hljs-number">-1</span>; j++, flg = <span class="hljs-number">0</span>)&#123;                <span class="hljs-keyword">int</span> len1 = <span class="hljs-built_in">strlen</span>(strArr[j]);                <span class="hljs-keyword">int</span> len2 = <span class="hljs-built_in">strlen</span>(strArr[j+<span class="hljs-number">1</span>]);                <span class="hljs-keyword">int</span> test = (len1 &lt; len2)? len1 : len2;                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>; k&lt;test; k++)&#123;                    <span class="hljs-keyword">char</span> s1 = strArr[j][k];                    <span class="hljs-keyword">char</span> s2 = strArr[j+<span class="hljs-number">1</span>][k];                    <span class="hljs-keyword">if</span>(s2 &lt; s1)&#123;                        flg = <span class="hljs-number">1</span>;                        <span class="hljs-keyword">break</span>;                    &#125;                &#125;                <span class="hljs-keyword">if</span>(len2 &gt; len1 &amp;&amp; flg == <span class="hljs-number">0</span>)&#123;                    flg = <span class="hljs-number">1</span>;                &#125;                <span class="hljs-comment">//äº¤æ¢å­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼›</span>                <span class="hljs-keyword">if</span>(flg == <span class="hljs-number">1</span>)&#123;                    <span class="hljs-keyword">char</span> *tmp = strArr[j];                    strArr[j] = strArr[j+<span class="hljs-number">1</span>];                    strArr[j+<span class="hljs-number">1</span>] = tmp;                &#125;            &#125;        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n%s&quot;</span>, strArr[<span class="hljs-number">0</span>], strArr[N<span class="hljs-number">-1</span>]);    &#125;&#125;</code></pre><h3 id="æ¨¡æ‹ŸSplitå‡½æ•°"><a href="#æ¨¡æ‹ŸSplitå‡½æ•°" class="headerlink" title="æ¨¡æ‹ŸSplitå‡½æ•°"></a>æ¨¡æ‹ŸSplitå‡½æ•°</h3><p><img src="/img/split.jpg" alt=""></p><p>å­—ç¬¦ä¸²åˆ‡å‰²ï¼Œä¹Ÿæ˜¯splitå‡½æ•°çš„æ¨¡æ‹Ÿï¼›è€ƒå¯Ÿçš„æ˜¯å­—ç¬¦ä¸²çš„æ¨¡å¼åŒ¹é…ã€‚åŒæ ·ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰è€ƒå¯Ÿç®—æ³•ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦è¿‡åˆ†è€ƒè™‘å¤æ‚åº¦çš„é—®é¢˜ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œé—®é¢˜å°±æ²¡æœ‰é‚£ä¹ˆå¤æ‚äº†ã€‚è¿™é‡Œæåˆ°ä¸¤ç§è§£æ³•ï¼šBrute-Forceè§£æ³•ï¼ˆæš´åŠ›è§£æ³•ï¼‰å’ŒKMPè§£æ³•ï¼ˆä¸åšè¿‡å¤šè§£é‡Šï¼Œä»…æä¾›è§£æ³•(._.)ï¼‰</p><h4 id="Brute-Force"><a href="#Brute-Force" class="headerlink" title="Brute-Force"></a>Brute-Force</h4><p>è¿™é‡Œä¸»è¦å¤æ‚åœ¨å¾—åˆ°ç»“æœä¹‹åçš„å¤„ç†ï¼ˆx</p><p>æˆ‘ä»¬é¦–å…ˆå¾—åˆ°æ¨¡å¼ä¸²Targetå’Œå¾…æŸ¥æ‰¾ä¸²Strä»¥åŠä»–ä»¬çš„é•¿åº¦ã€‚å¯¹Strçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œéå†ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://pic2.zhimg.com/80/v2-4fe5612ff13a6286e1a8e50a0b06cd96_1440w.jpg?source=1940ef5c" alt=""></p><p>å¦‚æœæœ‰åŒ¹é…çš„ï¼Œåˆ™è®°ä¸‹å®ƒæ­¤æ—¶åœ¨æ•°ç»„ä¸­çš„indexï¼Œç„¶åå†è¿›è¡Œéå†è¾“å‡ºã€‚è®°å¾—åœ¨ä¸¤ä¸ªæ¨¡å¼ä¸²ä¹‹é—´ä¸ºç©ºæ—¶ï¼Œè¦è¾“å‡ºâ€EmptyStringâ€ã€‚</p><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">strlen</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s)</span> </span>&#123;    <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span> (*(s + len) != <span class="hljs-string">&#x27;\0&#x27;</span>) &#123;        len++;    &#125;    <span class="hljs-keyword">return</span> len;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">char</span> str[<span class="hljs-number">100</span>], target[<span class="hljs-number">100</span>];    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, str);    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, target);    <span class="hljs-keyword">int</span> lenStr = <span class="hljs-built_in">strlen</span>(str);    <span class="hljs-keyword">int</span> lenTarget = <span class="hljs-built_in">strlen</span>(target);    <span class="hljs-keyword">int</span> last[<span class="hljs-number">100</span>];    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;        last[i] = <span class="hljs-number">-1</span>;    &#125;    <span class="hljs-keyword">if</span> (lenTarget &gt; lenStr) &#123; <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, str); &#125;    <span class="hljs-keyword">else</span> &#123;        <span class="hljs-keyword">int</span> gap = lenStr - lenTarget;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= gap; i++) &#123;            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; lenTarget; j++) &#123;                <span class="hljs-keyword">if</span> (str[i + j] != target[j]) &#123; <span class="hljs-keyword">break</span>; &#125;                <span class="hljs-keyword">if</span> (j == lenTarget - <span class="hljs-number">1</span>) &#123;                    last[i] = i + j + <span class="hljs-number">1</span>;                &#125;            &#125;        &#125;    &#125;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; lenStr; i++) &#123;        <span class="hljs-keyword">if</span> (last[i] == <span class="hljs-number">-1</span>) &#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, *(str + i));        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (last[i] != <span class="hljs-number">-1</span> &amp;&amp; last[last[i]] != <span class="hljs-number">-1</span>) &#123;            i = last[i]<span class="hljs-number">-1</span>;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;EmptyString&quot;</span>);        &#125; <span class="hljs-keyword">else</span> &#123;            <span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span>) &#123;                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);            &#125;            i = last[i]<span class="hljs-number">-1</span>;        &#125;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><h4 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h4><p>ä»…ä¾›å‚è€ƒï¼( Â´â–½` )ï¾‰</p><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>next[<span class="hljs-number">100</span>];start[<span class="hljs-number">100</span>];<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">strlen</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s)</span> </span>&#123;    <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span> (*(s + len) != <span class="hljs-string">&#x27;\0&#x27;</span>) &#123;        len++;    &#125;    <span class="hljs-keyword">return</span> len;&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">buildNext</span><span class="hljs-params">(<span class="hljs-keyword">int</span> lenPattern, <span class="hljs-keyword">char</span> *pattern)</span></span>&#123;    next[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;    <span class="hljs-keyword">int</span> x = <span class="hljs-number">1</span>;    <span class="hljs-keyword">int</span> now = <span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span> (x &lt; lenPattern)&#123;        <span class="hljs-keyword">if</span>(pattern[now] == pattern[x])&#123;            now++;            x++;            next[++i] = now;        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (now != <span class="hljs-number">0</span>)&#123;            now = next[now - <span class="hljs-number">1</span>];        &#125; <span class="hljs-keyword">else</span> &#123;            next[++i] = <span class="hljs-number">0</span>;            x++;        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str, <span class="hljs-keyword">char</span>  *pattern)</span></span>&#123;    <span class="hljs-keyword">int</span> tar = <span class="hljs-number">0</span>;    <span class="hljs-keyword">int</span> position = <span class="hljs-number">0</span>;    <span class="hljs-keyword">while</span> (tar &lt; <span class="hljs-built_in">strlen</span>(str))&#123;        <span class="hljs-keyword">if</span>(str[tar] == pattern[position])&#123;            tar++;            position++;        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (position != <span class="hljs-number">0</span>)&#123;            position = next[position - <span class="hljs-number">1</span>];        &#125; <span class="hljs-keyword">else</span> &#123;            tar++;        &#125;        <span class="hljs-keyword">if</span>(position == <span class="hljs-built_in">strlen</span>(pattern))&#123;            <span class="hljs-comment">//printf(&quot;%d\n&quot;, tar-position+1);</span>            start[tar-position] = <span class="hljs-built_in">strlen</span>(pattern);            position = next[position<span class="hljs-number">-1</span>];        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">char</span> str[<span class="hljs-number">100</span>];    <span class="hljs-keyword">char</span> target[<span class="hljs-number">100</span>];    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%s&quot;</span>, str, target);    <span class="hljs-keyword">int</span> lenStr = <span class="hljs-built_in">strlen</span>(str);    <span class="hljs-keyword">int</span> lenTarget = <span class="hljs-built_in">strlen</span>(target);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++)&#123;        start[i] = <span class="hljs-number">0</span>;  <span class="hljs-comment">//åˆå§‹åŒ–</span>    &#125;    buildNext(lenTarget, target);    search(str, target);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;lenStr; i++)&#123;        <span class="hljs-keyword">if</span>(start[i]!=<span class="hljs-number">0</span>)&#123;            <span class="hljs-keyword">if</span>(i != <span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);            i += start[i]<span class="hljs-number">-1</span>;            <span class="hljs-keyword">if</span>(start[i+<span class="hljs-number">1</span>]!=<span class="hljs-number">0</span>)&#123;                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;EmptyString&quot;</span>);            &#125;            <span class="hljs-keyword">continue</span>;        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, str[i]);    &#125;&#125;</code></pre><h2 id="å¸Œæœ›å¤§å®¶æ³¨æ„åˆ°äº‹æƒ…ï¼"><a href="#å¸Œæœ›å¤§å®¶æ³¨æ„åˆ°äº‹æƒ…ï¼" class="headerlink" title="å¸Œæœ›å¤§å®¶æ³¨æ„åˆ°äº‹æƒ…ï¼"></a>å¸Œæœ›å¤§å®¶æ³¨æ„åˆ°äº‹æƒ…ï¼</h2><ol><li><strong>é¦–å…ˆï¼Œå¤šå¤šåšé¢˜ï¼Œåˆ«è®©è‡ªå·±çš„æ‰‹ç”Ÿä¸‹æ¥ï¼Œæœºè€ƒéå¸¸åƒç†Ÿç»ƒåº¦ï¼æ­¤åçš„å„ç§‘æœºè€ƒä¹Ÿæ˜¯ä¸€æ ·</strong></li><li>å¤šå¤šç»ƒä¹ å’Œæ³¨æ„æŒ‡é’ˆçš„ä½¿ç”¨ï¼</li><li>æ“ä½œå­—ç¬¦ä¸²æ•°ç»„å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼›</li><li>åœ¨æ­¤æä¾›ä¸€äº›å¯ä»¥ç»ƒä¹ çš„é¢˜ç›®ï¼š<ul><li>æ´›è°·ï¼šåˆ°P2394æ˜¯åŸºç¡€é¢˜ï¼Œ1165å’Œ1540æ˜¯æ ˆå’Œé˜Ÿåˆ—ï¼Œ1015-1279æ˜¯å­—ç¬¦ä¸²ï¼Œ1032åˆ°1135æ˜¯æœç´¢ï¼Œ1102-1678æ˜¯åŠ¨æ€è§„åˆ’ï¼Œåé¢æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼›(æ„Ÿè°¢ææ·³åŒå­¦æä¾›ä¿¡æ¯ï¼)</li></ul></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>è®¡ç®—ç³»ç»ŸåŸºç¡€</tag>
      
      <tag>KMP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MultiSet</title>
    <link href="/2020/12/07/MultiSet/"/>
    <url>/2020/12/07/MultiSet/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>After learning binary search trees in algorithm class, Nezzar challenges you with the following task.</p><p>Given a <strong>multiset</strong> ğ‘†S which is intially emtpy, Nezzar may do one of the following operations in each round, and your algorithm should support these features.</p><ul><li>0 $x$, insert $x$ to $S$;</li><li>1 $x$, output the number of copies of $x$ in $S$, and remove exactly <strong>one copy</strong> of $x$ from $S$ if $S$ contains at least one copy of $x$;</li><li>2 $l,r$, output $âˆ‘xâˆˆS,l&lt;xâ‰¤r$. For example, if $S={3,5,5,7},l=3,r=7$, then output should be $17$ as $5+5+7=17$.</li></ul><p>To disallow some shortcut solutions (offline solutions), Nezzar will fix a positive integer ğ‘šğ‘œğ‘‘mod, and provide input in the following way ($lans$ is $0$ initially).</p><ul><li>0 $y$ where $0â‰¤y&lt;mod$, let $x=(y+lans)$ mod $mod$ and insert $x$ to $S$;</li><li>1 $y$ where $0â‰¤y&lt;mod$, let $x=(y+lans)$ mod $mod$ and output the number of copies of $x$ in $S$, then remove exactly <strong>one copy</strong> of $x$ from $S$ if $S$ contains at least one copy of $x$;</li><li>2 $u,v$ where $0â‰¤u,v&lt;mod$, let <ul><li>$l=(u+lans)$ mod $mod$ and $r=(v+lans)$ mod $mod$, swap $l$ and $r$ if $l&gt;r$, output $âˆ‘xâˆˆS,l&lt;xâ‰¤r$ and finally update $lans$ with output.</li></ul></li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of input contains two integers $Q$ and $mod$, where $1â‰¤Qâ‰¤5â‹…10^5$ and $1â‰¤modâ‰¤10^13$.</p><p>Each of the following $Q$ lines contains an operation described above.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each type 1 and type 2 query, output one line with the required value.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><pre><code class="hljs python"><span class="hljs-number">7</span> <span class="hljs-number">15</span><span class="hljs-number">1</span> <span class="hljs-number">2</span><span class="hljs-number">0</span> <span class="hljs-number">3</span><span class="hljs-number">0</span> <span class="hljs-number">6</span><span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">7</span><span class="hljs-number">0</span> <span class="hljs-number">5</span><span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><span class="hljs-number">2</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><pre><code class="hljs python"><span class="hljs-number">0</span><span class="hljs-number">9</span><span class="hljs-number">14</span><span class="hljs-number">0</span></code></pre><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>Initially, $S={}$.</p><p>Parameter for the first query is $x=(y+lans)$ mod $mod=2$. Hence, output for this query should be 0, and $S={}$ after first query.</p><p>Parameter for the second query is $x=(y+lans)$ mod $mod=3$. Hence, $S={3}$ after the second query.</p><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>Your algorithm should answer each query in $O(logâ¡n)$ time to get accepted. If you have no idea how to debug, first write a naive algorithm (i.e., a straightforward but slow algorithm), then generate some small random test cases, finally compare the naive algorithmâ€™s output with your final fast algorithmâ€™s output.</p><h3 id="å¤§è‡´é¢˜æ„"><a href="#å¤§è‡´é¢˜æ„" class="headerlink" title="å¤§è‡´é¢˜æ„"></a>å¤§è‡´é¢˜æ„</h3><p>ç»´æŠ¤ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œä½¿å¾—å®ƒå¯ä»¥è¿›è¡Œä»¥ä¸‹çš„ä¸‰ä¸ªæ“ä½œï¼š</p><ul><li>å‘ä¸€ä¸ªé›†åˆå†…æ’å…¥å…ƒç´ ï¼›</li><li>æŸ¥è¯¢ä¸€ä¸ªå¤šé‡é›†ä¸­æŸå…ƒç´ çš„å¤šå°‘ä¸ªï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™åœ¨æŸ¥è¯¢ä¹‹ååˆ é™¤ä¸€ä¸ªï¼›</li><li>æŸ¥è¯¢åŒºé—´å’Œï¼›</li></ul><p>è¦æ±‚ï¼šæ¯ä¸ªæ“ä½œéƒ½åœ¨$O(logn)$çš„æ—¶é—´å†…è¿›è¡Œâ€”â€”ã€æ„å‘³ç€æˆ‘ä»¬è¦ä½¿ç”¨é«˜æ•ˆæ•°æ®ç»“æ„ã€‘ã€‚</p><h3 id="Naive-Solution"><a href="#Naive-Solution" class="headerlink" title="Naive Solution"></a>Naive Solution</h3><p>æç¤ºä¸­è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè·å¾—ä¸€ä¸ªNaiveçš„åšæ³•ã€‚åœ¨C++ä¸­ï¼Œ<code>Set</code>è¿™ä¸ªå¸¸ç”¨çš„å®¹å™¨æ˜¯ç”¨çº¢é»‘æ ‘æ¥ç»´æŠ¤çš„ï¼Œå› æ­¤è€ƒè™‘åˆ°å¢å’Œåˆ çš„é«˜æ•ˆï¼Œä¸€å¼€å§‹ä½¿ç”¨äº†è¿™ä¸ªæ•°æ®ç»“æ„ã€‚åŸºæœ¬ä¸Šæ˜¯ç®€å•æ¨¡æ‹Ÿäº†é¢˜æ„ä¸­çš„è¦æ±‚ï¼Œå¹¶ä¸”åŒæ—¶ç»´æŠ¤äº†ä¸€ä¸ª<code>map</code>ç”¨æ¥å­˜å‚¨å¯¹åº”<code>value</code>çš„æ¬¡æ•°ã€‚</p><ul><li>å¢ï¼š<code>map</code>ä¸­æ¬¡æ•°ä¸º0åˆ™åœ¨<code>set</code>ä¸­æ·»åŠ ï¼Œå¦åˆ™åœ¨å¯¹äºçš„<code>numMap</code>ä¸­+1ï¼›</li><li>åˆ ï¼š<code>map</code>ä¸­æ¬¡æ•°ä¸º1åˆ™åœ¨<code>set</code>ä¸­åˆ é™¤ï¼Œä¸º0åˆ™ä¸æ“ä½œï¼Œå¦åˆ™åœ¨å¯¹äºçš„<code>numMap</code>ä¸­-1ï¼›</li><li>æŸ¥åŒºé—´ï¼šç”¨åˆ°äº†<code>upper_bound</code>å› æ­¤è¦åœ¨<code>set</code>ä¸­æ·»åŠ ä¸€ä¸ªæœ€å¤§çš„å…ƒç´ MAXé˜²æ­¢ä¸Šç•Œçš„ä½ç½®è·‘åï¼›</li></ul><p>å¾ˆé—æ†¾ï¼Œè¿™æ ·çš„æ“ä½œçš„â€œæŸ¥åŒºé—´â€çš„æœ€å¤§æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ï¼Œä¸æ»¡è¶³éœ€æ±‚ï¼Œåœ¨2æ“ä½œè¾ƒå¤šä¸”æ•°æ®æ¯”è¾ƒåˆ†æ•£çš„æƒ…å†µä¸‹å¾ˆæ˜¾ç„¶ä¼šTLEï¼›</p><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;cstdio&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;set&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iterator&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;map&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX 2147483647</span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> Q;<span class="hljs-keyword">int</span> mod;<span class="hljs-keyword">int</span> choice;<span class="hljs-keyword">int</span> x;<span class="hljs-keyword">int</span> u, v;<span class="hljs-keyword">int</span> l, r;<span class="hljs-keyword">int</span> lans=<span class="hljs-number">0</span>;<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt;S;<span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; numMap;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">multiS</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;Q, &amp;mod);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;Q; i++)&#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;choice);        <span class="hljs-keyword">switch</span> (choice) &#123;            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);                <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod)&#123;x = (x+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(S.count(x)==<span class="hljs-number">0</span>) numMap.insert(&#123;x, <span class="hljs-number">0</span>&#125;);                numMap[x]++;                S.insert(x);                <span class="hljs-keyword">break</span>;            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);                <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod)&#123;x = (x+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(numMap[x]&gt;<span class="hljs-number">0</span>)&#123;                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, numMap[x]);                &#125; <span class="hljs-keyword">else</span> &#123;                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0\n&quot;</span>);                &#125;                <span class="hljs-keyword">if</span>(numMap[x]==<span class="hljs-number">1</span>)&#123;                    S.erase(x);                &#125;                <span class="hljs-keyword">if</span>(numMap[x]&gt;<span class="hljs-number">0</span>)&#123;                    numMap[x]--;                &#125;                <span class="hljs-keyword">break</span>;            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;u, &amp;v);                <span class="hljs-keyword">if</span>(u&gt;=<span class="hljs-number">0</span>&amp;&amp;u&lt;mod)&#123;l = (u+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(v&gt;=<span class="hljs-number">0</span>&amp;&amp;v&lt;mod)&#123;r = (v+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(l&gt;r)&#123;                    <span class="hljs-keyword">int</span> tmp = l;                    l = r;                    r = tmp;                &#125;                <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;                <span class="hljs-built_in">pair</span>&lt;<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt;::const_iterator,<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt;::const_iterator&gt; pr;                pr = S.equal_range(l);                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i=pr.second; i!=S.upper_bound(r); i++)&#123;                    <span class="hljs-keyword">int</span> t = numMap[*i];                    sum += (*i)*t;                &#125;                lans = sum;                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum);                <span class="hljs-keyword">break</span>;        &#125;    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Hello!&quot;</span>);&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    S.insert(MAX);    multiS();&#125;</code></pre><h3 id="ç»´æŠ¤Treapè§£æ³•"><a href="#ç»´æŠ¤Treapè§£æ³•" class="headerlink" title="ç»´æŠ¤Treapè§£æ³•"></a>ç»´æŠ¤Treapè§£æ³•</h3><blockquote><p>treap æ˜¯ä¸€ç§å¼±å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚treap è¿™ä¸ªå•è¯æ˜¯ tree å’Œ heap çš„ç»„åˆï¼Œè¡¨æ˜ treap æ˜¯ä¸€ç§ç”±æ ‘å’Œå †ç»„åˆå½¢æˆçš„æ•°æ®ç»“æ„ã€‚treap çš„æ¯ä¸ªç»“ç‚¹ä¸Šè¦é¢å¤–å‚¨å­˜ä¸€ä¸ªå€¼$priority$ã€‚treap é™¤äº†è¦æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ä¹‹å¤–ï¼Œè¿˜éœ€æ»¡è¶³çˆ¶èŠ‚ç‚¹çš„</p><p>$priority$å¤§äºç­‰äºä¸¤ä¸ªå„¿å­çš„$priority$ã€‚è€Œ$priority$æ˜¯æ¯ä¸ªç»“ç‚¹å»ºç«‹æ—¶éšæœºç”Ÿæˆçš„ï¼Œå› æ­¤ treap æ˜¯æœŸæœ›å¹³è¡¡çš„ã€‚</p></blockquote><p>treap åˆ†ä¸ºæ—‹è½¬å¼å’Œæ— æ—‹å¼ä¸¤ç§ã€‚ä¸¤ç§ treap éƒ½æ˜“äºç¼–å†™ï¼Œä½†æ— æ—‹å¼ treap çš„æ“ä½œæ–¹å¼ä½¿å¾—å®ƒå¤©ç”Ÿæ”¯æŒç»´æŠ¤åºåˆ—ã€å¯æŒä¹…åŒ–ç­‰ç‰¹æ€§ã€‚è¿™é‡Œä»¥é‡æ–°å®ç° <code>set&lt;int&gt;</code> ï¼ˆä¸å¯é‡é›†åˆï¼‰ä¸ºä¾‹ï¼Œä»‹ç»æ— æ—‹å¼ treapã€‚</p><p>åœ¨ä¼—å¤šé«˜æ•ˆæ•°æ®ç»“æ„ä¸­ï¼Œæˆ‘é€‰æ‹©äº†Treapã€‚ï¼ˆå› ä¸ºä¸æƒ³å†™çº¢é»‘æ ‘ï¼Œä¹Ÿä¸ä¼šç”¨è·³è¡¨ï¼‰è¿™é“é¢˜ä½¿ç”¨äº†ä¸€ä¸ª<a href="https://oi-wiki.org/ds/treap/">æ¨¡æ¿</a>â€”â€”æ¥è‡ªäºè¯¾ç¨‹åŠ©æ•™ã€‚ä½¿ç”¨æ•°ç»„å­˜äº†å‡ ä¸ªå…³äºTreapçš„å…³é”®ä¿¡æ¯â€”â€”<code>w[maxn]</code>å­˜å…¥æ¯ä¸ªç»“ç‚¹å‡ºç°çš„æ¬¡æ•°ã€<code>size</code>æ˜¯ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹çš„æ ‘çš„ç»“ç‚¹ä¹‹å’Œã€<code>val</code>ç­‰éƒ½æ˜¯ç»“ç‚¹ä¿¡æ¯ï¼›</p><p>è¿™ä¸ªé—®é¢˜çš„å…³é”®æ˜¯åˆ©ç”¨äº†å¹³è¡¡æ ‘æ±‚å¾—äº†å‰ç¼€å’Œï¼Œå› æ­¤å¯ä»¥<code>ll sum = T.querySum(T.rt, r) - T.querySum(T.rt, l);</code> å¯¹äºäºŒå‰æœç´¢æ ‘æ¥è¯´ï¼Œå…¶ä¸­ä¸€ç§æƒ…å†µï¼Œå·¦å­ç»“ç‚¹å…¨éƒ¨æ¯”æ ¹èŠ‚ç‚¹å°ï¼Œå³èŠ‚ç‚¹å…¨éƒ¨æ¯”æ ¹èŠ‚ç‚¹å¤§ï¼Œå› æ­¤å·¦å­æ ‘+æ ¹èŠ‚ç‚¹å°±æ˜¯å‰ç¼€å’Œã€‚è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå¦‚æœæ ¹èŠ‚ç‚¹æ˜¯çˆ¶æ¯èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆçˆ¶æ¯èŠ‚ç‚¹ä¹Ÿåœ¨å‰ç¼€å’Œä¸­ã€‚å› æ­¤å‰ç¼€å’Œéœ€è¦æˆ‘ä»¬é€å±‚é€’å½’æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ã€‚æ‰€ä»¥ï¼Œä¸ºäº†æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å°†<strong>æ ‘çš„å’Œ</strong>è®°å½•ä¸‹æ¥ã€‚å› æ­¤åœ¨å¢å’Œåˆ çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤å­æ ‘å’Œã€‚</p><ul><li>å¢ï¼šåœ¨æŸ¥æ‰¾ä½ç½®çš„è¿‡ç¨‹ä¸­ï¼Œæ¯åˆ°ä¸€å±‚å³ä¸ºå½“å‰æ ¹ç»“ç‚¹çš„æ ¹æ•°å’ŒåŠ ä¸Šå½“å‰<code>x</code>çš„<code>value</code>ã€‚</li><li>åˆ ï¼šæˆ‘é¢å¤–ç»´æŠ¤äº†ä¸€ä¸ªsetï¼Œä¾¿äºåˆ¤æ–­æ˜¯å¦å‘ä¸‹æŸ¥æ‰¾ã€‚å¦‚æœsetä¸­æ²¡æœ‰è¯¥æ•°ï¼Œé‚£ä¹ˆä¸è¿›è¡Œåˆ é™¤æ“ä½œï¼Œå¦‚æœæœ‰åˆ™åœ¨æ²¿é€”å‡å»å½“å‰<code>value</code>ã€‚å¹¶ä¸”å½“è¿™ä¸ªç»“ç‚¹éœ€è¦åˆ é™¤çš„åŒæ—¶ï¼Œ<code>set.erase(x)</code>ã€‚</li></ul><p>ç­‰äºä¸Šé¢çš„æ“ä½œå°†ç´¯åŠ å’Œæ‘Šé”€åˆ°äº†å¢å’Œåˆ çš„æ“ä½œä¸­ï¼›</p><p>è¿™æ ·ï¼Œå‰ç¼€å’Œå°±ååˆ†å¥½è·å¾—äº†ï¼ˆå·²ç»å­˜å‚¨è¿‡ï¼‰ï¼ŒåŒºé—´å’Œç›´æ¥å°±å¯ä»¥å¾—åˆ°ã€‚æœ€åä¸å¿˜è®°æ›´æ–°<code>lans</code>å°±ç»“æŸäº†ã€‚</p><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;set&quot;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> maxn 1000005</span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> INF (1 &lt;&lt; 30)</span><span class="hljs-keyword">int</span> n;ll mod;ll lans=<span class="hljs-number">0</span>;<span class="hljs-keyword">int</span> l[maxn], r[maxn], rnd[maxn], w[maxn];ll  size[maxn], val[maxn];<span class="hljs-built_in">set</span>&lt;ll&gt;S;<span class="hljs-comment">//wæ˜¯æƒé‡ //læ˜¯å·¦å­èŠ‚ç‚¹çš„ç´¢å¼• //ræ˜¯å³å­ç»“ç‚¹çš„ç´¢å¼• //rndæ˜¯ä¼˜å…ˆçº§ //valæ˜¯å¯¹åº”çš„ç´¢å¼• //sizeæ˜¯æ ‘çš„èŠ‚ç‚¹æ€»æ•°-&gt;å‰ç¼€å’Œ</span><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treap</span> &#123;</span>  <span class="hljs-keyword">int</span> sz, rt;  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123; size[x] = size[l[x]] + size[r[x]] + w[x]*val[x]; &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">lrotate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k)</span> </span>&#123;    <span class="hljs-keyword">int</span> t = r[k];    r[k] = l[t];    l[t] = k;    size[t] = size[k];    pushup(k);    k = t;  &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rrotate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k)</span> </span>&#123;    <span class="hljs-keyword">int</span> t = l[k];    l[k] = r[t];    r[t] = k;    size[t] = size[k];    pushup(k);    k = t;  &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!k) &#123;      sz++;      k = sz;      size[k] = x;      w[k] = <span class="hljs-number">1</span>;      val[k] = x;      rnd[k] = rand();      <span class="hljs-keyword">return</span>;    &#125;    size[k]+=x;    <span class="hljs-keyword">if</span> (val[k] == x) &#123;      w[k]++;    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val[k] &lt; x) &#123;      insert(r[k], x);      <span class="hljs-keyword">if</span> (rnd[r[k]] &lt; rnd[k]) lrotate(k);    &#125; <span class="hljs-keyword">else</span> &#123;      insert(l[k], x);      <span class="hljs-keyword">if</span> (rnd[l[k]] &lt; rnd[k]) rrotate(k);    &#125;  &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">del</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!S.count(x))        <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">if</span> (val[k] == x) &#123;      <span class="hljs-keyword">if</span> (w[k] &gt; <span class="hljs-number">1</span>) &#123;        w[k]--;        size[k]-=x;        <span class="hljs-keyword">return</span>;      &#125;      <span class="hljs-keyword">if</span> (l[k] == <span class="hljs-number">0</span> || r[k] == <span class="hljs-number">0</span>) &#123;          S.erase(x);          k = l[k] + r[k];      &#125;      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rnd[l[k]] &lt; rnd[r[k]]) &#123;        rrotate(k);        del(k, x);      &#125; <span class="hljs-keyword">else</span> &#123;        lrotate(k);        del(k, x);      &#125;    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val[k] &lt; x) &#123;      size[k]-=x;      del(r[k], x);    &#125; <span class="hljs-keyword">else</span> &#123;      size[k]-=x;      del(l[k], x);    &#125;  &#125;  <span class="hljs-function">ll <span class="hljs-title">querySum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!k) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <span class="hljs-keyword">if</span> (val[k] == x)      <span class="hljs-keyword">return</span> size[l[k]] + w[k]*val[k];    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x &gt; val[k]) &#123;      <span class="hljs-keyword">return</span> size[l[k]] + w[k]*val[k] + querySum(r[k], x);    &#125; <span class="hljs-keyword">else</span>      <span class="hljs-keyword">return</span> querySum(l[k], x);  &#125;  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">querynum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!k) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <span class="hljs-keyword">if</span> (x == val[k])&#123;        <span class="hljs-keyword">return</span> w[k];    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x &lt; val[k])&#123;        <span class="hljs-keyword">return</span> querynum(l[k], x);    &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-keyword">return</span> querynum(r[k], x);    &#125;  &#125;&#125; T;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;    srand(<span class="hljs-number">123</span>);    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;mod);    <span class="hljs-keyword">int</span> opt;    ll x;    ll v;    ll l, r;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%lld&quot;</span>, &amp;opt, &amp;x);        <span class="hljs-keyword">if</span> (opt == <span class="hljs-number">0</span>) &#123;            <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod) x = (x + lans) % mod;            S.insert(x);            T.insert(T.rt, x);        &#125;        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt == <span class="hljs-number">1</span>)&#123;            <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod) x = (x + lans) % mod;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, T.querynum(T.rt, x));            T.del(T.rt, x);        &#125;        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt == <span class="hljs-number">2</span>) &#123;            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;v);            <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod) l = (x+lans)%mod;            <span class="hljs-keyword">if</span>(v&gt;=<span class="hljs-number">0</span>&amp;&amp;v&lt;mod) r = (v+lans)%mod;            <span class="hljs-keyword">if</span>(l&gt;r)&#123;                ll tmp = l;                l = r;                r = tmp;            &#125;            ll sum = T.querySum(T.rt, r) - T.querySum(T.rt, l);            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, sum);            lans = sum;        &#125;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><h3 id="æµ‹è¯•ç”ŸæˆPythonä»£ç "><a href="#æµ‹è¯•ç”ŸæˆPythonä»£ç " class="headerlink" title="æµ‹è¯•ç”ŸæˆPythonä»£ç "></a>æµ‹è¯•ç”ŸæˆPythonä»£ç </h3><p>ä»¥ä¸‹æ˜¯debugè¿‡ç¨‹ä¸­ç”¨åˆ°çš„ç”Ÿæˆæµ‹è¯•æ•°æ®çš„ä»£ç ï¼Œæ¬¢è¿å–ç”¨( Â´ â–½ ` )ï¾‰ï¼</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> cyaron <span class="hljs-keyword">import</span> *<span class="hljs-keyword">import</span> random<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">genTest</span>(<span class="hljs-params">n</span>):</span>    test_data = IO(file_prefix=<span class="hljs-built_in">str</span>(n))    t = randint(<span class="hljs-number">1</span>, <span class="hljs-number">1000</span>)    mod = randint(<span class="hljs-number">1</span>, <span class="hljs-number">1000000</span>)    test_data.input_write(t)    test_data.input_write(<span class="hljs-string">&quot; &quot;</span>)    test_data.input_writeln(mod)    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, t):        a = randint(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>)        test_data.input_write(a)        test_data.input_write(<span class="hljs-string">&quot; &quot;</span>)        test_data.input_write(randint(<span class="hljs-number">1</span>, <span class="hljs-number">1000000</span>))        <span class="hljs-keyword">if</span> a==<span class="hljs-number">2</span>:            test_data.input_write(<span class="hljs-string">&quot; &quot;</span>)            test_data.input_writeln(randint(<span class="hljs-number">1</span>, <span class="hljs-number">1000000</span>))        <span class="hljs-keyword">else</span>:            test_data.input_writeln()    test_data.output_gen(<span class="hljs-string">&quot;...&quot;</span>)<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>):        genTest(i)</code></pre>]]></content>
    
    
    <categories>
      
      <category>OJ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>OJ</tag>
      
      <tag>å¹³è¡¡æ ‘</tag>
      
      <tag>Treap</tag>
      
      <tag>BST</tag>
      
      <tag>æ¨¡æ¿</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BalanceSegmentPainting</title>
    <link href="/2020/12/05/BalanceSegmentPainting/"/>
    <url>/2020/12/05/BalanceSegmentPainting/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>Thereâ€™s a segment ğ¼=[0,ğ‘›] initially painted with color white. Nezzar chooses a permutation ğ‘p of [ğ‘›]={1,2,â‹¯,ğ‘›}, and repaint the segment in the following way.</p><ul><li>In the ğ‘–-th day, he repaints segment [ğ‘ğ‘–âˆ’1,ğ‘ğ‘–] with color black.</li></ul><p>Define the balance of segment ğ¼ as the length of the largest continuous subsegment ğ¼â€² painted <strong>in black</strong>. Nezzar challenges you to calculate the balance of segment ğ¼ right after the ğ‘–-th day for <em>1</em>â‰¤ğ‘–â‰¤ğ‘›.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input contains a single integer ğ‘› (1â‰¤ğ‘›â‰¤10<sup>6</sup>).</p><p>The following line contains ğ‘› integers ğ‘<sub>1</sub>,ğ‘<sub>2</sub>,â€¦,ğ‘<sub>ğ‘›</sub> (1â‰¤ğ‘<sub>ğ‘–</sub>â‰¤ğ‘›).</p><p>It is gauranteed that ğ‘<sub>1</sub>,ğ‘<sub>2</sub>,â€¦,ğ‘<sub>ğ‘›</sub> forms a permutation of [ğ‘›].</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Output ğ‘› balance values in one line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><pre><code class="hljs python"><span class="hljs-number">5</span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><pre><code class="hljs python"><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">5</span></code></pre><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>You might want to use the disjoint sets data structure.</p><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™å®šä¸€ä¸ªæ•°ç»„è¡¨ç¤ºä¸€æ®µç™½è‰²çš„å¸ƒï¼Œå®ƒæœ‰$n$ä¸ªæ ¼å­ï¼Œæ¯å¤©æŸ“é»‘ä¸€ä¸ªæ ¼å­ï¼Œé—®æ¯å¤©æœ€é•¿çš„è¿ç»­é»‘è‰²æ®µæœ‰å¤šé•¿ï¼Ÿ</p><ul><li>â¬œï¸ â¬œï¸ â¬œï¸ â¬œï¸ â¬œï¸         0-day            0-balance</li><li>â¬›ï¸ â¬œï¸ â¬œï¸ â¬œï¸ â¬œï¸         1-day            1-balance            1</li><li>â¬›ï¸ â¬›ï¸ â¬œï¸ â¬œï¸ â¬œï¸         2-day            2-balance            2</li><li>â¬›ï¸ â¬›ï¸ â¬œï¸ â¬œï¸ â¬›ï¸         3-day            2-balance            5</li><li>â¬›ï¸ â¬›ï¸ â¬œï¸ â¬›ï¸ â¬›ï¸         4-day            2-balance            4</li><li>â¬›ï¸ â¬›ï¸ â¬›ï¸ â¬›ï¸ â¬›ï¸         5-day            5-balance            3</li></ul><p>æç¤ºä¸­è¯´ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å¹¶æŸ¥é›†ã€‚è¿™æ˜¯ä¸€é“å¾ˆæ ‡å‡†çš„å¹¶æŸ¥é›†çš„æ¨¡æ¿é¢˜ã€‚åªéœ€è¦ç¨åŠ ä¿®æ”¹å°±å¯ä»¥é€šè¿‡äº†ã€‚æ¯ä¸ªæŸ“é»‘çš„æ®µæ˜¯ä¸€ä¸ªé›†åˆï¼Œæ¯æ¬¡æŸ“ä¹‹å’Œåªéœ€è¦æŸ¥æ‰¾èƒ½ä¸èƒ½å’Œå·¦å³ä¸¤è¾¹çš„æ ¼å­å¹¶æˆä¸€ä¸ªé›†åˆå³å¯ï¼</p><p>æ³¨æ„ï¼Œä¸ºäº†å‡å°‘å†…å­˜çš„ä½¿ç”¨å’Œæ—¶é—´æ¶ˆè€—ï¼Œæˆ‘æŠŠæ¯ä¸ªå¹¶æŸ¥é›†çš„ç»“ç‚¹æ•°æ”¾åœ¨äº†æ ¹èŠ‚ç‚¹ä¸­ï¼Œå¹¶ä»¥è´Ÿæ•°è¡¨ç¤ºæ ¹èŠ‚ç‚¹ã€‚ä¸ºäº†æ›´åŠ é«˜æ•ˆï¼Œæˆ‘ä»¬è¿˜åº”è¯¥åœ¨æŸ¥æ‰¾çš„åŒæ—¶è¿›è¡Œå‹ç¼©ã€‚</p><p>åº”è¯¥æ˜¯æœ¬æ¬¡ojæœ€å®¹æ˜“è§£å†³çš„ä¸€é“é¢˜äº†orz</p><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iostream&quot;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> n;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; f;<span class="hljs-keyword">int</span> res=<span class="hljs-number">0</span>;<span class="hljs-keyword">int</span> r;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span></span>&#123;    <span class="hljs-keyword">if</span>(f[k]==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">//æ²¡è¢«æŸ“é»‘</span>    <span class="hljs-keyword">if</span>(f[k]&lt;<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> k;   <span class="hljs-comment">//æ ¹èŠ‚ç‚¹æ˜¯è´Ÿæ•°</span>    <span class="hljs-keyword">return</span> f[k]=Find(f[k]); <span class="hljs-comment">//é›†å›¢æŸ“é»‘ï¼ŒåŒæ—¶å‹ç¼©èŠ‚ç‚¹ï¼›</span>&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span>&#123;    <span class="hljs-keyword">int</span> fa = Find(a);    <span class="hljs-comment">//ä¸¤ä¸ªéƒ½æ˜¯æ­£æ•°</span>    <span class="hljs-keyword">int</span> fb = Find(b);    <span class="hljs-comment">//faå’Œfbæ˜¯aå’Œbçš„æ ¹çš„ä½ç½®</span>    <span class="hljs-keyword">if</span>(fa != fb)&#123;        <span class="hljs-keyword">int</span> numA = f[fa];  <span class="hljs-comment">//è¿™ä¸ªæ•°æ˜¯è´Ÿçš„ï¼›</span>        <span class="hljs-keyword">int</span> numB = f[fb];  <span class="hljs-comment">//ä¹Ÿæ˜¯è´Ÿçš„ï¼›</span>        <span class="hljs-keyword">int</span> numAll = numA + numB;        f[fa] = fb;      <span class="hljs-comment">//façš„æ ¹æ¢æˆäº†fb</span>        f[fb] = numAll;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);    f= <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n+<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;r);        f[r] = <span class="hljs-number">-1</span>;  <span class="hljs-comment">//æ–°æŸ“è‰²ï¼Œè‡ªå·±æ˜¯è‡ªå·±çš„æ ¹ï¼›</span>        <span class="hljs-keyword">int</span> left = Find(r<span class="hljs-number">-1</span>);  <span class="hljs-comment">//è¿”å›çš„æ˜¯ä½ç½®</span>        <span class="hljs-keyword">int</span> right = Find(r+<span class="hljs-number">1</span>);        <span class="hljs-keyword">if</span>(left&gt;<span class="hljs-number">0</span>) Union(r, left);    <span class="hljs-comment">//ä¸¤ä¸ªä½ç½®Union</span>        <span class="hljs-keyword">if</span>(right&gt;<span class="hljs-number">0</span>) Union(r, right);        <span class="hljs-keyword">int</span> t = -f[Find(r)];        <span class="hljs-keyword">if</span>(t &gt; res) res = t;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, res);    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>OJ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¹¶æŸ¥é›†</tag>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>OJ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GodMiner</title>
    <link href="/2020/12/04/GodMiner/"/>
    <url>/2020/12/04/GodMiner/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>Nezzar is addicted to game Gold Miner recently.</p><p>Gold Miner is a game in which the player is in an ğ‘›Ã—ğ‘›nÃ—n grid, and the goal is to collect gold without entering forbidden area. It is known that cell (ğ‘–,ğ‘—)(i,j) is forbidden to enter if and only if $i=j$ or $i=j+1$.</p><p>In one round, Nezzar may choose two non-empty sets $X,YâŠ†[n]$, and collect gold in cell $(i,j)$ for all $iâˆˆX,jâˆˆY$. However, he immediately fails if there exists $iâˆˆX$ and $jâˆˆY$ such that $(i,j)$ is forbidden to enter.</p><p>As a greedy miner, Nezzar would like to enter all but forbidden cells to collect gold. However, he is running out of time! <strong>He can only play the game for at most $50$ rounds.</strong> Can you design an algorithm to solve this problem for him?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>One line containing one integer $n (2â‰¤nâ‰¤3000)$, the size of the grid.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p><strong>Please read this part carefully, as you may fail to pass the test cases if you have formating issues.</strong></p><p>For each round with subsets $X,Y$ being chosen, output elements in $X$ <strong>increasingly</strong> in the first line, and then output elements in $Y$ <strong>increasingly</strong> in the second line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><pre><code class="hljs c++"><span class="hljs-number">3</span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><pre><code class="hljs c++"><span class="hljs-number">1</span><span class="hljs-number">2</span> <span class="hljs-number">3</span><span class="hljs-number">1</span> <span class="hljs-number">2</span><span class="hljs-number">3</span><span class="hljs-number">3</span><span class="hljs-number">1</span></code></pre><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>It is <strong>allowed</strong> to enter some cells multiple times!</p><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>Believe it or not, we can use divide-and-conquer technique to solve this task.</p><p>Let $T(n)$ denote the number of rounds we need to solve the above task with parameter $n$. Notice that $T(n)=T(n/2)+O(1)$ implies $T(n)=O(logâ¡n)$, and we may need an algorithm satisfying this recurrence to solve the problem.</p><h3 id="å¤§è‡´é¢˜æ„"><a href="#å¤§è‡´é¢˜æ„" class="headerlink" title="å¤§è‡´é¢˜æ„"></a>å¤§è‡´é¢˜æ„</h3><p>æœ‰ä¸€ä¸ª$nÃ—n$çš„æ£‹ç›˜ï¼Œåœ¨ä¸»å¯¹è§’çº¿çš„ä¸¤æ’æ˜¯ä¸å…è®¸å¼€é‡‡çš„ç¦åŒºï¼Œå¦‚ä¸‹å›¾ã€‚æ¯ä¸€æ¬¡æˆ‘ä»¬å¯ä»¥é€‰ä¸¤ä¸ªæ¨ªçºµåæ ‡çš„é›†åˆ$X$å’Œ$Y$ã€‚å¯¹äºä¸¤ä¸ªé›†åˆæ‰€æœ‰å…ƒç´ ç»„æˆçš„ç‚¹$(x, y)$è¿›è¡Œå¼€é‡‡ã€‚æ³¨æ„ï¼Œè¿™ä¸ªç‚¹ä¸å¯ä»¥æ˜¯ç¦åŒºã€‚å¯ä»¥é‡å¤å¼€é‡‡åŒä¸€ä¸ªç‚¹ï¼Œä½†æ˜¯æ€»é€‰æ‹©æ¬¡æ•°ä¸å¯ä»¥è¶…è¿‡50æ¬¡ï¼ˆæœ€å¤šé€‰100ä¸ªé›†åˆï¼‰ã€‚ä»»ä½•æœ‰æ•ˆçš„å¼€é‡‡æ–¹æ³•éƒ½ä¼šè¢«åˆ¤å¯¹ã€‚</p><p><img src="/img/DS/æ£‹ç›˜.png" alt="çŸ¿åŒº"></p><h3 id="Naive-Solution"><a href="#Naive-Solution" class="headerlink" title="Naive Solution"></a>Naive Solution</h3><p>åˆšå¼€å§‹çœ‹è¿™é“é¢˜ï¼Œä»¥ä¸ºè¿™é“é¢˜éå¸¸ç®€å•ã€‚å› ä¸ºæ„Ÿè§‰ä¸€çœ¼å°±å¯ä»¥çœ‹å‡ºåˆ†æ²»ä¸ºå·¦ä¸Šè§’å’Œå³ä¸‹è§’ä¸¤ä¸ªéƒ¨åˆ†ã€‚ç„¶åå†™å‡ºäº†ä»¥ä¸‹è¿™æ ·çš„ä»£ç ï¼š</p><ul><li>å¯¹äºåªæœ‰ä¸€ä¸ªå¯å¼€é‡‡çš„åŒºåŸŸï¼Œç›´æ¥è¿”å›è¿™ä¸ªå¼€é‡‡çš„ç»“æœï¼ˆä¸‹é¢çš„ä»£ç æ²¡å†™å‡ºæ¥ã€‚ã€‚ã€‚ï¼‰</li><li>å¯¹äºä¸¤ä¸ªçš„æƒ…å†µï¼Œå¼€é‡‡å³ä¸Šè§’ï¼›</li><li>ç„¶ååˆ†å¥‡å¶æƒ…å†µï¼Œåšä¸åŒçš„åˆ†å‰²ï¼›</li></ul><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iostream&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> n;<span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">miner</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right, <span class="hljs-keyword">int</span> up, <span class="hljs-keyword">int</span> down)</span></span>&#123;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">2</span>) &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, up);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, right);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">int</span> tmp = (s+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> != <span class="hljs-number">0</span>)&#123;        miner(tmp, left, left+tmp<span class="hljs-number">-1</span>, up, down-tmp+<span class="hljs-number">1</span>);        miner(tmp, right-tmp+<span class="hljs-number">1</span>, right, up+tmp<span class="hljs-number">-1</span>, down);        <span class="hljs-comment">//å³ä¸Š</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, right-tmp+<span class="hljs-number">2</span>+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);        <span class="hljs-comment">//å·¦ä¸‹</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+tmp+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, left+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);    &#125;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> == <span class="hljs-number">0</span>)&#123;        miner(tmp+<span class="hljs-number">1</span>, left, left+tmp, up, up+tmp);        miner(tmp, right-tmp+<span class="hljs-number">1</span>, right, down-tmp+<span class="hljs-number">1</span>, down);        <span class="hljs-comment">//å³ä¸Š</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp<span class="hljs-number">-1</span>; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, left+tmp+<span class="hljs-number">1</span>+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);        <span class="hljs-comment">//å·¦ä¸‹</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp<span class="hljs-number">-1</span>; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+tmp+<span class="hljs-number">1</span>+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, left+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">cin</span> &gt;&gt; n;    miner(n, <span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>, n);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><p>ç„¶åä¸å‡ºæ„å¤–ä¼šå‘ç°ï¼šè¿™ä¹ˆåšæ¶ˆè€—çš„æ¬¡æ•°æ¯”ä¸€è¡Œä¸€è¡Œéå†è¿˜è¦é«˜â€”â€”å› ä¸ºæ¯ä¸€ä¸ªç¦åŒºè¾¹ç¼˜çš„åŒºåŸŸéƒ½è½¬åŒ–æˆäº†ä¸€ä¸ªå°æ–¹æ ¼å»å¼€é‡‡ã€‚å°è±¡ä¸­è¿™æ ·çš„åšæ³•å¤§æ¦‚è¿›è¡Œäº†8700å¤šæ¬¡â€¦â€¦</p><h3 id="æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•"><a href="#æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•" class="headerlink" title="æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•"></a>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•</h3><p>è¿™ä¸ä¸€å®šæ˜¯æ›´å¥½çš„æ–¹æ³•ï¼ˆå› ä¸ºé‡å¤æŒ–äº†å¾ˆå¤šæ–¹æ ¼ï¼‰ï¼Œä½†æ˜¯æ˜¯æœ€èŠ‚çœé›†åˆé€‰æ‹©æ¬¡æ•°ï¼ˆä¸Šé™50æ¬¡ï¼‰çš„æ–¹æ³•ã€‚</p><p>ä¸»è¦çš„æ€è·¯æ˜¯â€”â€”<strong>åŒæ—¶æœç´¢å·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹ï¼Œä»¥èŠ‚çœæ¬¡æ•°</strong>ï¼Œè¿™æ ·å°±</p><p>å› ä¸ºåœ¨ä½¿ç”¨åˆ†æ²»é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæ— æ³•ä½¿å¾—æ¯ä¸€è½®çš„$X$å’Œ$Y$å¯¹åº”è¢«æ‰“å°ï¼Œä¹Ÿæ— æ³•ä½¿å¾—ä¸å¹²æ‰°çš„åŒºåŸŸä¹‹é—´åŒæ—¶è¢«æœç´¢ï¼Œå› æ­¤ä½¿ç”¨äº†<code>vector&lt;vector&lt;int&gt;&gt; solution(50, vector&lt;int&gt;())</code>å°†ç­–ç•¥å­˜å‚¨åœ¨å®¹å™¨ä¹‹ä¸­ï¼›å› ä¸ºå¯¹ç­”æ¡ˆæœ‰éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿›è¡Œéå†çš„æ—¶å€™ä¹Ÿè¦ä»å°æ¬¡åºå¼€å§‹ï¼Œä½¿ç”¨<code>push_back</code>ç›´æ¥æŠŠå…ƒç´ æ”¾å…¥æœ«å°¾å³å¯ã€‚</p><p>å¯¹äº$n$æ¯”è¾ƒå°çš„æƒ…å†µï¼Œæ¯”å¦‚$n \leq 7$çš„æƒ…å†µï¼Œä»ç„¶æ˜¯ä¸€è¡Œä¸€è¡Œéå†çš„æƒ…å†µæ¬¡æ•°æ›´å°‘ï¼›å› æ­¤å¹¶æ²¡æœ‰è¿›è¡Œæ“ä½œï¼Œç›´æ¥æš´åŠ›<code>push_back</code>(._.)</p><p>å¯¹äº$n$æ¯”è¾ƒå¤§çš„æƒ…å†µæˆ‘ä»¬å°±ä¸èƒ½éå†äº†ã€‚</p><p>æˆ‘è¿˜æ˜¯ä½¿ç”¨äº†<strong>åˆ†å¥‡å¶</strong>çš„æ€è·¯ï¼Œå¹¶åŒæ—¶æœç´¢å››å—åŒºåŸŸã€‚</p><p>å…ˆä»¥å¶æ•°$n=10$ä¸ºä¾‹ï¼š</p><p><img src="/img/DS/å¶æŒ–æ³•.png" alt=""></p><p>è·Ÿæ˜æ˜¾ï¼šå·¦ä¸Šå’Œå³ä¸‹æ˜¯$n = 4$çš„æƒ…å†µï¼Œå³ä¸Šå’Œå·¦ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ­£æ–¹å½¢ï¼Œä¸­é—´æœ‰ä¸¤è¡Œåå­—å½¢çš„åŒºåŸŸã€‚æˆ‘çš„å¤„ç†ç­–ç•¥æ˜¯ï¼šé€’å½’å¤„ç†å·¦ä¸Šå’Œå³ä¸‹çš„å­æƒ…å†µï¼Œè€—æ—¶ï¼š<code>miner(4)</code>ï¼›å·¦ä¸‹å’Œå³ä¸Šå®Œæ•´çš„æ­£æ–¹å½¢ï¼š2æ¬¡ï¼ˆæ•´ä¸ªæŒ–å»æ­£æ–¹å½¢ï¼‰ï¼›åå­—å½¢ç›´æ¥éå†æ¨ªç«–ï¼š2æ¬¡ï¼›</p><script type="math/tex; mode=display">log_23000 = 11.5</script><p>é‚£ä¹ˆå¦‚æœæ¯è½®è¿›è¡Œ4æ¬¡çš„è¯ï¼Œå¤§è‡´ä¼šè¿›è¡Œ46æ¬¡ï¼›</p><p>è‡³äºå¥‡æ•°ï¼Œä»¥$n=11$ä¸ºä¾‹ï¼šä¸å¤šè§£é‡Šå•¦ï¼Œçœ‹å›¾å°±èƒ½æ˜ç™½å•¦</p><p><img src="/img/DS/å¥‡æŒ–æ³•.png" alt=""></p><p>è‡³äºæˆ‘çš„ä»£ç å¤ªè¿‡ä¸‘é™‹ï¼Œç”šè‡³å®ç°çš„è¿˜å’Œä»¥ä¸Šè¯´çš„æœ‰ä¸€äº›ä¸ä¸€æ ·â€¦â€¦(._.)</p><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iostream&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> n;<span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; <span class="hljs-title">solutionX</span><span class="hljs-params">(<span class="hljs-number">50</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;())</span></span>;<span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; <span class="hljs-title">solutionY</span><span class="hljs-params">(<span class="hljs-number">50</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;())</span></span>;<span class="hljs-keyword">int</span> check;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mineSq</span><span class="hljs-params">(<span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right, <span class="hljs-keyword">int</span> up, <span class="hljs-keyword">int</span> down)</span></span>&#123;    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;= down; i++)&#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;= right; i++)&#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">miner</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right, <span class="hljs-keyword">int</span> up, <span class="hljs-keyword">int</span> down, <span class="hljs-keyword">int</span> opr)</span></span>&#123;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">3</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(right);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(right);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">4</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">5</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">6</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">5</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> == <span class="hljs-number">1</span>)&#123;        <span class="hljs-keyword">int</span> mid = (s+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left+mid; i&lt;=right; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;=up+mid<span class="hljs-number">-2</span>; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=left+mid<span class="hljs-number">-2</span>; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up+mid; i&lt;=down; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid<span class="hljs-number">-1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=right; i++)&#123;            <span class="hljs-keyword">if</span>(i==left+mid<span class="hljs-number">-2</span> || i==left+mid<span class="hljs-number">-1</span>) <span class="hljs-keyword">continue</span>;            solutionY[opr].push_back(i);        &#125;        opr++;        solutionY[opr].push_back(left+mid<span class="hljs-number">-1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;=down; i++)&#123;            <span class="hljs-keyword">if</span>(i==up+mid<span class="hljs-number">-1</span> || i==up+mid) <span class="hljs-keyword">continue</span>;            solutionX[opr].push_back(i);        &#125;        opr++;        miner(mid<span class="hljs-number">-1</span>, left, left+mid<span class="hljs-number">-2</span>, up, up+mid<span class="hljs-number">-2</span>, opr);        miner(mid<span class="hljs-number">-1</span>, left+mid, right, up+mid, down, opr);        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> == <span class="hljs-number">0</span>)&#123;        <span class="hljs-keyword">int</span> mid = s/<span class="hljs-number">2</span>;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left+mid<span class="hljs-number">-1</span>; i&lt;=right; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;=up+mid<span class="hljs-number">-2</span>; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=left+mid; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up+mid+<span class="hljs-number">2</span>; i&lt;=down; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid<span class="hljs-number">-1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=right; i++)&#123;            <span class="hljs-keyword">if</span>(i==left+mid<span class="hljs-number">-2</span> || i==left+mid<span class="hljs-number">-1</span>) <span class="hljs-keyword">continue</span>;            solutionY[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=right; i++)&#123;            <span class="hljs-keyword">if</span>(i==left+mid || i==left+mid<span class="hljs-number">-1</span>) <span class="hljs-keyword">continue</span>;            solutionY[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid+<span class="hljs-number">1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=left+mid<span class="hljs-number">-1</span>; i++)&#123;            solutionY[opr].push_back(i);        &#125;        opr++;        miner(mid<span class="hljs-number">-1</span>, left, left+mid<span class="hljs-number">-2</span>, up, up+mid<span class="hljs-number">-2</span>, opr);        miner(mid<span class="hljs-number">-1</span>, left+mid+<span class="hljs-number">1</span>, right, up+mid+<span class="hljs-number">1</span>, down, opr);        <span class="hljs-keyword">return</span>;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">cin</span> &gt;&gt; n;    miner(n, <span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>, n, <span class="hljs-number">0</span>);    <span class="hljs-comment">//cout &lt;&lt; check &lt;&lt; endl;</span>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;check; i++)&#123;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;solutionX[i].size(); j++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, solutionX[i][j]);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>; k&lt;solutionY[i].size(); k++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, solutionY[i][k]);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><h3 id="æ£‹ç›˜pythonç”Ÿæˆä»£ç "><a href="#æ£‹ç›˜pythonç”Ÿæˆä»£ç " class="headerlink" title="æ£‹ç›˜pythonç”Ÿæˆä»£ç "></a>æ£‹ç›˜pythonç”Ÿæˆä»£ç </h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">grid</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):            <span class="hljs-keyword">if</span> i==j <span class="hljs-keyword">or</span> i==j+<span class="hljs-number">1</span>:                print(<span class="hljs-string">&quot;ã„¨ &quot;</span>, end=<span class="hljs-string">&quot;&quot;</span>)            <span class="hljs-keyword">else</span>:                print(<span class="hljs-string">&quot;â¬œ &quot;</span>, end=<span class="hljs-string">&quot;&quot;</span>)        print()<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    grid(<span class="hljs-number">11</span>)</code></pre>]]></content>
    
    
    <categories>
      
      <category>OJ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ†æ²»</tag>
      
      <tag>Divide and Conquer</tag>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>OJ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LargeSumSubarray</title>
    <link href="/2020/12/04/LargeSumSubarray/"/>
    <url>/2020/12/04/LargeSumSubarray/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>Nezzar has recently learnt how to find maximum subarray in the algorithm class. However, he finds out that in many cases, subarray with large sum is sufficient. Thus, he would like to know the number of subarrays with sum <strong>greater than</strong> $t$ for a sequence $a$.</p><p>Formally, you are given a sequence $a_1,a_2, â€¦ ,a_n$. </p><p>you are required to calculate the number of pairs $(i,j)$ such that $1 \le i \le j \le n$ and $\sum_{k=i}^j a_k &gt; t$.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains integers $(n,t) ((1 \le n \le 10^6, -10^{15} \le t \le 10^{15}))$; that is, the length of the given sequence and the threshold. The next line contains $n$ integers $a_1,a_2, â€¦ ,a_n$ where $(-10^9 \le a_i \le 10^9)$, describing the given sequence.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Output one integer, the number of pairs $(i,j)$ satisfying the requirements mentioned above.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><pre><code class="hljs python"><span class="hljs-number">5</span> <span class="hljs-number">8</span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">-1</span> <span class="hljs-number">4</span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><pre><code class="hljs python"><span class="hljs-number">1</span></code></pre><h3 id="Hints"><a href="#Hints" class="headerlink" title="Hints"></a>Hints</h3><p>You may need to design an $O(n \log n)$ time divide-and-conquer algorithm to pass all testcases. It is recommended to use C/C++ instead of Python or Java.</p><h3 id="å¤§è‡´é¢˜æ„"><a href="#å¤§è‡´é¢˜æ„" class="headerlink" title="å¤§è‡´é¢˜æ„"></a>å¤§è‡´é¢˜æ„</h3><p>ç»™å®šä¸€ä¸²æ•°åˆ—$a_n$å’ŒæŸä¸ªæ•°$t$ï¼Œæ±‚æ•´ä¸²æ•°åˆ—ä¸­æœ‰å¤šå°‘ä¸ªè¿ç»­çš„å­ä¸² which å’Œå¤§äº$t$ã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>é¦–å…ˆï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æƒå€¼çº¿æ®µæ•°æ®ç»“æ„è§£å†³æœ¬é¢˜ã€‚ä½†è¿™å¹¶éæœ¬æ¬¡OJçš„å‡ºé¢˜ç›®çš„ï¼Œå› æ­¤ä¸å¤šèµ˜è¿°ï¼ˆä¸»è¦å› ä¸ºæˆ‘ä¹Ÿä¸ä¼šğŸ˜…ï¼‰</p><p>æ‰€ä»¥è¿™æ¬¡è€ƒè™‘çš„æ˜¯ä½¿ç”¨å‰ç¼€å’Œåˆ†æ²»å†ç”¨å°ºå–æ³•ã€‚</p><p>è€ƒè™‘å­åºåˆ—å’Œæ—¶ï¼Œå‰ç¼€å’Œ$sum[0], sum[1], â€¦ , sum[n]$æ˜¯å¸¸ç”¨åˆ°çš„æ–¹æ³•ã€‚ä»è€Œä½¿å¾—$p$åˆ°$q$çš„å­åˆ—å’Œå¯ä»¥è¡¨ç¤º$sum[q] - sum[p]$ã€‚å¯¹äºæ­¤é¢˜ä¸­çš„æƒ…å†µï¼Œæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘ä½¿å¾—$sum[q] - sum[p] \gt t$ï¼Œå°±è¿™æ ·å¯ä»¥è½¬åŒ–ä¸º$sum[q] \gt t + sum[p]$ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè€ƒè™‘ä¸€ä¸ªæ™®é€šçš„æƒ…å†µã€‚å¯¹äºä¸€ä¸ªå‰ç¼€å’Œæ•°åˆ—$sum[0], sum[1], â€¦ , sum[n]$ï¼Œå°†å®ƒä¸€åˆ†ä¸ºäºŒï¼Œå·¦è¾¹ä¸€åŠçš„æ¯ä¸ªå…ƒç´ é€ä¸ªä¸å³è¾¹ä¸€åŠçš„æ¯ä¸ªå…ƒç´ ä¸tä¹‹å’Œæ¯”è¾ƒã€‚å¦‚æœæ»¡è¶³$sum[q] \gt t + sum[p]$ã€‚è¯´æ˜æˆç«‹ã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æ’åºä½¿å¾—æ•´ä¸ªè¿‡ç¨‹æ›´åŠ ç®€å•ã€‚æˆ‘ä»¬åœ¨è®²æ•°ç»„ä¸€åˆ†ä¸ºäºŒçš„åŒæ—¶è¿˜å¯ä»¥è¿›è¡Œå½’å¹¶æ’åºã€‚ä½¿ç”¨C++åº“å‡½æ•°ä¸­çš„<code>inplace_merge</code>ï¼Œåœ¨åŸæ•°ç»„çš„ä½ç½®å¹¶æ’ä¸ºå‡åºã€‚</p><p>å…³äº<code>inplace_merge</code>å‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªä½ç½®å‚æ•°â€”â€”<code>start</code>ï¼Œ<code>mid</code>ï¼Œ<code>end</code>ã€‚æ“ä½œä¹‹åå°†<code>start</code>åˆ°<code>end</code>çš„ä½ç½®çš„æ•°ç»„å½’å¹¶æ’åºã€‚</p><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;algorithm&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;ll n;ll t;ll a[<span class="hljs-number">1000001</span>];ll ans=<span class="hljs-number">0</span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span>&#123;    <span class="hljs-keyword">if</span>(l==r) <span class="hljs-keyword">return</span> ;    <span class="hljs-keyword">int</span> m=(l+r)&gt;&gt;<span class="hljs-number">1</span>;    <span class="hljs-keyword">int</span> i=l,j=m+<span class="hljs-number">1</span>;    merge(l,m);merge(m+<span class="hljs-number">1</span>,r);    <span class="hljs-keyword">for</span>(;i&lt;=m;i++,ans+=r-j+<span class="hljs-number">1</span>)&#123;        <span class="hljs-keyword">for</span>(;j&lt;=r&amp;&amp;a[j]&lt;=t+a[i];) j++;    &#125;    inplace_merge(a+l,a+m+<span class="hljs-number">1</span>,a+r+<span class="hljs-number">1</span>);&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;n);    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;t);    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;a[i]);        a[i] += a[i - <span class="hljs-number">1</span>];    &#125;    merge(<span class="hljs-number">0</span>, n);    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, ans);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><p>å¦‚ä½•ä¿è¯ä¸æ‰¾åˆ°é‡å¤çš„å­—åºåˆ—ï¼Ÿå› ä¸ºäºŒåˆ†çš„ä¸¤ä¸ªéƒ¨åˆ†éƒ½æ˜¯å·²ç»æœç´¢ç»“æŸçš„ï¼Œä»–ä»¬å†…éƒ¨å·²ç»æœç´¢å®Œæ¯•ï¼Œè€Œä¸ä¼šåœ¨åç»­è¢«é‡å¤æœç´¢ï¼Œå› æ­¤ä¸ä¼šå‡ºç°å¤šæ•°ä¸€æ¬¡çš„æƒ…å†µã€‚</p><p>å½“æˆ‘ä»¬æ‹¿åˆ°äº†å·²ç»æ’å¥½åºä¸”ç»Ÿè®¡è¿‡çš„ä¸¤éƒ¨åˆ†ï¼Œå¯¹å·¦è¾¹çš„éƒ¨åˆ†ä¸­æ¯ä¸€ä¸ªå…ƒç´ éå†å³è¾¹éƒ¨åˆ†ã€‚å› ä¸ºä¸¤ä¸ªéƒ¨åˆ†å·²ç»æ˜¯å‡åºçš„ï¼Œå› æ­¤éå†çš„è¿‡ç¨‹ä¸­åªè¦æ‰¾åˆ°$sum[q] \gt t + sum[p]$ï¼Œå°±å¯ä»¥ç»ˆæ­¢å¾ªç¯ï¼Œå¹¶ä¸”å°†å‰©ä½™çš„å‰ç¼€å’Œæ•°é‡åŠ å…¥<code>ans</code>å°±å¯ä»¥äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>OJ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ†æ²»</tag>
      
      <tag>Divide and Conquer</tag>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>OJ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-6</title>
    <link href="/2020/05/03/CoreJava-6/"/>
    <url>/2020/05/03/CoreJava-6/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-6-æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»"><a href="#Chapter-6-æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»" class="headerlink" title="Chapter 6 æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»"></a>Chapter 6 æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»</h3><ol><li>æ¥å£æ˜¯å¯¹ç±»çš„ä¸€ç»„éœ€æ±‚æè¿°ã€‚<ul><li>æ¥å£ä¸èƒ½å«æœ‰å®ä¾‹åŸŸã€‚</li><li>å®ç°ä¸€ä¸ªæ¥å£çš„æ­¥éª¤ï¼šâ‘ å°†ç±»å£°æ˜ä¸ºå®ç°ç»™å®šçš„æ¥å£ã€‚â‘¡å¯¹æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå®šä¹‰ã€‚</li><li>å¯ä»¥åˆ©ç”¨æ³›å‹ä¸ºæ¥å£æä¾›ä¸€ä¸ªç±»å‹å‚æ•°ã€‚</li></ul></li><li>æ¥å£çš„ç‰¹æ€§<ul><li>æ¥å£å¯ä»¥è¢«æ‹“å±•ã€‚</li><li>æ¥å£ä¸­å¯ä»¥åŒ…å«å¸¸é‡ã€‚</li><li>æ¥å£ä¸­çš„åŸŸå°†è¢«è‡ªåŠ¨è®¾ä¸ºpublic static finalã€‚</li><li>æ¯ä¸ªç±»å¯ä»¥æ‹¥æœ‰å¤šä¸ªæ¥å£ã€‚</li></ul></li><li><strong>ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œå´å¯ä»¥æœ‰å¤šä¸ªæ¥å£ã€‚</strong></li><li>é»˜è®¤æ–¹æ³•ï¼Œå¯ä»¥ä¸ºæ¥å£æ–¹æ³•æä¾›ä¸€ä¸ªé»˜è®¤å®ç°ã€‚å¿…é¡»ç”¨defaultä¿®é¥°ç¬¦æ ‡è®°è¿™æ ·ä¸€ä¸ªæ–¹æ³•ã€‚</li></ol><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Comparable</span>&lt;<span class="hljs-title">T</span>&gt;</span>&#123;    <span class="hljs-function"><span class="hljs-keyword">default</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(T other)</span></span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; &#125;&#125;</code></pre><ol><li><strong>è§£å†³é»˜è®¤æ–¹æ³•å†²çª</strong>ã€‚å¦‚æœå…ˆåœ¨ä¸€ä¸ªæ¥å£ä¸­å°†ä¸€ä¸ªæ–¹æ³•å®šä¹‰ä¸ºé»˜è®¤æ–¹æ³•ï¼Œç„¶ååˆåœ¨è¶…ç±»æˆ–å¦ä¸€ä¸ªæ¥å£ä¸­å®šä¹‰äº†åŒæ ·çš„æ–¹æ³•ã€‚<ol><li>è¶…ç±»ä¼˜å…ˆã€‚å¦‚æœè¶…ç±»æä¾›äº†ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼ŒåŒåè€Œä¸”æœ‰ç›¸åŒå‚æ•°ç±»å‹çš„é»˜è®¤æ–¹æ³•ä¼šè¢«å¿½ç•¥ã€‚</li><li>æ¥å£å†²çªã€‚å¦‚æœè¶…æ¥å£æä¾›äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ¥å£æä¾›äº†ä¸€ä¸ªåŒåè€Œä¸”å‚æ•°ç±»å‹ç›¸åŒçš„æ–¹æ³•ï¼Œå¿…é¡»è¦†ç›–è¿™ä¸ªæ–¹æ³•æ¥è§£å†³å†²çªã€‚</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-5</title>
    <link href="/2020/04/26/CoreJava-5/"/>
    <url>/2020/04/26/CoreJava-5/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-5-ç»§æ‰¿"><a href="#Chapter-5-ç»§æ‰¿" class="headerlink" title="Chapter 5 ç»§æ‰¿"></a>Chapter 5 ç»§æ‰¿</h3><ol><li><p>å®šä¹‰å­ç±»</p><ul><li>å…³é”®å­—extendsè¡¨æ˜æ­£åœ¨æ„é€ çš„æ–°ç±»æ´¾ç”Ÿäºä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ã€‚å·²å­˜åœ¨çš„ç±»ç§°ä¸º<strong>è¶…ç±»ã€åŸºç±»ã€çˆ¶ç±»ï¼›</strong>æ–°ç±»ç§°ä¸º<strong>å­ç±»ã€æ´¾ç”Ÿç±»æˆ–å­©å­ç±»ã€‚</strong>å­ç±»çš„åŠŸèƒ½æ¯”è¶…ç±»æ›´åŠ ä¸°å¯Œã€‚</li><li>é€šè¿‡æ‰©å±•è¶…ç±»å®šä¹‰å­ç±»çš„æ—¶å€™ï¼Œä»…éœ€è¦æŒ‡å‡ºå­ç±»ä¸è¶…ç±»çš„ä¸åŒä¹‹å¤„ã€‚</li></ul></li><li><p>è¦†ç›–æ–¹æ³•ï¼ˆoverrideï¼‰</p><ul><li>Managerç±»çš„getSalaryæ–¹æ³•ä¸èƒ½å¤Ÿç›´æ¥åœ°è®¿é—®è¶…ç±»çš„ç§æœ‰åŸŸã€‚åªæœ‰Employeeç±»çš„æ–¹æ³•æ‰èƒ½å¤Ÿè®¿é—®ç§æœ‰éƒ¨åˆ†ã€‚</li><li>superä¸æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä»–åªæ˜¯ä¸€ä¸ªæŒ‡ç¤ºç¼–è¯‘å™¨è°ƒç”¨è¶…ç±»æ–¹æ³•çš„æŒ‡ç¤ºå™¨ã€‚<pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getSalary</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-comment">//double baseSalary = getSalary();è¿™å¥ä¹Ÿä¸å¯ä»¥ï¼Œå› ä¸ºgetSalaryä¼šå¾ªç¯è°ƒç”¨ï¼›</span>    <span class="hljs-keyword">double</span> baseSalary = <span class="hljs-keyword">super</span>.gerSalary();    <span class="hljs-keyword">return</span> baseSalary + bonus;&#125;</code></pre></li></ul></li><li><p>å­ç±»æ„é€ å™¨</p><ul><li>è¯­å¥super(n, s, year, month, day)æ˜¯â€œè°ƒç”¨è¶…ç±»Employeeä¸­å«æœ‰nã€sã€yearã€monthã€dayå‚æ•°çš„æ„é€ å™¨â€çš„ç®€å†™å½¢å¼ã€‚</li><li>Managerç±»ä¸èƒ½è®¿é—®Employeeçš„ç§æœ‰åŸŸï¼Œæ‰€ä»¥å¿…é¡»åˆ©ç”¨Employeeç±»çš„æ„é€ å™¨å¯¹è¿™éƒ¨åˆ†ç§æœ‰åŸŸè¿›è¡Œåˆå§‹åŒ–ã€‚é€šè¿‡superå®ç°å¯¹è¶…ç±»æ„é€ å™¨çš„è°ƒç”¨ã€‚<strong>ä½¿ç”¨superè°ƒç”¨æ„é€ å™¨çš„è¯­å¥å¿…é¡»æ˜¯å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€æ¡è¯­å¥ã€‚</strong></li><li>æ²¡æœ‰ä½¿ç”¨superå°±ä¼šè‡ªåŠ¨è°ƒç”¨é»˜è®¤ï¼ˆå³æ— å‚æ•°ï¼‰æ„é€ å™¨ã€‚<pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Manager</span><span class="hljs-params">(String name, <span class="hljs-keyword">double</span> salary, <span class="hljs-keyword">int</span> year, <span class="hljs-keyword">int</span> month, <span class="hljs-keyword">int</span> day)</span></span>&#123;    <span class="hljs-keyword">super</span>(name, salary, year, month, day);    bonus = <span class="hljs-number">0</span>;&#125;</code></pre></li></ul></li><li><p>ç»§æ‰¿å±‚æ¬¡ï¼Œç»§æ‰¿å¹¶ä¸é™äºä¸€ä¸ªå±‚æ¬¡ã€‚</p><ul><li>ç”±ä¸€ä¸ªå…¬å…±è¶…ç±»æ´¾ç”Ÿå‡ºæ¥çš„æ‰€æœ‰ç±»çš„é›†åˆè¢«ç§°ä¸º<em>ç»§æ‰¿å±‚æ¬¡</em>ã€‚</li><li>åœ¨ç»§æ‰¿å±‚æ¬¡ä¸­ï¼Œä»æŸä¸ªç‰¹å®šçš„ç±»åˆ°å…¶ç¥–å…ˆçš„è·¯å¾„è¢«ç§°ä¸ºè¯¥ç±»çš„<em>ç»§æ‰¿é“¾</em>ã€‚</li></ul></li><li><p>å¤šæ€</p><ul><li>â€œis-aâ€è§„åˆ™çš„å¦ä¸€ç§è¡¨è¿°æ³•æ˜¯ç½®æ¢æ³•åˆ™ã€‚å®ƒè¡¨æ˜ç¨‹åºä¸­å‡ºç°è¶…ç±»çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ç”¨å­ç±»å¯¹è±¡ç½®æ¢ã€‚</li><li>åœ¨Javaä¸­ï¼Œå­ç±»æ•°ç»„çš„å¼•ç”¨å¯ä»¥è½¬æ¢æˆè¶…ç±»æ•°ç»„çš„å¼•ç”¨ï¼Œè€Œä¸éœ€è¦é‡‡ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</li></ul></li></ol><pre><code class="hljs Java">Manager[] manager = <span class="hljs-keyword">new</span> Manager[<span class="hljs-number">10</span>];Employee[] staff = managers;<span class="hljs-comment">//managerså’Œstaffå¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„ã€‚</span></code></pre><ol><li><p><strong><em>ç†è§£æ–¹æ³•è°ƒç”¨</em></strong>ï¼Œä¸‹é¢å‡è®¾è¦è°ƒç”¨x.f(args),éšå¼å‚æ•°å£°æ˜ä¸ºä¸€ä¸ªç±»Cçš„å¯¹è±¡ã€‚</p><ul><li>ç¼–è¯‘å™¨æŸ¥çœ‹å¯¹è±¡çš„å£°æ˜ç±»å‹å’Œæ–¹æ³•åã€‚å¦‚æœå­˜åœ¨å¤šä¸ªåå­—ä¸ºfä½†å‚æ•°ç±»å‹ä¸ä¸€æ ·çš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæ„ä¹‰åˆ—ä¸¾æ‰€æœ‰Cç±»ä¸­åä¸ºfçš„æ–¹æ³•å’Œå…¶è¶…ç±»ä¸­è®¿é—®å±æ€§ä¸ºpublicä¸”åä¸ºfçš„æ–¹æ³•ï¼ˆè¶…ç±»çš„ç§æœ‰æ–¹æ³•ä¸å¯è®¿é—®ï¼‰ã€‚</li><li>æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨å°†æŸ¥çœ‹è°ƒç”¨æ–¹æ³•æ—¶æä¾›çš„å‚æ•°ç±»å‹ã€‚å¦‚æœåœ¨æ‰€æœ‰åä¸ºfçš„æ–¹æ³•ä¸­å­˜åœ¨ä¸€ä¸ªä¸æä¾›å‚æ•°ç±»å‹å®Œå…¨åŒ¹é…ï¼Œå°±é€‰æ‹©è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹å«â€œ<strong>é‡è½½è§£æ</strong>â€ã€‚å…è®¸ç±»å‹è½¬æ¢ã€‚å¦‚æœç¼–è¯‘å™¨æ²¡æœ‰æ‰¾åˆ°ä¸å‚æ•°ç±»å‹åŒ¹é…çš„æ–¹æ³•ï¼Œæˆ–è€…å‘ç°ç»è¿‡ç±»å‹è½¬æ¢åæœ‰å¤šä¸ªæ–¹æ³•ä¸ä¹‹åŒ¹é…ï¼Œå°±ä¼šæŠ¥ä¸€ä¸ªé”™è¯¯ã€‚</li><li>å¦‚æœæ˜¯privateæ–¹æ³•ã€staticæ–¹æ³•ã€finalæ–¹æ³•æˆ–è€…æ„é€ å™¨ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†å¯ä»¥å‡†ç¡®åœ°çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°†è¿™ç§æ–¹æ³•ç§°ä¸º<strong>é™æ€ç»‘å®š</strong>ã€‚ä¸æ­¤å¯¹åº”çš„æ˜¯ï¼Œè°ƒç”¨çš„æ–¹æ³•<strong>ä¾èµ–äºéšå¼å‚æ•°çš„å®é™…ç±»å‹</strong>ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶æ—¶é—´<strong>åŠ¨æ€ç»‘å®š</strong>ã€‚</li><li>å½“ç¨‹åºè¿è¡Œï¼Œå¹¶ä¸”é‡‡ç”¨åŠ¨æ€ç»‘å®šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œè™šæ‹Ÿæœºä¸€å®šè°ƒç”¨ä¸xæ‰€å¼•ç”¨å¯¹è±¡çš„å®é™…ç±»å‹æœ€åˆé€‚çš„é‚£ä¸ªæ–¹æ³•ã€‚<ul><li>å‡è®¾xçš„å®é™…ç±»å‹æ˜¯Dï¼Œå®ƒæ˜¯Cç±»çš„å­ç±»ã€‚å¦‚æœDç±»å®šä¹‰äº†æ–¹æ³•f(String)ï¼Œå°±ç›´æ¥è°ƒç”¨å®ƒï¼›å¦åˆ™ï¼Œå°†åœ¨Dç±»çš„è¶…ç±»ä¸­å¯»æ‰¾f(String)ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul></li><li>æ–¹æ³•è¡¨ï¼šåˆ—å‡ºäº†æ‰€æœ‰æ–¹æ³•çš„ç­¾åå’Œå®é™…è°ƒç”¨çš„æ–¹æ³•ã€‚å¦‚æœè°ƒç”¨super.f(param)ï¼Œç¼–è¯‘å™¨å°†å¯¹éšå¼å‚æ•°è¶…ç±»çš„æ–¹æ³•è¡¨è¿›è¡Œæœç´¢ã€‚</li><li>è°ƒç”¨ e.getSalary() çš„è§£æè¿‡ç¨‹ä¸ºï¼š<ul><li>é¦–å…ˆï¼Œè™šæ‹Ÿæœºæå–eçš„å®é™…ç±»å‹çš„æ–¹æ³•è¡¨ã€‚</li><li>æ¥ä¸‹æ¥ï¼Œè™šæ‹Ÿæœºæœç´¢å®šä¹‰getSalaryç­¾åçš„ç±»ã€‚æ­¤æ—¶ï¼Œè™šæ‹Ÿæœºå·²ç»çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚</li><li>æœ€åï¼Œè™šæ‹Ÿæœºè°ƒç”¨æ–¹æ³•ã€‚</li></ul></li><li>åŠ¨æ€ç»‘å®šæœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼šæ— éœ€å¯¹ç°å­˜çš„ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œå°±å¯ä»¥å¯¹ç¨‹åºè¿›è¡Œæ‰©å±•ã€‚</li><li>åœ¨è¦†ç›–ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå­ç±»æ–¹æ³•ä¸èƒ½ä½äºè¶…ç±»æ–¹æ³•çš„å¯è§æ€§ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœè¶…ç±»æ–¹æ³•æ˜¯publicï¼Œå­ç±»æ–¹æ³•ä¸€å®šè¦å£°æ˜ä¸ºpublicã€‚</li></ul></li><li><p>é˜»æ­¢ç»§æ‰¿ï¼šfinalç±»å’Œæ–¹æ³•</p><ul><li>ä¸å…è®¸æ‰©å±•çš„ç±»è¢«ç§°ä¸ºfinalç±»ã€‚</li><li>å£°æ˜æ ¼å¼ï¼špublic final class Executive extends Manager{ â€¦ }</li><li>ç±»ä¸­çš„ç‰¹å®šæ–¹æ³•ä¹Ÿå¯ä»¥è¢«å£°æ˜ä¸ºfinalã€‚å¦‚æœè¿™æ ·åšï¼Œå­ç±»å°±ä¸èƒ½è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œfinalç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•è‡ªåŠ¨åœ°æˆä¸ºfinalæ–¹æ³•ã€‚</li><li>å°†æ–¹æ³•æˆ–ç±»å£°æ˜ä¸ºfinalä¸»è¦ç›®çš„æ˜¯ï¼šç¡®ä¿å®ƒä»¬ä¸ä¼šåœ¨å­ç±»ä¸­æ”¹å˜è¯­æ„ã€‚</li><li>å¦‚æœä¸€ä¸ªæ–¹æ³•æ²¡æœ‰è¢«è¦†ç›–å¹¶ä¸”å¾ˆçŸ­ï¼Œç¼–è¯‘å™¨å°±èƒ½å¤Ÿå¯¹å®ƒè¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º<em>å†…è”</em>ã€‚å¦‚æœå­ç±»ä¸­æœ‰è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œä¼˜åŒ–å™¨å°†å–æ¶ˆå¯¹è¦†ç›–æ–¹æ³•çš„å†…è”ã€‚</li></ul></li><li><p>å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä»…éœ€è¦ç”¨ä¸€å¯¹åœ†æ‹¬å·å°†ç›®æ ‡ç±»åæ‹¬èµ·æ¥ï¼Œå¹¶æ”¾ç½®åœ¨éœ€è¦è½¬æ¢çš„å¯¹è±¡å¼•ç”¨ä¹‹å‰å°±å¯ä»¥äº†ã€‚</p><ul><li>è¿›è¡Œç±»å‹è½¬æ¢çš„å”¯ä¸€åŸå› æ˜¯ï¼šåœ¨æš‚æ—¶å¿½è§†å¯¹è±¡çš„å®é™…ç±»å‹ä¹‹åï¼Œä½¿ç”¨å¯¹è±¡çš„å…¨éƒ¨åŠŸèƒ½ã€‚</li><li>å°†ä¸€ä¸ªå­ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªè¶…ç±»å˜é‡ï¼Œç¼–è¯‘å™¨æ˜¯å…è®¸çš„ã€‚ä½†å°†ä¸€ä¸ªè¶…ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªå­ç±»å˜é‡ï¼Œå¿…é¡»è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿé€šè¿‡è¿è¡Œæ—¶çš„æ£€æŸ¥ã€‚<ul><li><strong>åœ¨è¿›è¡Œç±»å‹è½¬æ¢ä¹‹å‰ï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦èƒ½å¤ŸæˆåŠŸåœ°è½¬æ¢ã€‚</strong></li><li><strong>åªèƒ½åœ¨ç»§æ‰¿å±‚æ¬¡å†…è¿›è¡Œç±»å‹è½¬æ¢</strong></li><li><strong>åœ¨å°†è¶…ç±»è½¬æ¢æˆå­ç±»ä¹‹å‰ï¼Œåº”è¯¥ä½¿ç”¨instanceofè¿›è¡Œæ£€æŸ¥ã€‚</strong></li></ul></li><li>å®é™…ä¸Šï¼Œé€šè¿‡ç±»å‹è½¬æ¢è°ƒæ•´å¯¹è±¡çš„ç±»å‹å¹¶ä¸æ˜¯ä¸€ç§å¥½çš„åšæ³•ã€‚å› ä¸ºå¤šæ€æ€§çš„åŠ¨æ€ç»‘å®šæœºåˆ¶èƒ½å¤Ÿè‡ªåŠ¨åœ°æ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”è¯¥å°½é‡å°‘ç”¨ç±»å‹è½¬æ¢å’Œ instanceof è¿ç®—ç¬¦ã€‚</li></ul></li></ol><pre><code class="hljs Java">Manager boss = <span class="hljs-keyword">new</span> Manager(...);staff[<span class="hljs-number">0</span>] = boss;staff[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> Employee(...);staff[<span class="hljs-number">2</span>] = <span class="hljs-keyword">new</span> Employee(...);Manager boss = (Manager) staff[<span class="hljs-number">0</span>]; <span class="hljs-comment">//Allowed</span>Manager boss = (Manager) staff[<span class="hljs-number">1</span>]; <span class="hljs-comment">//Error</span><span class="hljs-keyword">if</span> (staff[<span class="hljs-number">1</span>] <span class="hljs-keyword">instanceof</span> Manager)&#123;    boss = (Manager) staff[<span class="hljs-number">1</span>];&#125; <span class="hljs-comment">//check the instance before</span></code></pre><ol><li>æŠ½è±¡ç±»ï¼Œä»æŸç§è§’åº¦æŒ‰ï¼Œ<em>ç¥–å…ˆç±»</em>æ›´åŠ é€šç”¨ï¼Œäººä»¬åªå°†å®ƒä½œä¸ºæ´¾ç”Ÿå…¶ä»–ç±»çš„åŸºç±»ï¼Œè€Œä¸ä½œä¸ºæƒ³ä½¿ç”¨çš„ç‰¹å®šçš„å®ä¾‹ç±»ã€‚<ul><li>ä¸ºäº†æé«˜ç¨‹åºçš„æ¸…æ™°åº¦ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•çš„ç±»æœ¬èº«å¿…é¡»è¢«å£°æ˜ä¸ºæŠ½è±¡çš„ã€‚</li><li>è®¸å¤šç¨‹åºå‘˜è®¤ä¸ºï¼Œåœ¨æŠ½è±¡ç±»ä¸­ä¸èƒ½åŒ…å«å…·ä½“æ–¹æ³•ã€‚å»ºè®®å°½é‡é€šç”¨çš„åŸŸå’Œæ–¹æ³•ï¼ˆä¸ç®¡æ˜¯å¦æ˜¯æŠ½è±¡çš„ï¼‰æ”¾åœ¨è¶…ç±»ï¼ˆä¸ç®¡æ˜¯ä¸æ˜¯æŠ½è±¡ç±»ï¼‰ä¸­ã€‚</li><li>æ‰©å±•æŠ½è±¡ç±»å¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ã€‚<ul><li>ä¸€ç§æ˜¯åœ¨æŠ½è±¡ç±»ä¸­å®šä¹‰éƒ¨åˆ†æŠ½è±¡ç±»æˆ–ä¸å®šä¹‰æŠ½è±¡ç±»æ–¹æ³•ï¼Œè¿™æ ·å°±å¿…é¡»å°†å­ç±»ä¹Ÿæ ‡è®°ä¸ºæŠ½è±¡ç±»ã€‚</li><li>å¦ä¸€ç§æ˜¯å®šä¹‰å…¨éƒ¨çš„æŠ½è±¡æ–¹æ³•ï¼Œè¿™æ ·ä¸€æ¥å­ç±»å°±ä¸æ˜¯æŠ½è±¡çš„äº†ã€‚</li></ul></li><li>ç±»å³ä½¿ä¸å«æŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å°†ç±»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚</li><li>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå°†ä¸€ä¸ªç±»å£°æ˜ä¸ºabstractï¼Œå°±ä¸èƒ½åˆ›å»ºè¿™ä¸ªç±»çš„å¯¹è±¡ã€‚</li><li>å¯ä»¥å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»çš„å¯¹è±¡å˜é‡ã€‚ä½†æ˜¯å®ƒåªèƒ½å¼•ç”¨éæŠ½è±¡å­ç±»çš„å®ä¾‹ã€‚</li></ul></li></ol><pre><code class="hljs Java">Person p = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">&quot;Vince Vu&quot;</span>, <span class="hljs-string">&quot;Economics&quot;</span>);</code></pre><ol><li>å—è®¿é—®ä¿æŠ¤<ul><li>å­ç±»ä¹Ÿä¸èƒ½è®¿é—®è¶…ç±»çš„ç§æœ‰åŸŸã€‚</li><li>ä¾‹å¦‚ï¼Œå¦‚æœè¶…ç±»Employeeä¸­çš„hireDayå£°æ˜ä¸ºprotectedï¼Œè€Œä¸æ˜¯ç§æœ‰çš„ï¼ŒManagerä¸­çš„æ–¹æ³•å°±å¯ä»¥ç›´æ¥è®¿é—®å®ƒã€‚ä¸è¿‡ï¼ŒManagerç±»ä¸­çš„æ–¹æ³•åªèƒ½å¤Ÿè®¿é—®Managerå¯¹è±¡ä¸­çš„hireDayåŸŸï¼Œè€Œä¸èƒ½è®¿é—®å…¶ä»–Employeeå¯¹è±¡ä¸­çš„è¿™ä¸ªåŸŸã€‚</li></ul></li></ol><div class="table-container"><table><thead><tr><th>ä¿®é¥°è¯</th><th>æœ¬ç±»</th><th>åŒä¸€ä¸ªåŒ…çš„ç±»</th><th>ç»§æ‰¿ç±»</th><th>å…¶ä»–ç±»</th></tr></thead><tbody><tr><td>private</td><td>âˆš</td><td>Ã—</td><td>Ã—</td><td>Ã—</td></tr><tr><td>é»˜è®¤</td><td>âˆš</td><td>âˆš</td><td>Ã—</td><td>Ã—</td></tr><tr><td>protected</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td>Ã—</td></tr><tr><td>public</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td>âˆš</td></tr></tbody></table></div><ol><li><p>Objectç±»ï¼Œå®ƒæ˜¯Javaä¸­æ‰€æœ‰ç±»çš„å§‹ç¥–ï¼Œåœ¨Javaä¸­æ¯ä¸ªç±»éƒ½æ˜¯ç”±å®ƒæ‰©å±•è€Œæ¥çš„ã€‚åœ¨Javaä¸­ï¼Œåªæœ‰åŸºæœ¬ç±»å‹ä¸æ˜¯å¯¹è±¡ã€‚</p><ul><li>equalsæ–¹æ³•ï¼Œç”¨æ¥æ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ç­‰äºå¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰ç›¸åŒçš„å¼•ç”¨ï¼ˆå†…å®¹ï¼‰ã€‚<pre><code class="hljs Java"><span class="hljs-comment">//é‡å†™equals</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Manager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Employee</span></span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object otherObject)</span></span>&#123;        <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">super</span>.equals(otherObject)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;        <span class="hljs-comment">//super.equals checked that this and otherObject belong to the same class</span>        Manager other = (Manager) otherObject;        <span class="hljs-keyword">return</span> bonus == other.bonus;    &#125;&#125;</code></pre></li></ul></li><li><p>æ³›å‹æ•°ç»„åˆ—è¡¨ArrayList</p><ul><li>ArrayList  æ˜¯ä¸€ä¸ªé‡‡ç”¨ç±»å‹å‚æ•°çš„æ³›å‹ç±»ã€‚ä¸ºäº†æŒ‡å®šæ•°ç»„åˆ—è¡¨ä¿å­˜çš„å…ƒç´ å¯¹è±¡ç±»å‹ï¼Œéœ€è¦ç”¨ä¸€å¯¹å°–æ‹¬å·å°†ç±»åæ‹¬èµ·æ¥åŠ åœ¨åé¢ã€‚</li><li>addæ–¹æ³•å¯ä»¥å°†å…ƒç´ æ·»åŠ åˆ°æ•°ç»„åˆ—è¡¨ä¸­ã€‚</li><li>ensureCapacity(int num)æ–¹æ³•ï¼Œåˆ†é…ä¸€ä¸ªåŒ…å«numä¸ªå¯¹è±¡çš„å†…éƒ¨æ•°ç»„ã€‚</li><li>.size()æ–¹æ³•ç±»ä¼¼äºlengthã€‚</li><li>trimToSize() å°†æ•°ç»„åˆ—è¡¨çš„å­˜å‚¨å®¹é‡å‰Šå‡åˆ°å½“å‰å°ºå¯¸ã€‚</li><li>.set(i, harry)å°†ç¬¬iä¸ªå…ƒç´ è®¾ç½®ä¸ºharryã€‚</li><li>.get()åŒç†ã€‚</li><li>.toArray(int[] a)å°†å…¶æ‹·è´åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</li><li>.remove(n)</li><li>å°†åŸå§‹ArrayListèµ‹å€¼ç»™ä¸€ä¸ªç±»å‹åŒ–çš„ArrayListä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šã€‚è€Œä¸€ä¸ªç±»å‹åŒ–çš„æ•°ç»„ä¼ é€’ç»™ä¸€ä¸ªæ™®é€šæ–¹æ³•ä¸ä¼šå‡ºç°è­¦å‘Šï¼Œå¹¶ä¸”ä¸éœ€è¦ä»»ä½•çš„ç±»å‹è½¬æ¢ã€‚</li></ul></li><li>å¯¹è±¡åŒ…è£…å™¨ä¸è‡ªåŠ¨è£…ç®±ï¼ˆwrapperï¼‰<ul><li>è‡ªåŠ¨è£…ç®±ï¼šlist.add(3) å°†è‡ªåŠ¨è½¬æ¢æˆ list.add(Integer.ValueOf(3))ï¼ŒåŒæ ·çš„å°†Integerå¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªintå€¼çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹†ç®±ã€‚</li><li>å¯¹è±¡ä¹‹é—´çš„æ¯”è¾ƒè¦ä½¿ç”¨equalsæ–¹æ³•ã€‚</li></ul></li><li>æšä¸¾ç±»</li></ol><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Size</span></span>&#123;    SMALL(<span class="hljs-string">&quot;S&quot;</span>), MEDIUM(<span class="hljs-string">&quot;M&quot;</span>),LARGE(<span class="hljs-string">&quot;L&quot;</span>),EXTRA_LARGE(<span class="hljs-string">&quot;XL&quot;</span>);        <span class="hljs-keyword">private</span> String abbreviation;        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Size</span><span class="hljs-params">(String abbreviation)</span> </span>&#123;      <span class="hljs-keyword">this</span>.abbreviation = abbreviation;    &#125;        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAbbreviation</span><span class="hljs-params">()</span></span>&#123;        <span class="hljs-keyword">return</span> abbreviation;    &#125;&#125;</code></pre><ol><li>Classç±»<ul><li>getNameæ–¹æ³•ï¼Œè¿”å›ç±»çš„åmoreå­—ã€‚</li><li>ä¸€ä¸ªClasså¯¹è±¡å®é™…ä¸Šè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè€Œè¿™ä¸ªç±»å‹æœªå¿…ä¸€å®šæ˜¯ä¸€ç§ç±»ã€‚ä¾‹å¦‚ï¼Œintä¸æ˜¯ç±»ï¼Œä½†int.classæ˜¯ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ã€‚</li><li>Classç±»å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ³›å‹ç±»ã€‚ä¾‹å¦‚ï¼ŒEmployee.classçš„ç±»å‹æ˜¯Class<Employee>ã€‚</li><li>è™šæ‹Ÿæœºä¸ºæ¯ä¸ªç±»å‹ç®¡ç†ä¸€ä¸ªClasså¯¹è±¡ã€‚å› æ­¤ï¼Œå¯ä»¥ç”¨==è¿ç®—ç¬¦å®ç°ä¸¤ä¸ªç±»å¯¹è±¡çš„æ¯”è¾ƒæ“ä½œã€‚</li><li>newInstanceæ–¹æ³•ä¹æ„ç”¨æ¥åŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ã€‚å®ƒä¼šè°ƒç”¨é»˜è®¤çš„æ„é€ å™¨åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰é»˜è®¤çš„æ„é€ å™¨ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</li></ul></li><li><p>åˆ©ç”¨åå°„åˆ†æç±»çš„èƒ½åŠ›ã€‚Fieldã€Methodå’ŒConstructoråˆ†åˆ«ç”¨äºæè¿°ç±»çš„åŸŸã€æ–¹æ³•å’Œæ„é€ å™¨ã€‚éƒ½æœ‰getNameæ–¹æ³•è¿”å›é¡¹ç›®çš„åç§°ã€‚</p><ul><li>Fieldç±»æœ‰ä¸€ä¸ªgetTypeæ–¹æ³•ï¼Œç”¨æ¥è¿”å›æ‰€æè¿°åŸŸæ‰€å±ç±»å‹çš„Classå¯¹è±¡ã€‚</li><li>Modifierç±»ä¸­isPublicã€isPrivateæˆ–isFinalåˆ¤æ–­æ–¹æ³•æˆ–æ„é€ å™¨åˆ¤æ–­æ˜¯å¦æ˜¯publicã€privateæˆ–finalã€‚</li><li>Classçš„getFieldsã€getMethodså’ŒgetConstructoræ–¹æ³•å°†åˆ†åˆ«è¿”å›ç±»æä¾›çš„publicåŸŸã€æ–¹æ³•å’Œæ„é€ å™¨æ•°ç»„ã€‚</li></ul></li><li><p><strong>ç»§æ‰¿çš„è®¾è®¡æŠ€å·§</strong></p><ol><li>å°†å…¬å…±æ“ä½œå’ŒåŸŸæ”¾åœ¨è¶…ç±»</li><li>ä¸è¦ä½¿ç”¨å—ä¿æŠ¤çš„åŸŸ</li><li>ä½¿ç”¨ç»§æ‰¿å®ç°â€is-aâ€å…³ç³»</li><li>é™¤éæ‰€æœ‰ç»§æ‰¿çš„æ–¹æ³•éƒ½æœ‰æ„ä¹‰ï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨ç»§æ‰¿</li><li>åœ¨è¦†ç›–æ–¹æ³•æ—¶ï¼Œä¸è¦æ”¹å˜é¢„æœŸçš„è¡Œä¸º</li><li>ä½¿ç”¨å¤šæ€ï¼Œè€Œéç±»å‹ä¿¡æ¯</li><li>ä¸è¦è¿‡å¤šä½¿ç”¨åå°„</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-4</title>
    <link href="/2020/04/26/CoreJava-4/"/>
    <url>/2020/04/26/CoreJava-4/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-4-å¯¹è±¡ä¸ç±»"><a href="#Chapter-4-å¯¹è±¡ä¸ç±»" class="headerlink" title="Chapter 4 å¯¹è±¡ä¸ç±»"></a>Chapter 4 å¯¹è±¡ä¸ç±»</h3><ol><li><p>å°è£…ï¼šå°†æ•°æ®å’Œè¡Œä¸ºç»„åˆåœ¨ä¸€ä¸ªåŒ…ä¸­ï¼Œå¹¶å¯¹å¯¹è±¡çš„ä½¿ç”¨è€…éšè—äº†æ•°æ®çš„å®ç°æ–¹å¼ï¼Œå¯¹è±¡ä¸­çš„æ•°æ®æˆä¸ºå®ä¾‹åŸŸã€‚</p><ul><li>å®ç°å°è£…çš„å…³é”®åœ¨äº<strong>ç»å¯¹ä¸èƒ½</strong>è®©ç±»ä¸­çš„æ–¹æ³•ç›´æ¥åœ°è®¿é—®å…¶ä»–ç±»çš„å®ä¾‹åŸŸã€‚</li><li>å°è£…çš„ä¼˜ç‚¹<ul><li>å¯ä»¥æ”¹å˜å†…éƒ¨å®ç°ï¼Œé™¤äº†è¯¥ç±»çš„æ–¹æ³•ä¹‹å¤–ï¼Œä¸ä¼šå½±å“å…¶ä»–çš„ä»£ç ã€‚</li><li>æ›´æ”¹å™¨æ–¹æ³•å¯ä»¥æ‰§è¡Œé”™è¯¯æ£€æŸ¥ï¼Œç„¶è€Œç›´æ¥èµ‹å€¼ä¸ä¼šè¿›è¡Œè¿™äº›å¤„ç†ã€‚</li></ul></li></ul></li><li><p>å¯¹è±¡</p><ul><li>å¯¹è±¡çš„ä¸‰ä¸ªç‰¹æ€§ï¼š<ul><li>å¯¹è±¡çš„è¡Œä¸ºï¼šå¯ä»¥å¯¹å¯¹è±¡æ–½åŠ å“ªäº›æ“ä½œï¼Œæˆ–å¯ä»¥å¯¹å¯¹è±¡æ–½åŠ å“ªäº›æ–¹æ³•ï¼Ÿ</li><li>å¯¹è±¡çš„çŠ¶æ€ï¼šå½“æ–½åŠ é‚£äº›æ–¹æ³•æ—¶ï¼Œå¯¹è±¡å¦‚ä½•å“åº”ï¼Ÿ</li><li>å¯¹è±¡æ ‡è¯†ï¼šå¦‚ä½•è¾¨åˆ«å…·æœ‰ç›¸åŒè¡Œä¸ºä¸çŠ¶æ€çš„ä¸åŒå¯¹è±¡ï¼Ÿ</li></ul></li><li>å¯¹è±¡çš„è¡Œä¸ºæ˜¯ç”¨å¯è°ƒç”¨çš„æ–¹æ³•å®šä¹‰çš„ã€‚</li><li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„<strong>èº«ä»½</strong></li></ul></li><li><p>è¯†åˆ«ç±»</p><ul><li>ä»è®¾è®¡ç±»å¼€å§‹ï¼Œç„¶åå†å¾€æ¯ä¸ªç±»ä¸­æ·»åŠ æ–¹æ³•ã€‚</li><li>â€œæ‰¾åŠ¨è¯ä¸åè¯â€</li></ul></li><li><p>ç±»ä¹‹é—´çš„å…³ç³»</p><ul><li>â€œä¾èµ–ï¼ˆuse-aï¼‰â€ï¼šå¦‚æœä¸€ä¸ªç±»çš„æ–¹æ³•æ“çºµå¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å°±è¯´ä¸€ä¸ªç±»ä¾èµ–å¦ä¸€ä¸ªç±»ã€‚<strong>åº”è¯¥å°½å¯èƒ½å°†äº’ç›¸ä¾èµ–çš„ç±»å‡åˆ°æœ€å°‘â€”â€”è®©ç±»ä¹‹é—´çš„è€¦åˆåº¦æœ€å°ã€‚</strong></li><li>â€œèšåˆï¼ˆhas-aï¼‰â€ï¼šç±»Açš„å¯¹è±¡åŒ…å«ç±»Bçš„å¯¹è±¡ã€‚</li><li>â€œç»§æ‰¿ï¼ˆis-aï¼‰â€</li></ul></li><li><p>å¯¹è±¡ä¸å¯¹è±¡å˜é‡ï¼šè¦æƒ³ä½¿ç”¨å¯¹è±¡ï¼Œå°±å¿…é¡»é¦–å…ˆæ„é€ å¯¹è±¡ï¼Œå¹¶åˆ¶å®šå…¶åˆå§‹çŠ¶æ€ã€‚ç„¶åï¼Œå¯¹å¯¹è±¡åº”ç”¨æ–¹æ³•ã€‚</p><ul><li>æ„é€ å™¨ï¼š ç‰¹æ®Šçš„æ–¹æ³•ï¼Œç”¨æ¥æ„é€ å¹¶åˆå§‹åŒ–å¯¹è±¡ã€‚</li><li>ä¸€ä¸ªå¯¹è±¡å˜é‡å¹¶æ²¡æœ‰å®é™…åŒ…å«ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä»…ä»…åº”ç”¨ä¸€ä¸ªå¯¹è±¡ã€‚deadline = birthdayä¸¤ä¸ªDateç±»çš„å¯¹è±¡ã€‚</li><li>å¦‚æœå°†æ–¹æ³•åº”ç”¨åˆ°nullå¯¹è±¡ä¸Šå°±ä¼šå¼•å‘è¿è¡Œé”™è¯¯ã€‚</li><li>è®¿é—®å™¨æ–¹æ³•â€”â€”åªè®¿é—®å¯¹è±¡è€Œä¸ä¿®æ”¹å¯¹è±¡çš„æ–¹æ³•ï¼›ä¿®æ”¹çš„å«åšæ„é€ å™¨æ–¹æ³•ã€‚</li></ul></li><li><p>Emplyeeç±»</p><ul><li>æœ€ç®€å•çš„ç±»å®šä¹‰å½¢å¼ä¸ºï¼š<pre><code class="hljs Java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClassName</span></span>&#123;    field;    constructor;    method;&#125;</code></pre></li></ul></li><li><p>æ„é€ å™¨</p><ul><li>æ„é€ å™¨ä¸ç±»åŒåã€‚</li><li>æ¯ä¸ªç±»å¯ä»¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ„é€ å™¨ã€‚</li><li>æ„é€ å™¨å¯ä»¥æœ‰0ä¸ªã€1ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚</li><li>æ„é€ å™¨æ²¡æœ‰è¿”å›å€¼ã€‚</li><li>æ„é€ å™¨æ€»æ˜¯ä¼´éšç€newæ“ä½œä¸€èµ·è°ƒç”¨ã€‚</li><li><strong>ä¸è¦åœ¨æ„é€ å™¨ä¸­å®šä¹‰ä¸å®ä¾‹åŸŸé‡åçš„å±€éƒ¨å˜é‡</strong></li></ul></li><li><p>éšå¼å‚æ•°ä¸æ˜¾å¼å‚æ•°</p><ul><li>éšå¼å‚æ•°æ˜¯å‡ºç°åœ¨æ–¹æ³•åå‰çš„å¯¹è±¡ï¼›</li><li>æ˜¾å¼å‚æ•°æ˜¯æ–¹æ³•ååé¢æ‹¬å·é‡Œçš„æ•°å€¼ï¼›</li><li>åœ¨æ¯ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œå…³é”®å­—</li></ul></li><li><p>ä¸€ä¸ªæ–¹æ³•å¯ä»¥è®¿é—®æ‰€å±ç±»çš„æ‰€æœ‰å¯¹è±¡çš„ç§æœ‰æ•°æ®ã€‚</p></li><li><p>å¦‚æœä¸€ä¸ªæ–¹æ³•ä¸å½“å‰å®ç°æœºåˆ¶éå¸¸ç´§å¯†æˆ–è€…éœ€è¦ä¸€ä¸ªç‰¹åˆ«çš„åè®®ä»¥åŠä¸€ä¸ªç‰¹åˆ«çš„è°ƒç”¨æ¬¡åºï¼Œæœ€å¥½å°†è¿™æ ·çš„æ–¹æ³•è®¾ç½®æˆprivateçš„ã€‚</p><ul><li>åªè¦æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œå°±å¯ä»¥ç¡®ä¿å®ƒä¸ä¼šè¢«å¤–éƒ¨çš„å…¶ä»–ç±»æ‰€è°ƒç”¨ï¼Œå› æ­¤å¯ä»¥å°†å…¶åˆ å»ã€‚</li></ul></li><li><p>finalå®ä¾‹åŸŸ</p><ul><li>å¯ä»¥å°†å®ä¾‹åŸŸå®šä¹‰ä¸ºfinalï¼Œåœ¨æ„å»ºå¯¹è±¡çš„æ—¶å€™å¿…é¡»å°†å®ƒåˆå§‹åŒ–ã€‚å¹¶ä¸”åœ¨åé¢çš„æ“ä½œä¸­ä¸èƒ½å°†å®ƒä¿®æ”¹ã€‚</li><li>finalä¿®é¥°ç¬¦å¤§å¤šåº”ç”¨äºåŸºæœ¬ï¼ˆprimitiveï¼‰ç±»å‹åŸŸï¼Œæˆ–ä¸å¯å˜ç±»å‹åŸŸï¼ˆç±»ä¸­çš„æ¯ä¸ªæ–¹æ³•éƒ½ä¸ä¼šæ”¹å˜å…¶å¯¹è±¡ã€‚ï¼‰</li></ul></li><li><p>é™æ€åŸŸï¼š å¦‚æœå°†åŸŸå®šä¹‰ä¸ºstaticï¼Œæ¯ä¸ªç±»ä¸­åªæœ‰ä¸€ä¸ªè¿™æ ·çš„åŸŸã€‚è€Œæ¯ä¸€ä¸ªå¯¹è±¡å¯¹äºæ‰€æœ‰çš„å®ä¾‹åŸŸå´éƒ½æœ‰è‡ªå·±çš„ä¸€ä»½æ‹·è´ã€‚</p><ul><li>è¿™ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹åŸŸå°†å…±äº«ä¸€ä¸ªâ€œnextIDâ€åŸŸï¼›</li><li>å®ƒå±äºç±»ï¼Œä¸å±äºä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼›</li></ul></li><li><p>é™æ€æ–¹æ³•ï¼šä¸èƒ½å‘å¯¹è±¡å®æ–½æ“ä½œçš„æ–¹æ³•ã€‚</p><ul><li>æ²¡æœ‰éšå¼çš„å‚æ•°ã€‚é™æ€æ–¹æ³•æ˜¯æ²¡æœ‰thiså‚æ•°çš„æ–¹æ³•ã€‚</li><li>é™æ€æ–¹æ³•å¯ä»¥è®¿é—®è‡ªèº«ç±»ä¸­çš„é™æ€åŸŸï¼›</li><li>å»ºè®®ä½¿ç”¨ç±»åæ¥è°ƒç”¨é™æ€æ–¹æ³•ï¼›</li><li>åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä½¿ç”¨é™æ€æ–¹æ³•ï¼š<ul><li>ä¸€ä¸ªæ–¹æ³•ä¸éœ€è¦è®¿é—®å¯¹è±¡çŠ¶æ€ï¼Œå…¶æ‰€éœ€å‚æ•°éƒ½æ˜¯é€šè¿‡æ˜¾ç¤ºå‚æ•°æä¾›ï¼ˆå¦‚Math.powï¼‰;</li><li>ä¸€ä¸ªæ–¹æ³•åªéœ€è¦è®¿é—®ç±»çš„é™æ€åŸŸï¼ˆå¦‚Employee.getNextIDï¼‰ï¼›</li></ul></li></ul></li><li><p>å·¥å‚æ–¹æ³•æ„é€ å¯¹è±¡ï¼›</p><ul><li>å°†ç±»çš„åˆ›å»ºå•ç‹¬æ”¾åˆ°ä¸€ä¸ªç±»é‡Œè¿›è¡Œï¼Œè¿™ä¸ªç±»å°±å«åšå·¥å‚ã€‚</li><li>ä¸åˆ©ç”¨æ„é€ å™¨æœ‰ä¸¤ä¸ªåŸå› ï¼š<ol><li>æ— æ³•å‘½åæ„é€ å™¨ã€‚æ„é€ å™¨çš„åå­—å¿…é¡»å’Œç±»åç›¸åŒã€‚ä½†æ˜¯è´§å¸çš„å®ä¾‹éœ€è¦ä¸åŒçš„åå­—ï¼›</li><li>å½“ä½¿ç”¨æ„é€ å™¨æ—¶ï¼Œæ— æ³•æ”¹å˜æ‰€æ„é€ çš„å¯¹è±¡ç±»å‹ã€‚<pre><code class="hljs Java">NumberFormat currencyFormatter = NumberFormat.gerCurrencyInstance();NumberFormat percentFormatter = NumberFormat.getpercentInstance();</code></pre></li></ol></li></ul></li><li><p>mainæ–¹æ³•ï¼š<strong>ä¸éœ€è¦ä½¿ç”¨å¯¹è±¡è°ƒç”¨é™æ€æ–¹æ³•</strong></p><ul><li>ä¾‹å­ï¼šä¸éœ€è¦æ„é€ Mathå¯¹è±¡å°±å¯ä»¥ç›´æ¥è°ƒç”¨Math.powã€‚</li><li>mainæ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚mainæ–¹æ³•ä¸å¯¹ä»»ä½•å¯¹è±¡è¿›è¡Œæ“ä½œã€‚äº‹å®ä¸Šåœ¨ç¨‹åºå¯åŠ¨æ—¶æ²¡æœ‰ä»»ä½•ä¸€ä¸ªå¯¹è±¡ã€‚é™æ€çš„mainæ–¹æ³•å°†æ‰§è¡Œå¹¶åˆ›å»ºç¨‹åºæ‰€éœ€è¦çš„å¯¹è±¡ã€‚</li></ul></li><li><p>Javaæ€»æ˜¯é‡‡ç”¨æŒ‰å€¼è°ƒç”¨ã€‚</p><ul><li><strong>Javaå¯¹å¯¹è±¡é‡‡ç”¨çš„ä¸æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œå¯¹è±¡å¼•ç”¨æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚</strong></li><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼ˆæŒ‰å€¼ä¼ é€’å‚æ•°ï¼‰ï¼›</li><li>ä¸€ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„å‚æ•°çš„çŠ¶æ€ï¼›</li><li><strong>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è®©å¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ </strong></li></ul></li><li><p>é‡è½½ï¼šæœ‰äº›ç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ å™¨ã€‚å¦‚æœå¤šä¸ªæ–¹æ³•æœ‰ç›¸åŒçš„åå­—ã€ä¸åŒçš„å‚æ•°ï¼Œä¾¿äº§ç”Ÿäº†é‡è½½ï¼›ç¼–è¯‘å™¨é€šè¿‡ç”¨å„ä¸ªæ–¹æ³•ç»™å‡ºçš„å‚æ•°ç±»å‹ä¸ç‰¹å®šæ–¹æ³•è°ƒç”¨æ‰€ä½¿ç”¨çš„å€¼çš„ç±»å‹è¿›è¡ŒåŒ¹é…æ¥æŒ‘é€‰å‡ºç›¸åº”çš„æ–¹æ³•ï¼ˆé‡è½½è§£æï¼‰ã€‚</p><ul><li>Javaå…è®¸é‡è½½ä»»ä½•æ–¹æ³•ï¼Œä¸åªæ˜¯æ„é€ å™¨æ–¹æ³•ã€‚å®Œæ•´æè¿°ä¸€ä¸ªæ–¹æ³•éœ€è¦æŒ‡å‡ºæ–¹æ³•åä»¥åŠå‚æ•°ç±»å‹ã€‚è¿™å«åšæ–¹æ³•çš„<strong>ç­¾å</strong>ã€‚</li></ul></li><li><p>é»˜è®¤åŸŸåˆå§‹åŒ–ï¼šæ•°å€¼ä¸º0ã€å¸ƒå°”å€¼ä¸ºfalseã€å¯¹è±¡å¼•ç”¨ä¸ºnullã€‚</p></li><li><p>æ— å‚æ•°æ„é€ å™¨ï¼Œå¦‚æœåœ¨ç¼–å†™ä¸€ä¸ªç±»æ—¶æ²¡æœ‰ç¼–å†™æ„é€ å™¨ï¼Œç³»ç»Ÿå°±ä¼šæä¾›ä¸€ä¸ªæ— å‚æ•°æ„é€ å™¨ã€‚è¿™ä¸ªæ„é€ å™¨å°†æ‰€æœ‰å®æ•°åŸŸè®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚</p></li><li><p>æ˜¾ç¤ºåŸŸåˆå§‹åŒ–ï¼Œé€šè¿‡é‡è½½ç±»çš„æ„é€ å™¨æ–¹æ³•ï¼Œå¯ä»¥é‡‡ç”¨å¤šç§å½¢å¼è®¾ç½®ç±»çš„å®ä¾‹åŸŸçš„åˆå§‹çŠ¶æ€ã€‚</p></li><li><p>å‚æ•°å˜é‡ç”¨åŒæ ·çš„åå­—å°†å®ä¾‹åŸŸå±è”½èµ·æ¥ã€‚å¯ä»¥ç”¨this.salaryçš„æ–¹å¼è®¿é—®å®ä¾‹åŸŸã€‚å›æƒ³ä¸€ä¸‹ï¼ŒthisæŒ‡ç¤ºéšå¼å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ‰€æ„é€ çš„å¯¹è±¡ã€‚</p><pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Employee</span><span class="hljs-params">(String name, <span class="hljs-keyword">double</span> salary)</span></span>&#123;    <span class="hljs-keyword">this</span>.name = name;    <span class="hljs-keyword">this</span>.salary = salary;&#125;</code></pre></li><li><p>è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨ã€‚å¦‚æœæ„é€ å™¨çš„ç¬¬ä¸€ä¸ªè¯­å¥å½¢å¦‚this(â€¦)ï¼Œè¿™ä¸ªæ„é€ å™¨å°†è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ å™¨ã€‚å…¬å…±çš„æ„é€ å™¨ä»£ç éƒ¨åˆ†åªç¼–å†™ä¸€æ¬¡å³å¯ã€‚</p><pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Employee</span><span class="hljs-params">(<span class="hljs-keyword">double</span> s)</span></span>&#123;    <span class="hljs-keyword">this</span>(<span class="hljs-string">&quot;Emplyee #&quot;</span> + nextID, s);    nextID++; &#125;</code></pre></li><li><p>åˆå§‹åŒ–å—ã€‚åœ¨ä¸€ä¸ªç±»çš„å£°æ˜ä¸­ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªä»£ç å—ã€‚åªè¦æ„é€ ç±»çš„å¯¹è±¡ï¼Œè¿™äº›å—å°±ä¼šè¢«æ‰§è¡Œã€‚</p><pre><code class="hljs Java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span></span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> nextID;        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> salary;        <span class="hljs-comment">//object initialization block</span>    &#123;        id = nextID;        nextID++;    &#125;        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Employee</span><span class="hljs-params">(String n, <span class="hljs-keyword">double</span> s)</span></span>&#123;        <span class="hljs-keyword">this</span>.name = n;        <span class="hljs-keyword">this</span>.salary = s;    &#125;&#125;</code></pre><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ— è®ºä½¿ç”¨å“ªä¸ªæ„é€ å™¨æ„é€ å¯¹è±¡ï¼ŒidåŸŸéƒ½åœ¨å¯¹è±¡åˆå§‹åŒ–æ¨¡å—ä¸­è¢«åˆå§‹åŒ–ã€‚<strong>è¿è¡Œåˆå§‹åŒ–æ¨¡å—ï¼Œç„¶åæ‰è¿è¡Œæ„é€ å™¨çš„ä¸»ä½“éƒ¨åˆ†ã€‚</strong></p></li><li><p>è°ƒç”¨æ„é€ å™¨çš„å…·ä½“å¤„ç†æ­¥éª¤ï¼š</p><ol><li>æ‰€æœ‰æ•°æ®åŸŸè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ã€‚</li><li>æŒ‰ç…§åœ¨ç±»å£°æ˜ä¸­å‡ºç°çš„æ¬¡åºï¼Œä¸€æ¬¡æ‰§è¡Œæ‰€æœ‰åŸŸåˆå§‹åŒ–è¯­å¥å’Œåˆå§‹åŒ–å—ã€‚</li><li>å¦‚æœæ„é€ å™¨ç¬¬ä¸€è¡Œè°ƒç”¨äº†ç¬¬äºŒä¸ªæ„é€ å™¨ï¼Œåˆ™æ‰§è¡Œç¬¬äºŒä¸ªæ„é€ å™¨ä¸»ä½“ã€‚</li><li>æ‰§è¡Œè¿™ä¸ªæ„é€ å™¨çš„ä¸»ä½“ã€‚</li></ol></li><li><p>é™æ€åˆå§‹åŒ–å—</p><ul><li><strong>åˆå§‹åŒ–å—åªè°ƒç”¨ä¸€æ¬¡ï¼ˆç±»åŠ è½½æ—¶ï¼‰ï¼Œè€Œæ™®é€šåˆå§‹åŒ–å—å¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œéšç€å¯¹è±¡çš„åˆ›å»ºè€ŒåŠ è½½ã€‚</strong></li><li>ä¸€ä¸ªç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªé™æ€åˆå§‹åŒ–å—å’Œå¤šä¸ªæ™®é€šåˆå§‹åŒ–å—ï¼›é™æ€åˆå§‹åŒ–å—çš„æ‰§è¡Œè¦æ—©äºæ™®é€šåˆå§‹åŒ–å—ï¼›åŒä¸€ä¸ªç±»å‹çš„åˆå§‹åŒ–å—çš„æ‰§è¡Œé¡ºåºå–å†³äºå®šä¹‰çš„å…ˆåé¡ºåºï¼</li><li>åœ¨ä¸€ä¸ªç±»ä¸­å¦‚æœæœ‰å¤šä¸ªä¸åŒçš„åˆå§‹åŒ–å—ï¼Œåˆå§‹åŒ–å±æ€§ï¼Œæ„é€ å™¨ï¼Œæ‰§è¡Œé¡ºåºæ˜¯ï¼šé™æ€åˆå§‹åŒ–å—|é™æ€å±æ€§åˆå§‹åŒ– &gt; æ™®é€šåˆå§‹åŒ–å—|æ™®é€šå±æ€§åˆå§‹åŒ– &gt; æ„é€ å™¨</li></ul></li><li><p>å¯¹è±¡ææ„ä¸finalizeæ–¹æ³•</p><ul><li>Javaè‡ªåŠ¨å›æ”¶åƒåœ¾ï¼Œä¸æ”¯æŒææ„å™¨ã€‚</li><li>å¯ä»¥ä¸ºä»»ä½•ä¸€ä¸ªç±»æ·»åŠ finalizeæ–¹æ³•ã€‚finalizeæ–¹æ³•åœ¨åƒåœ¾å›æ”¶å™¨æ¸…é™¤å¯¹è±¡ä¹‹å‰è°ƒç”¨ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸è¦ä¾èµ–äºä½¿ç”¨finalizeæ–¹æ³•å›æ”¶ä»»ä½•çŸ­ç¼ºçš„èµ„æºï¼Œè¿™æ˜¯å› ä¸ºå¾ˆéš¾çŸ¥é“è¿™ä¸ªæ–¹æ³•ä»€ä¹ˆæ—¶å€™æ‰èƒ½å¤Ÿè°ƒç”¨ã€‚</li></ul></li><li><p>åŒ…ï¼ŒJavaå…è®¸ä½¿ç”¨åŒ…ï¼ˆpackageï¼‰å°†ç±»ç»„ç»‡èµ·æ¥ã€‚</p><ul><li>ä½¿ç”¨åŒ…çš„ä¸»è¦åŸå› æ˜¯ç¡®ä¿ç±»åçš„å”¯ä¸€æ€§ã€‚</li><li>ä»ç¼–è¯‘å™¨çš„è§’åº¦æ¥çœ‹ï¼ŒåµŒå¥—çš„åŒ…ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ä¾‹å¦‚ï¼Œjava.utilåŒ…ä¸java.util.jaråŒ…æ¯«æ— å…³ç³»ã€‚æ¯ä¸€ä¸ªéƒ½æœ‰ç‹¬ç«‹çš„é›†åˆã€‚</li></ul></li><li><p>é™æ€å¯¼å…¥</p><ul><li>åœ¨æºæ–‡ä»¶é¡¶éƒ¨ï¼Œæ·»åŠ ä¸€æ¡import static java.lang.System.*;</li><li>å¯ä»¥æ›´ç®€æ´æ¯”å¦‚Math.sqrtå¯ä»¥ç®€å†™ä¸ºsqrt</li></ul></li><li><p>å°†ç±»æ”¾å…¥åŒ…ä¸­ï¼Œå°±å¿…é¡»å°†åŒ…çš„åå­—æ”¾åœ¨æºæ–‡ä»¶çš„å¼€å¤´ï¼ŒåŒ…ä¸­å®šä¹‰ç±»çš„ä»£ç ä¹‹å‰ã€‚å¦‚æœæ²¡æœ‰åœ¨æºæ–‡ä»¶ä¸­æ”¾ç½®packageè¯­å¥ï¼Œè¿™ä¸ªæºæ–‡ä»¶ä¸­çš„ç±»å°±è¢«æ”¾ç½®åœ¨ä¸€ä¸ªé»˜è®¤åŒ…ä¸­ã€‚</p></li><li><p>æ³¨é‡Š</p><ol><li>æ–¹æ³•æ³¨é‡Š<ol><li>@param å˜é‡æè¿°</li><li>@return æè¿°</li><li>@throws ç±»æè¿°</li></ol></li><li>é€šç”¨æ³¨é‡Š<ol><li>@author å§“å</li><li>@version ç‰ˆæœ¬</li><li>@since å¼•å…¥ç‰¹æ€§çš„ç‰ˆæœ¬æè¿°</li><li>@see å¼•ç”¨</li></ol></li><li>åŒ…æ³¨é‡Šå•ç‹¬åœ¨åŒ…ä¸­æ·»åŠ æ–‡æ¡£</li></ol></li><li><p>ç±»è®¾è®¡æŠ€å·§</p><ol><li>ä¸€å®šè¦ä¿è¯æ•°æ®ç§æœ‰ï¼Œç»å¯¹ä¸è¦ç ´åå°è£…æ€§ã€‚</li><li>ä¸€å®šè¦å¯¹æ•°æ®åˆå§‹åŒ–ã€‚</li><li>ä¸è¦åœ¨ç±»ä¸­ä½¿ç”¨è¿‡å¤šçš„åŸºæœ¬ç±»å‹ã€‚</li><li>ä¸æ˜¯æ‰€æœ‰çš„åŸŸéƒ½éœ€è¦ç‹¬ç«‹çš„åŸŸè®¿é—®å™¨å’ŒåŸŸæ›´æ”¹å™¨ã€‚</li><li>å°†èŒè´£è¿‡å¤šçš„ç±»è¿›è¡Œåˆ†è§£ã€‚</li><li>ç±»åå’Œæ–¹æ³•åè¦èƒ½å¤Ÿä½“ç°å®ƒä»¬çš„èŒè´£ã€‚</li><li>ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜çš„ç±»ã€‚</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-3</title>
    <link href="/2020/04/26/CoreJava-3/"/>
    <url>/2020/04/26/CoreJava-3/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-3-åŸºæœ¬è®¾è®¡ç»“æ„"><a href="#Chapter-3-åŸºæœ¬è®¾è®¡ç»“æ„" class="headerlink" title="Chapter 3 åŸºæœ¬è®¾è®¡ç»“æ„"></a>Chapter 3 åŸºæœ¬è®¾è®¡ç»“æ„</h3><ol><li><p>å…³é”®å­—<em>final</em>è¡¨ç¤ºå¸¸é‡ã€‚å…³é”®å­—<em>final</em>è¡¨ç¤ºè¿™ä¸ªå˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ã€‚å¸¸é‡åå…¨éƒ¨ä½¿ç”¨å¤§å†™ã€‚</p></li><li><p><em>static final</em>è®¾ç½®ç±»å¸¸é‡ã€‚å¯åœ¨ä¸€ä¸ªç±»çš„å¤šä¸ªæ–¹æ³•ä¸­ä½¿ç”¨ã€‚å¦‚æœç”Ÿå‘½ä¸ºpublicï¼Œå³<em>public</em>ï¼Œåˆ™å…¶ä»–ç±»çš„æ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªå¸¸é‡ã€‚</p></li><li><p><em>strictfp</em>å…³é”®å­—æ ‡è®°ç‚¹æ–¹æ³•å¿…é¡»ä½¿ç”¨ä¸¥æ ¼çš„æµ®ç‚¹è®¡ç®—æ¥ç”Ÿæˆå¯å†ç”Ÿçš„ç»“æœã€‚</p></li><li><p>String ä¸­çš„<em>substring</em>æ–¹æ³•ï¼Œs.substring(a, b)å¾—åˆ°ä»¥aä¸ºindexå¼€å¤´ï¼Œåˆ°bä¸ºæ­¢ä½†ä¸åŒ…å«bçš„å­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸ºb-aã€‚</p></li><li><p><em>join</em>æ–¹æ³•ï¼ŒString.join(â€œ/â€œ, â€œSâ€, â€œMâ€, â€œLâ€, â€œXLâ€);å¾—åˆ°çš„æ˜¯å­—ç¬¦ä¸²â€S/M/L/XLâ€ã€‚</p></li><li><p>Stringç±»å¯¹è±¡æ˜¯ä¸å¯å˜å­—ç¬¦ä¸²ã€‚ç¼–è¯‘å™¨å¯ä»¥è®©å­—ç¬¦ä¸²å…±äº«ã€‚</p></li><li><p>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰å¯ä»¥ç”¨.equals()æ–¹æ³•ã€‚å¦‚æœä¸åŒºåˆ†å¤§å°å†™å¯ä»¥ç”¨equalsIgnoreCaseæ–¹æ³•ã€‚<em>ä¸€å®šä¸è¦ä½¿ç”¨==è¿ç®—ç¬¦æ¥æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ã€‚è¿™åªèƒ½ç¡®å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åœ¨åŒä¸€ä¸ªä½ç½®ä¸Š</em></p></li><li><p>â€œâ€æ˜¯ç©ºä¸²ï¼Œæœ‰é•¿åº¦æœ‰å†…å®¹ã€‚nullè¡¨ç¤ºç›®å‰æ²¡æœ‰ä»»ä½•å¯¹è±¡ä¸è¯¥å˜é‡å…³è”ã€‚</p></li><li><p>ç ç‚¹ä¸ä»£ç å•å…ƒ</p></li></ol><ul><li>int[] codePoints = str.codePoints().toArray();å°†å­—ç¬¦ä¸²è½¬æˆä¸€ä¸ªæ•°ç»„ã€‚</li><li>String str = new String(codePoints, 0, codePoints.length);å°†ç ç‚¹æ•°ç»„è½¬åŒ–æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li></ul><ol><li><p>æ„å»ºå­—ç¬¦ä¸²</p><pre><code class="hljs Java">StringBuilder builder = <span class="hljs-keyword">new</span> StringBuilder();builder.append(ch);<span class="hljs-comment">// appends a single character</span>builder.append(str);<span class="hljs-comment">// appends a string</span>String completedString = builder.toString();</code></pre></li><li><p>æ§åˆ¶å°è¾“å…¥</p><pre><code class="hljs Java">Scanner in = <span class="hljs-keyword">new</span> Scanner(System.in);String name = in.nextLine();<span class="hljs-keyword">int</span> age = in.nextInt();</code></pre></li><li><p>æ–‡ä»¶å‡ºå…¥ä¸è¾“å‡º</p><pre><code class="hljs Java"><span class="hljs-comment">//input</span>Scanner in = <span class="hljs-keyword">new</span> Scanner(Paths.get(<span class="hljs-string">&quot;myfile.txt&quot;</span>), <span class="hljs-string">&quot;UTF-8&quot;</span>);<span class="hljs-comment">//output</span>PrintWriter out = <span class="hljs-keyword">new</span> PrintWriter(<span class="hljs-string">&quot;myfile.txt&quot;</span>), <span class="hljs-string">&quot;UTF-8&quot;</span>);</code></pre></li><li><p>Java SE 7 å¼€å§‹ï¼Œswitchä¸­çš„caseæ ‡ç­¾è¿˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²å­—é¢é‡ã€‚</p></li><li><p>breakæˆ–continueåæ¥label, å¯ä»¥åœ¨ä¸­æ–­ä¹‹åç›´æ¥è·³åˆ°labelçš„ä½ç½®ç»§ç»­æ‰§è¡Œã€‚</p></li><li><p>å¤§æ•°å€¼BigIntegerå®ç°å¤§æ•´æ•°ï¼›BigDecimalå®ç°å¤§æµ®ç‚¹æ•°ã€‚</p><pre><code class="hljs Java">BigInteger a = BigInteger.valueOf(<span class="hljs-number">100</span>);<span class="hljs-comment">//å°†æ™®é€šæ•°å€¼è½¬æ¢ä¸ºå¤§æ•°å€¼ï¼›</span>BigInteger c = a.add(b); <span class="hljs-comment">// c = a + b;</span>BigInteger d = c.multiply(b.add(BigInteger.valueOf(<span class="hljs-number">2</span>))); <span class="hljs-comment">// d = c * (b + 2)</span></code></pre></li><li><p>æ•°ç»„</p><pre><code class="hljs Java"><span class="hljs-keyword">int</span>[] a= <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">100</span>];</code></pre></li></ol><ul><li>åˆ›å»ºä¸€ä¸ªæ•°ç»„æ—¶ï¼Œæ‰€æœ‰å…ƒç´ éƒ½åˆå§‹åŒ–ä¸º0ã€‚booleanæ•°ç»„çš„å…ƒç´ ä¼šåˆå§‹åŒ–ä¸ºfalseã€‚å¯¹è±¡æ•°ç»„ä¼šåˆå§‹åŒ–ä¸ºnullã€‚<pre><code class="hljs Java"><span class="hljs-comment">//ä¸‹é¢æ‰€æœ‰å­—ç¬¦ä¸²éƒ½æ˜¯null</span>String[] names = <span class="hljs-keyword">new</span> String[<span class="hljs-number">10</span>];<span class="hljs-comment">//ä¸‹é¢æ‰€æœ‰å­—ç¬¦ä¸²éƒ½æ˜¯ç©ºä¸²</span><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) names[i] = <span class="hljs-string">&quot;&quot;</span>;</code></pre></li><li>ä¸€æ—¦åˆ›å»ºäº†æ•°ç»„å°±ä¸èƒ½æ”¹å˜å®ƒçš„å¤§å°ã€‚</li></ul><ol><li>for each å¾ªç¯</li></ol><ul><li>for (variable : collection) statement<pre><code class="hljs Java">System.out.println(Arrays.toString(a));<span class="hljs-comment">//æ‰“å°æ•°ç»„ï¼›</span></code></pre></li></ul><ol><li>æ•°ç»„æ‹·è´<pre><code class="hljs Java"><span class="hljs-keyword">int</span>[] copiedLuckyNumbers = Arrays.copyOf(luckyNumbers, luckynumbers.length);</code></pre></li><li><p>Array.sort(a); è¿›è¡Œæ’åº</p></li><li><p>ä¸è§„åˆ™æ•°ç»„</p><pre><code class="hljs Java"><span class="hljs-keyword">int</span>[][] odds = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[MAX+<span class="hljs-number">1</span>][];<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>; n &lt;= MAX; n+<span class="hljs-number">1</span>)    odds[n] = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n+<span class="hljs-number">1</span>];<span class="hljs-comment">//ä»¥ä¸Šç”Ÿæˆçš„æ˜¯ä¸€ä¸ªä¸‰è§’å½¢æ•°ç»„</span></code></pre></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>

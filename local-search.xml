<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>COA-æŒ‡ä»¤é›†</title>
    <link href="/2020/12/10/COA-%E6%8C%87%E4%BB%A4%E9%9B%86/"/>
    <url>/2020/12/10/COA-%E6%8C%87%E4%BB%A4%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<h3 id="Instruction-Cycle"><a href="#Instruction-Cycle" class="headerlink" title="Instruction Cycle"></a>Instruction Cycle</h3><p><img src="/img/COA/Fetch.jpg" alt=""></p><p><img src="/img/COA/instr.jpg" alt=""></p><p><img src="/img/COA/iter.jpg" alt=""></p>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>COA</tag>
      
      <tag>Instruction Set</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MultiSet</title>
    <link href="/2020/12/07/MultiSet/"/>
    <url>/2020/12/07/MultiSet/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>After learning binary search trees in algorithm class, Nezzar challenges you with the following task.</p><p>Given a <strong>multiset</strong> ğ‘†S which is intially emtpy, Nezzar may do one of the following operations in each round, and your algorithm should support these features.</p><ul><li>0 $x$, insert $x$ to $S$;</li><li>1 $x$, output the number of copies of $x$ in $S$, and remove exactly <strong>one copy</strong> of $x$ from $S$ if $S$ contains at least one copy of $x$;</li><li>2 $l,r$, output $âˆ‘xâˆˆS,l&lt;xâ‰¤r$. For example, if $S={3,5,5,7},l=3,r=7$, then output should be $17$ as $5+5+7=17$.</li></ul><p>To disallow some shortcut solutions (offline solutions), Nezzar will fix a positive integer ğ‘šğ‘œğ‘‘mod, and provide input in the following way (ğ‘™ğ‘ğ‘›ğ‘ lans is 00 initially).</p><ul><li>0 $y$ where $0â‰¤y&lt;mod$, let $x=(y+lans)$ mod $mod$ and insert $x$ to $S$;</li><li>1 ğ‘¦y where 0â‰¤ğ‘¦&lt;ğ‘šğ‘œğ‘‘0â‰¤y&lt;mod, let ğ‘¥=(ğ‘¦+ğ‘™ğ‘ğ‘›ğ‘ )modğ‘šğ‘œğ‘‘x=(y+lans)modmod and output the number of copies of ğ‘¥x in ğ‘†S, then remove exactly <strong>one copy</strong> of ğ‘¥x from ğ‘†S if ğ‘†S contains at least one copy of ğ‘¥x;</li><li>2 ğ‘¢,ğ‘£u,v where 0â‰¤ğ‘¢,ğ‘£&lt;ğ‘šğ‘œğ‘‘0â‰¤u,v<mod, let ğ‘™=(ğ‘¢+ğ‘™ğ‘ğ‘›ğ‘ )modğ‘šğ‘œğ‘‘l=(u+lans)modmod and ğ‘Ÿ=(ğ‘£+ğ‘™ğ‘ğ‘›ğ‘ )modğ‘šğ‘œğ‘‘r=(v+lans)modmod, swap ğ‘™l and ğ‘Ÿr if ğ‘™>ğ‘Ÿl&gt;r, output âˆ‘ğ‘¥âˆˆğ‘†,ğ‘™&lt;ğ‘¥â‰¤ğ‘Ÿğ‘¥âˆ‘xâˆˆS,l&lt;xâ‰¤rx and finally update ğ‘™ğ‘ğ‘›ğ‘ lans with output.</li></ul><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;cstdio&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;set&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iterator&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;map&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX 2147483647</span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> Q;<span class="hljs-keyword">int</span> mod;<span class="hljs-keyword">int</span> choice;<span class="hljs-keyword">int</span> x;<span class="hljs-keyword">int</span> u, v;<span class="hljs-keyword">int</span> l, r;<span class="hljs-keyword">int</span> lans=<span class="hljs-number">0</span>;<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt;S;<span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; numMap;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">multiS</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;Q, &amp;mod);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;Q; i++)&#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;choice);        <span class="hljs-keyword">switch</span> (choice) &#123;            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);                <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod)&#123;x = (x+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(S.count(x)==<span class="hljs-number">0</span>) numMap.insert(&#123;x, <span class="hljs-number">0</span>&#125;);                numMap[x]++;                S.insert(x);                <span class="hljs-keyword">break</span>;            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);                <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod)&#123;x = (x+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(numMap[x]&gt;<span class="hljs-number">0</span>)&#123;                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, numMap[x]);                &#125; <span class="hljs-keyword">else</span> &#123;                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0\n&quot;</span>);                &#125;                <span class="hljs-keyword">if</span>(numMap[x]==<span class="hljs-number">1</span>)&#123;                    S.erase(x);                &#125;                <span class="hljs-keyword">if</span>(numMap[x]&gt;<span class="hljs-number">0</span>)&#123;                    numMap[x]--;                &#125;                <span class="hljs-keyword">break</span>;            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;u, &amp;v);                <span class="hljs-keyword">if</span>(u&gt;=<span class="hljs-number">0</span>&amp;&amp;u&lt;mod)&#123;l = (u+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(v&gt;=<span class="hljs-number">0</span>&amp;&amp;v&lt;mod)&#123;r = (v+lans)%mod;&#125;                <span class="hljs-keyword">if</span>(l&gt;r)&#123;                    <span class="hljs-keyword">int</span> tmp = l;                    l = r;                    r = tmp;                &#125;                <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;                <span class="hljs-built_in">pair</span>&lt;<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt;::const_iterator,<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt;::const_iterator&gt; pr;                pr = S.equal_range(l);                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i=pr.second; i!=S.upper_bound(r); i++)&#123;                    <span class="hljs-keyword">int</span> t = numMap[*i];                    sum += (*i)*t;                &#125;                lans = sum;                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum);                <span class="hljs-keyword">break</span>;        &#125;    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Hello!&quot;</span>);&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    S.insert(MAX);    multiS();&#125;</code></pre><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;set&quot;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> maxn 1000005</span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> INF (1 &lt;&lt; 30)</span><span class="hljs-keyword">int</span> n;ll mod;ll lans=<span class="hljs-number">0</span>;<span class="hljs-keyword">int</span> l[maxn], r[maxn], rnd[maxn], w[maxn];ll  size[maxn], val[maxn];<span class="hljs-built_in">set</span>&lt;ll&gt;S;<span class="hljs-comment">//wæ˜¯æƒé‡ //læ˜¯å·¦å­èŠ‚ç‚¹çš„ç´¢å¼• //ræ˜¯å³å­ç»“ç‚¹çš„ç´¢å¼• //rndæ˜¯ä¼˜å…ˆçº§ //valæ˜¯å¯¹åº”çš„ç´¢å¼• //sizeæ˜¯æ ‘çš„èŠ‚ç‚¹æ€»æ•°-&gt;å‰ç¼€å’Œ</span><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treap</span> &#123;</span>  <span class="hljs-keyword">int</span> sz, rt;  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123; size[x] = size[l[x]] + size[r[x]] + w[x]*val[x]; &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">lrotate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k)</span> </span>&#123;    <span class="hljs-keyword">int</span> t = r[k];    r[k] = l[t];    l[t] = k;    size[t] = size[k];    pushup(k);    k = t;  &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rrotate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k)</span> </span>&#123;    <span class="hljs-keyword">int</span> t = l[k];    l[k] = r[t];    r[t] = k;    size[t] = size[k];    pushup(k);    k = t;  &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!k) &#123;      sz++;      k = sz;      size[k] = x;      w[k] = <span class="hljs-number">1</span>;      val[k] = x;      rnd[k] = rand();      <span class="hljs-keyword">return</span>;    &#125;    size[k]+=x;    <span class="hljs-keyword">if</span> (val[k] == x) &#123;      w[k]++;    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val[k] &lt; x) &#123;      insert(r[k], x);      <span class="hljs-keyword">if</span> (rnd[r[k]] &lt; rnd[k]) lrotate(k);    &#125; <span class="hljs-keyword">else</span> &#123;      insert(l[k], x);      <span class="hljs-keyword">if</span> (rnd[l[k]] &lt; rnd[k]) rrotate(k);    &#125;  &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">del</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!S.count(x))        <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">if</span> (val[k] == x) &#123;      <span class="hljs-keyword">if</span> (w[k] &gt; <span class="hljs-number">1</span>) &#123;        w[k]--;        size[k]-=x;        <span class="hljs-keyword">return</span>;      &#125;      <span class="hljs-keyword">if</span> (l[k] == <span class="hljs-number">0</span> || r[k] == <span class="hljs-number">0</span>) &#123;          S.erase(x);          k = l[k] + r[k];      &#125;      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rnd[l[k]] &lt; rnd[r[k]]) &#123;        rrotate(k);        del(k, x);      &#125; <span class="hljs-keyword">else</span> &#123;        lrotate(k);        del(k, x);      &#125;    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val[k] &lt; x) &#123;      size[k]-=x;      del(r[k], x);    &#125; <span class="hljs-keyword">else</span> &#123;      size[k]-=x;      del(l[k], x);    &#125;  &#125;  <span class="hljs-function">ll <span class="hljs-title">querySum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!k) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <span class="hljs-keyword">if</span> (val[k] == x)      <span class="hljs-keyword">return</span> size[l[k]] + w[k]*val[k];    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x &gt; val[k]) &#123;      <span class="hljs-keyword">return</span> size[l[k]] + w[k]*val[k] + querySum(r[k], x);    &#125; <span class="hljs-keyword">else</span>      <span class="hljs-keyword">return</span> querySum(l[k], x);  &#125;  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">querynum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, ll x)</span> </span>&#123;    <span class="hljs-keyword">if</span> (!k) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <span class="hljs-keyword">if</span> (x == val[k])&#123;        <span class="hljs-keyword">return</span> w[k];    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x &lt; val[k])&#123;        <span class="hljs-keyword">return</span> querynum(l[k], x);    &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-keyword">return</span> querynum(r[k], x);    &#125;  &#125;&#125; T;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;    srand(<span class="hljs-number">123</span>);    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;mod);    <span class="hljs-keyword">int</span> opt;    ll x;    ll v;    ll l, r;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%lld&quot;</span>, &amp;opt, &amp;x);        <span class="hljs-keyword">if</span> (opt == <span class="hljs-number">0</span>) &#123;            <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod) x = (x + lans) % mod;            S.insert(x);            T.insert(T.rt, x);        &#125;        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt == <span class="hljs-number">1</span>)&#123;            <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod) x = (x + lans) % mod;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, T.querynum(T.rt, x));            T.del(T.rt, x);        &#125;        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt == <span class="hljs-number">2</span>) &#123;            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;v);            <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>&amp;&amp;x&lt;mod) l = (x+lans)%mod;            <span class="hljs-keyword">if</span>(v&gt;=<span class="hljs-number">0</span>&amp;&amp;v&lt;mod) r = (v+lans)%mod;            <span class="hljs-keyword">if</span>(l&gt;r)&#123;                ll tmp = l;                l = r;                r = tmp;            &#125;            ll sum = T.querySum(T.rt, r) - T.querySum(T.rt, l);            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, sum);            lans = sum;        &#125;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>OJ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
      <category>æ ‘</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>OJ</tag>
      
      <tag>å¹³è¡¡æ ‘</tag>
      
      <tag>Treap</tag>
      
      <tag>BST</tag>
      
      <tag>æ¨¡æ¿</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BalanceSegmentPainting</title>
    <link href="/2020/12/05/BalanceSegmentPainting/"/>
    <url>/2020/12/05/BalanceSegmentPainting/</url>
    
    <content type="html"><![CDATA[<pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iostream&quot;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> n;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; f;<span class="hljs-keyword">int</span> res=<span class="hljs-number">0</span>;<span class="hljs-keyword">int</span> r;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span></span>&#123;    <span class="hljs-keyword">if</span>(f[k]==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">//æ²¡è¢«æŸ“é»‘</span>    <span class="hljs-keyword">if</span>(f[k]&lt;<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> k;   <span class="hljs-comment">//æ ¹èŠ‚ç‚¹æ˜¯è´Ÿæ•°</span>    <span class="hljs-keyword">return</span> f[k]=Find(f[k]); <span class="hljs-comment">//é›†å›¢æŸ“é»‘</span>&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span>&#123;    <span class="hljs-keyword">int</span> fa = Find(a);    <span class="hljs-comment">//ä¸¤ä¸ªéƒ½æ˜¯æ­£æ•°</span>    <span class="hljs-keyword">int</span> fb = Find(b);    <span class="hljs-comment">//faå’Œfbæ˜¯aå’Œbçš„æ ¹çš„ä½ç½®</span>    <span class="hljs-keyword">if</span>(fa != fb)&#123;        <span class="hljs-keyword">int</span> numA = f[fa];  <span class="hljs-comment">//è¿™ä¸ªæ•°æ˜¯è´Ÿçš„ï¼›</span>        <span class="hljs-keyword">int</span> numB = f[fb];  <span class="hljs-comment">//ä¹Ÿæ˜¯è´Ÿçš„ï¼›</span>        <span class="hljs-keyword">int</span> numAll = numA + numB;        f[fa] = fb;      <span class="hljs-comment">//façš„æ ¹æ¢æˆäº†fb</span>        f[fb] = numAll;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);    f= <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n+<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;r);        f[r] = <span class="hljs-number">-1</span>;  <span class="hljs-comment">//æ–°æŸ“è‰²ï¼Œè‡ªå·±æ˜¯è‡ªå·±çš„æ ¹ï¼›</span>        <span class="hljs-keyword">int</span> left = Find(r<span class="hljs-number">-1</span>);  <span class="hljs-comment">//è¿”å›çš„æ˜¯ä½ç½®</span>        <span class="hljs-keyword">int</span> right = Find(r+<span class="hljs-number">1</span>);        <span class="hljs-keyword">if</span>(left&gt;<span class="hljs-number">0</span>) Union(r, left);    <span class="hljs-comment">//ä¸¤ä¸ªä½ç½®Union</span>        <span class="hljs-keyword">if</span>(right&gt;<span class="hljs-number">0</span>) Union(r, right);        <span class="hljs-keyword">int</span> t = -f[Find(r)];        <span class="hljs-keyword">if</span>(t &gt; res) res = t;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, res);    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>GodMiner</title>
    <link href="/2020/12/04/GodMiner/"/>
    <url>/2020/12/04/GodMiner/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>Nezzar is addicted to game Gold Miner recently.</p><p>Gold Miner is a game in which the player is in an ğ‘›Ã—ğ‘›nÃ—n grid, and the goal is to collect gold without entering forbidden area. It is known that cell (ğ‘–,ğ‘—)(i,j) is forbidden to enter if and only if $i=j$ or $i=j+1$.</p><p>In one round, Nezzar may choose two non-empty sets $X,YâŠ†[n]$, and collect gold in cell $(i,j)$ for all $iâˆˆX,jâˆˆY$. However, he immediately fails if there exists $iâˆˆX$ and $jâˆˆY$ such that $(i,j)$ is forbidden to enter.</p><p>As a greedy miner, Nezzar would like to enter all but forbidden cells to collect gold. However, he is running out of time! <strong>He can only play the game for at most $50$ rounds.</strong> Can you design an algorithm to solve this problem for him?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>One line containing one integer $n (2â‰¤nâ‰¤3000)$, the size of the grid.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p><strong>Please read this part carefully, as you may fail to pass the test cases if you have formating issues.</strong></p><p>For each round with subsets $X,Y$ being chosen, output elements in $X$ <strong>increasingly</strong> in the first line, and then output elements in $Y$ <strong>increasingly</strong> in the second line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><pre><code class="hljs c++"><span class="hljs-number">3</span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><pre><code class="hljs c++"><span class="hljs-number">1</span><span class="hljs-number">2</span> <span class="hljs-number">3</span><span class="hljs-number">1</span> <span class="hljs-number">2</span><span class="hljs-number">3</span><span class="hljs-number">3</span><span class="hljs-number">1</span></code></pre><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>It is <strong>allowed</strong> to enter some cells multiple times!</p><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>Believe it or not, we can use divide-and-conquer technique to solve this task.</p><p>Let $T(n)$ denote the number of rounds we need to solve the above task with parameter $n$. Notice that $T(n)=T(n/2)+O(1)$ implies $T(n)=O(logâ¡n)$, and we may need an algorithm satisfying this recurrence to solve the problem.</p><h3 id="å¤§è‡´é¢˜æ„"><a href="#å¤§è‡´é¢˜æ„" class="headerlink" title="å¤§è‡´é¢˜æ„"></a>å¤§è‡´é¢˜æ„</h3><p>æœ‰ä¸€ä¸ª$nÃ—n$çš„æ£‹ç›˜ï¼Œåœ¨ä¸»å¯¹è§’çº¿çš„ä¸¤æ’æ˜¯ä¸å…è®¸å¼€é‡‡çš„ç¦åŒºï¼Œå¦‚ä¸‹å›¾ã€‚æ¯ä¸€æ¬¡æˆ‘ä»¬å¯ä»¥é€‰ä¸¤ä¸ªæ¨ªçºµåæ ‡çš„é›†åˆ$X$å’Œ$Y$ã€‚å¯¹äºä¸¤ä¸ªé›†åˆæ‰€æœ‰å…ƒç´ ç»„æˆçš„ç‚¹$(x, y)$è¿›è¡Œå¼€é‡‡ã€‚æ³¨æ„ï¼Œè¿™ä¸ªç‚¹ä¸å¯ä»¥æ˜¯ç¦åŒºã€‚å¯ä»¥é‡å¤å¼€é‡‡åŒä¸€ä¸ªç‚¹ï¼Œä½†æ˜¯æ€»é€‰æ‹©æ¬¡æ•°ä¸å¯ä»¥è¶…è¿‡50æ¬¡ï¼ˆæœ€å¤šé€‰100ä¸ªé›†åˆï¼‰ã€‚ä»»ä½•æœ‰æ•ˆçš„å¼€é‡‡æ–¹æ³•éƒ½ä¼šè¢«åˆ¤å¯¹ã€‚</p><p><img src="/img/DS/æ£‹ç›˜.png" alt="çŸ¿åŒº"></p><h3 id="Naive-Solution"><a href="#Naive-Solution" class="headerlink" title="Naive Solution"></a>Naive Solution</h3><p>åˆšå¼€å§‹çœ‹è¿™é“é¢˜ï¼Œä»¥ä¸ºè¿™é“é¢˜éå¸¸ç®€å•ã€‚å› ä¸ºæ„Ÿè§‰ä¸€çœ¼å°±å¯ä»¥çœ‹å‡ºåˆ†æ²»ä¸ºå·¦ä¸Šè§’å’Œå³ä¸‹è§’ä¸¤ä¸ªéƒ¨åˆ†ã€‚ç„¶åå†™å‡ºäº†ä»¥ä¸‹è¿™æ ·çš„ä»£ç ï¼š</p><ul><li>å¯¹äºåªæœ‰ä¸€ä¸ªå¯å¼€é‡‡çš„åŒºåŸŸï¼Œç›´æ¥è¿”å›è¿™ä¸ªå¼€é‡‡çš„ç»“æœï¼ˆä¸‹é¢çš„ä»£ç æ²¡å†™å‡ºæ¥ã€‚ã€‚ã€‚ï¼‰</li><li>å¯¹äºä¸¤ä¸ªçš„æƒ…å†µï¼Œå¼€é‡‡å³ä¸Šè§’ï¼›</li><li>ç„¶ååˆ†å¥‡å¶æƒ…å†µï¼Œåšä¸åŒçš„åˆ†å‰²ï¼›</li></ul><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iostream&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> n;<span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">miner</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right, <span class="hljs-keyword">int</span> up, <span class="hljs-keyword">int</span> down)</span></span>&#123;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">2</span>) &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, up);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, right);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">int</span> tmp = (s+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> != <span class="hljs-number">0</span>)&#123;        miner(tmp, left, left+tmp<span class="hljs-number">-1</span>, up, down-tmp+<span class="hljs-number">1</span>);        miner(tmp, right-tmp+<span class="hljs-number">1</span>, right, up+tmp<span class="hljs-number">-1</span>, down);        <span class="hljs-comment">//å³ä¸Š</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, right-tmp+<span class="hljs-number">2</span>+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);        <span class="hljs-comment">//å·¦ä¸‹</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+tmp+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s-tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, left+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);    &#125;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> == <span class="hljs-number">0</span>)&#123;        miner(tmp+<span class="hljs-number">1</span>, left, left+tmp, up, up+tmp);        miner(tmp, right-tmp+<span class="hljs-number">1</span>, right, down-tmp+<span class="hljs-number">1</span>, down);        <span class="hljs-comment">//å³ä¸Š</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp<span class="hljs-number">-1</span>; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, left+tmp+<span class="hljs-number">1</span>+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);        <span class="hljs-comment">//å·¦ä¸‹</span>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp<span class="hljs-number">-1</span>; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, up+tmp+<span class="hljs-number">1</span>+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tmp; i++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, left+i);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cnt=%d\n&quot;</span>, cnt++);    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">cin</span> &gt;&gt; n;    miner(n, <span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>, n);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><p>ç„¶åä¸å‡ºæ„å¤–ä¼šå‘ç°ï¼šè¿™ä¹ˆåšæ¶ˆè€—çš„æ¬¡æ•°æ¯”ä¸€è¡Œä¸€è¡Œéå†è¿˜è¦é«˜â€”â€”å› ä¸ºæ¯ä¸€ä¸ªç¦åŒºè¾¹ç¼˜çš„åŒºåŸŸéƒ½è½¬åŒ–æˆäº†ä¸€ä¸ªå°æ–¹æ ¼å»å¼€é‡‡ã€‚å°è±¡ä¸­è¿™æ ·çš„åšæ³•å¤§æ¦‚è¿›è¡Œäº†8700å¤šæ¬¡â€¦â€¦</p><h3 id="æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•"><a href="#æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•" class="headerlink" title="æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•"></a>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•</h3><p>è¿™ä¸ä¸€å®šæ˜¯æ›´å¥½çš„æ–¹æ³•ï¼ˆå› ä¸ºé‡å¤æŒ–äº†å¾ˆå¤šæ–¹æ ¼ï¼‰ï¼Œä½†æ˜¯æ˜¯æœ€èŠ‚çœé›†åˆé€‰æ‹©æ¬¡æ•°ï¼ˆä¸Šé™50æ¬¡ï¼‰çš„æ–¹æ³•ã€‚</p><p>ä¸»è¦çš„æ€è·¯æ˜¯â€”â€”<strong>åŒæ—¶æœç´¢å·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹ï¼Œä»¥èŠ‚çœæ¬¡æ•°</strong>ï¼Œè¿™æ ·å°±</p><p>å› ä¸ºåœ¨ä½¿ç”¨åˆ†æ²»é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæ— æ³•ä½¿å¾—æ¯ä¸€è½®çš„$X$å’Œ$Y$å¯¹åº”è¢«æ‰“å°ï¼Œä¹Ÿæ— æ³•ä½¿å¾—ä¸å¹²æ‰°çš„åŒºåŸŸä¹‹é—´åŒæ—¶è¢«æœç´¢ï¼Œå› æ­¤ä½¿ç”¨äº†<code>vector&lt;vector&lt;int&gt;&gt; solution(50, vector&lt;int&gt;())</code>å°†ç­–ç•¥å­˜å‚¨åœ¨å®¹å™¨ä¹‹ä¸­ï¼›å› ä¸ºå¯¹ç­”æ¡ˆæœ‰éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿›è¡Œéå†çš„æ—¶å€™ä¹Ÿè¦ä»å°æ¬¡åºå¼€å§‹ï¼Œä½¿ç”¨<code>push_back</code>ç›´æ¥æŠŠå…ƒç´ æ”¾å…¥æœ«å°¾å³å¯ã€‚</p><p>å¯¹äº$n$æ¯”è¾ƒå°çš„æƒ…å†µï¼Œæ¯”å¦‚$n \leq 7$çš„æƒ…å†µï¼Œä»ç„¶æ˜¯ä¸€è¡Œä¸€è¡Œéå†çš„æƒ…å†µæ¬¡æ•°æ›´å°‘ï¼›å› æ­¤å¹¶æ²¡æœ‰è¿›è¡Œæ“ä½œï¼Œç›´æ¥æš´åŠ›<code>push_back</code>(._.)</p><p>å¯¹äº$n$æ¯”è¾ƒå¤§çš„æƒ…å†µæˆ‘ä»¬å°±ä¸èƒ½éå†äº†ã€‚</p><p>æˆ‘è¿˜æ˜¯ä½¿ç”¨äº†<strong>åˆ†å¥‡å¶</strong>çš„æ€è·¯ï¼Œå¹¶åŒæ—¶æœç´¢å››å—åŒºåŸŸã€‚</p><p>å…ˆä»¥å¶æ•°$n=10$ä¸ºä¾‹ï¼š</p><p><img src="/img/DS/å¶æŒ–æ³•.png" alt=""></p><p>è·Ÿæ˜æ˜¾ï¼šå·¦ä¸Šå’Œå³ä¸‹æ˜¯$n = 4$çš„æƒ…å†µï¼Œå³ä¸Šå’Œå·¦ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ­£æ–¹å½¢ï¼Œä¸­é—´æœ‰ä¸¤è¡Œåå­—å½¢çš„åŒºåŸŸã€‚æˆ‘çš„å¤„ç†ç­–ç•¥æ˜¯ï¼šé€’å½’å¤„ç†å·¦ä¸Šå’Œå³ä¸‹çš„å­æƒ…å†µï¼Œè€—æ—¶ï¼š<code>miner(4)</code>ï¼›å·¦ä¸‹å’Œå³ä¸Šå®Œæ•´çš„æ­£æ–¹å½¢ï¼š2æ¬¡ï¼ˆæ•´ä¸ªæŒ–å»æ­£æ–¹å½¢ï¼‰ï¼›åå­—å½¢ç›´æ¥éå†æ¨ªç«–ï¼š2æ¬¡ï¼›</p><script type="math/tex; mode=display">log_23000 = 11.5</script><p>é‚£ä¹ˆå¦‚æœæ¯è½®è¿›è¡Œ4æ¬¡çš„è¯ï¼Œå¤§è‡´ä¼šè¿›è¡Œ46æ¬¡ï¼›</p><p>è‡³äºå¥‡æ•°ï¼Œä»¥$n=11$ä¸ºä¾‹ï¼šä¸å¤šè§£é‡Šå•¦ï¼Œçœ‹å›¾å°±èƒ½æ˜ç™½å•¦</p><p><img src="/img/DS/å¥‡æŒ–æ³•.png" alt=""></p><p>è‡³äºæˆ‘çš„ä»£ç å¤ªè¿‡ä¸‘é™‹ï¼Œç”šè‡³å®ç°çš„è¿˜å’Œä»¥ä¸Šè¯´çš„æœ‰ä¸€äº›ä¸ä¸€æ ·â€¦â€¦(._.)</p><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iostream&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-keyword">int</span> n;<span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; <span class="hljs-title">solutionX</span><span class="hljs-params">(<span class="hljs-number">50</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;())</span></span>;<span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; <span class="hljs-title">solutionY</span><span class="hljs-params">(<span class="hljs-number">50</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;())</span></span>;<span class="hljs-keyword">int</span> check;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mineSq</span><span class="hljs-params">(<span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right, <span class="hljs-keyword">int</span> up, <span class="hljs-keyword">int</span> down)</span></span>&#123;    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;= down; i++)&#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;= right; i++)&#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">miner</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right, <span class="hljs-keyword">int</span> up, <span class="hljs-keyword">int</span> down, <span class="hljs-keyword">int</span> opr)</span></span>&#123;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">3</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(right);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(right);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">4</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">5</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s == <span class="hljs-number">6</span>)&#123;        solutionX[opr].push_back(up);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">3</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">4</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">5</span>);        opr++;        solutionX[opr].push_back(up+<span class="hljs-number">5</span>);        solutionY[opr].push_back(left);        solutionY[opr].push_back(left+<span class="hljs-number">1</span>);        solutionY[opr].push_back(left+<span class="hljs-number">2</span>);        solutionY[opr].push_back(left+<span class="hljs-number">3</span>);        opr++;        check = opr;        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> == <span class="hljs-number">1</span>)&#123;        <span class="hljs-keyword">int</span> mid = (s+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left+mid; i&lt;=right; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;=up+mid<span class="hljs-number">-2</span>; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=left+mid<span class="hljs-number">-2</span>; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up+mid; i&lt;=down; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid<span class="hljs-number">-1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=right; i++)&#123;            <span class="hljs-keyword">if</span>(i==left+mid<span class="hljs-number">-2</span> || i==left+mid<span class="hljs-number">-1</span>) <span class="hljs-keyword">continue</span>;            solutionY[opr].push_back(i);        &#125;        opr++;        solutionY[opr].push_back(left+mid<span class="hljs-number">-1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;=down; i++)&#123;            <span class="hljs-keyword">if</span>(i==up+mid<span class="hljs-number">-1</span> || i==up+mid) <span class="hljs-keyword">continue</span>;            solutionX[opr].push_back(i);        &#125;        opr++;        miner(mid<span class="hljs-number">-1</span>, left, left+mid<span class="hljs-number">-2</span>, up, up+mid<span class="hljs-number">-2</span>, opr);        miner(mid<span class="hljs-number">-1</span>, left+mid, right, up+mid, down, opr);        <span class="hljs-keyword">return</span>;    &#125;    <span class="hljs-keyword">if</span>(s%<span class="hljs-number">2</span> == <span class="hljs-number">0</span>)&#123;        <span class="hljs-keyword">int</span> mid = s/<span class="hljs-number">2</span>;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left+mid<span class="hljs-number">-1</span>; i&lt;=right; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up; i&lt;=up+mid<span class="hljs-number">-2</span>; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=left+mid; i++)&#123;            solutionY[opr].push_back(i);        &#125;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=up+mid+<span class="hljs-number">2</span>; i&lt;=down; i++)&#123;            solutionX[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid<span class="hljs-number">-1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=right; i++)&#123;            <span class="hljs-keyword">if</span>(i==left+mid<span class="hljs-number">-2</span> || i==left+mid<span class="hljs-number">-1</span>) <span class="hljs-keyword">continue</span>;            solutionY[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=right; i++)&#123;            <span class="hljs-keyword">if</span>(i==left+mid || i==left+mid<span class="hljs-number">-1</span>) <span class="hljs-keyword">continue</span>;            solutionY[opr].push_back(i);        &#125;        opr++;        solutionX[opr].push_back(up+mid+<span class="hljs-number">1</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=left; i&lt;=left+mid<span class="hljs-number">-1</span>; i++)&#123;            solutionY[opr].push_back(i);        &#125;        opr++;        miner(mid<span class="hljs-number">-1</span>, left, left+mid<span class="hljs-number">-2</span>, up, up+mid<span class="hljs-number">-2</span>, opr);        miner(mid<span class="hljs-number">-1</span>, left+mid+<span class="hljs-number">1</span>, right, up+mid+<span class="hljs-number">1</span>, down, opr);        <span class="hljs-keyword">return</span>;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-built_in">cin</span> &gt;&gt; n;    miner(n, <span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>, n, <span class="hljs-number">0</span>);    <span class="hljs-comment">//cout &lt;&lt; check &lt;&lt; endl;</span>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;check; i++)&#123;        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;solutionX[i].size(); j++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, solutionX[i][j]);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>; k&lt;solutionY[i].size(); k++)&#123;            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, solutionY[i][k]);        &#125;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><h3 id="æ£‹ç›˜pythonç”Ÿæˆä»£ç "><a href="#æ£‹ç›˜pythonç”Ÿæˆä»£ç " class="headerlink" title="æ£‹ç›˜pythonç”Ÿæˆä»£ç "></a>æ£‹ç›˜pythonç”Ÿæˆä»£ç </h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">grid</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):            <span class="hljs-keyword">if</span> i==j <span class="hljs-keyword">or</span> i==j+<span class="hljs-number">1</span>:                print(<span class="hljs-string">&quot;ã„¨ &quot;</span>, end=<span class="hljs-string">&quot;&quot;</span>)            <span class="hljs-keyword">else</span>:                print(<span class="hljs-string">&quot;â¬œ &quot;</span>, end=<span class="hljs-string">&quot;&quot;</span>)        print()<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    grid(<span class="hljs-number">11</span>)</code></pre>]]></content>
    
    
    <categories>
      
      <category>OJ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ†æ²»</tag>
      
      <tag>Divide and Conquer</tag>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>OJ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LargeSumSubarray</title>
    <link href="/2020/12/04/LargeSumSubarray/"/>
    <url>/2020/12/04/LargeSumSubarray/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>Nezzar has recently learnt how to find maximum subarray in the algorithm class. However, he finds out that in many cases, subarray with large sum is sufficient. Thus, he would like to know the number of subarrays with sum <strong>greater than</strong> $t$ for a sequence $a$.</p><p>Formally, you are given a sequence $a_1,a_2, â€¦ ,a_n$. </p><p>you are required to calculate the number of pairs $(i,j)$ such that $1 \le i \le j \le n$ and $\sum_{k=i}^j a_k &gt; t$.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains integers $(n,t) ((1 \le n \le 10^6, -10^{15} \le t \le 10^{15}))$; that is, the length of the given sequence and the threshold. The next line contains $n$ integers $a_1,a_2, â€¦ ,a_n$ where $(-10^9 \le a_i \le 10^9)$, describing the given sequence.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Output one integer, the number of pairs $(i,j)$ satisfying the requirements mentioned above.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><pre><code class="hljs python"><span class="hljs-number">5</span> <span class="hljs-number">8</span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">-1</span> <span class="hljs-number">4</span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><pre><code class="hljs python"><span class="hljs-number">1</span></code></pre><h3 id="Hints"><a href="#Hints" class="headerlink" title="Hints"></a>Hints</h3><p>You may need to design an $O(n \log n)$ time divide-and-conquer algorithm to pass all testcases. It is recommended to use C/C++ instead of Python or Java.</p><h3 id="å¤§è‡´é¢˜æ„"><a href="#å¤§è‡´é¢˜æ„" class="headerlink" title="å¤§è‡´é¢˜æ„"></a>å¤§è‡´é¢˜æ„</h3><p>ç»™å®šä¸€ä¸²æ•°åˆ—$a_n$å’ŒæŸä¸ªæ•°$t$ï¼Œæ±‚æ•´ä¸²æ•°åˆ—ä¸­æœ‰å¤šå°‘ä¸ªè¿ç»­çš„å­ä¸² which å’Œå¤§äº$t$ã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>é¦–å…ˆï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æƒå€¼çº¿æ®µæ•°æ®ç»“æ„è§£å†³æœ¬é¢˜ã€‚ä½†è¿™å¹¶éæœ¬æ¬¡OJçš„å‡ºé¢˜ç›®çš„ï¼Œå› æ­¤ä¸å¤šèµ˜è¿°ï¼ˆä¸»è¦å› ä¸ºæˆ‘ä¹Ÿä¸ä¼šğŸ˜…ï¼‰</p><p>æ‰€ä»¥è¿™æ¬¡è€ƒè™‘çš„æ˜¯ä½¿ç”¨å‰ç¼€å’Œåˆ†æ²»å†ç”¨å°ºå–æ³•ã€‚</p><p>è€ƒè™‘å­åºåˆ—å’Œæ—¶ï¼Œå‰ç¼€å’Œ$sum[0], sum[1], â€¦ , sum[n]$æ˜¯å¸¸ç”¨åˆ°çš„æ–¹æ³•ã€‚ä»è€Œä½¿å¾—$p$åˆ°$q$çš„å­åˆ—å’Œå¯ä»¥è¡¨ç¤º$sum[q] - sum[p]$ã€‚å¯¹äºæ­¤é¢˜ä¸­çš„æƒ…å†µï¼Œæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘ä½¿å¾—$sum[q] - sum[p] \gt t$ï¼Œå°±è¿™æ ·å¯ä»¥è½¬åŒ–ä¸º$sum[q] \gt t + sum[p]$ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè€ƒè™‘ä¸€ä¸ªæ™®é€šçš„æƒ…å†µã€‚å¯¹äºä¸€ä¸ªå‰ç¼€å’Œæ•°åˆ—$sum[0], sum[1], â€¦ , sum[n]$ï¼Œå°†å®ƒä¸€åˆ†ä¸ºäºŒï¼Œå·¦è¾¹ä¸€åŠçš„æ¯ä¸ªå…ƒç´ é€ä¸ªä¸å³è¾¹ä¸€åŠçš„æ¯ä¸ªå…ƒç´ ä¸tä¹‹å’Œæ¯”è¾ƒã€‚å¦‚æœæ»¡è¶³$sum[q] \gt t + sum[p]$ã€‚è¯´æ˜æˆç«‹ã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æ’åºä½¿å¾—æ•´ä¸ªè¿‡ç¨‹æ›´åŠ ç®€å•ã€‚æˆ‘ä»¬åœ¨è®²æ•°ç»„ä¸€åˆ†ä¸ºäºŒçš„åŒæ—¶è¿˜å¯ä»¥è¿›è¡Œå½’å¹¶æ’åºã€‚ä½¿ç”¨C++åº“å‡½æ•°ä¸­çš„<code>inplace_merge</code>ï¼Œåœ¨åŸæ•°ç»„çš„ä½ç½®å¹¶æ’ä¸ºå‡åºã€‚</p><p>å…³äº<code>inplace_merge</code>å‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªä½ç½®å‚æ•°â€”â€”<code>start</code>ï¼Œ<code>mid</code>ï¼Œ<code>end</code>ã€‚æ“ä½œä¹‹åå°†<code>start</code>åˆ°<code>end</code>çš„ä½ç½®çš„æ•°ç»„å½’å¹¶æ’åºã€‚</p><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;algorithm&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;ll n;ll t;ll a[<span class="hljs-number">1000001</span>];ll ans=<span class="hljs-number">0</span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span>&#123;    <span class="hljs-keyword">if</span>(l==r) <span class="hljs-keyword">return</span> ;    <span class="hljs-keyword">int</span> m=(l+r)&gt;&gt;<span class="hljs-number">1</span>;    <span class="hljs-keyword">int</span> i=l,j=m+<span class="hljs-number">1</span>;    merge(l,m);merge(m+<span class="hljs-number">1</span>,r);    <span class="hljs-keyword">for</span>(;i&lt;=m;i++,ans+=r-j+<span class="hljs-number">1</span>)&#123;        <span class="hljs-keyword">for</span>(;j&lt;=r&amp;&amp;a[j]&lt;=t+a[i];) j++;    &#125;    inplace_merge(a+l,a+m+<span class="hljs-number">1</span>,a+r+<span class="hljs-number">1</span>);&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;n);    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;t);    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;a[i]);        a[i] += a[i - <span class="hljs-number">1</span>];    &#125;    merge(<span class="hljs-number">0</span>, n);    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, ans);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><p>å¦‚ä½•ä¿è¯ä¸æ‰¾åˆ°é‡å¤çš„å­—åºåˆ—ï¼Ÿå› ä¸ºäºŒåˆ†çš„ä¸¤ä¸ªéƒ¨åˆ†éƒ½æ˜¯å·²ç»æœç´¢ç»“æŸçš„ï¼Œä»–ä»¬å†…éƒ¨å·²ç»æœç´¢å®Œæ¯•ï¼Œè€Œä¸ä¼šåœ¨åç»­è¢«é‡å¤æœç´¢ï¼Œå› æ­¤ä¸ä¼šå‡ºç°å¤šæ•°ä¸€æ¬¡çš„æƒ…å†µã€‚</p><p>å½“æˆ‘ä»¬æ‹¿åˆ°äº†å·²ç»æ’å¥½åºä¸”ç»Ÿè®¡è¿‡çš„ä¸¤éƒ¨åˆ†ï¼Œå¯¹å·¦è¾¹çš„éƒ¨åˆ†ä¸­æ¯ä¸€ä¸ªå…ƒç´ éå†å³è¾¹éƒ¨åˆ†ã€‚å› ä¸ºä¸¤ä¸ªéƒ¨åˆ†å·²ç»æ˜¯å‡åºçš„ï¼Œå› æ­¤éå†çš„è¿‡ç¨‹ä¸­åªè¦æ‰¾åˆ°$sum[q] \gt t + sum[p]$ï¼Œå°±å¯ä»¥ç»ˆæ­¢å¾ªç¯ï¼Œå¹¶ä¸”å°†å‰©ä½™çš„å‰ç¼€å’Œæ•°é‡åŠ å…¥<code>ans</code>å°±å¯ä»¥äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>OJ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ†æ²»</tag>
      
      <tag>Divide and Conquer</tag>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>OJ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>COA-Bus</title>
    <link href="/2020/12/03/COA-Bus/"/>
    <url>/2020/12/03/COA-Bus/</url>
    
    <content type="html"><![CDATA[<h3 id="ä»²è£"><a href="#ä»²è£" class="headerlink" title="ä»²è£"></a>ä»²è£</h3><ul><li>è™½ç„¶åœ¨åŒä¸€æ—¶åˆ»è¿æ¥æ€»çº¿çš„è®¾å¤‡å¯ä»¥æ¥å—ä¿¡æ¯ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªè®¾å¤‡å¯ä»¥å‘é€ä¿¡æ¯ï¼›</li><li>å¤šä¸ªè®¾å¤‡æƒ³è¦å‘å‡ºä¿¡æ¯ï¼Œéœ€è¦ä»²è£ï¼›</li></ul><h3 id="é›†ä¸­å¼"><a href="#é›†ä¸­å¼" class="headerlink" title="é›†ä¸­å¼"></a>é›†ä¸­å¼</h3><h4 id="ç¡¬ä»¶â€”â€”æ€»çº¿æ§åˆ¶å™¨-ä»²è£å™¨"><a href="#ç¡¬ä»¶â€”â€”æ€»çº¿æ§åˆ¶å™¨-ä»²è£å™¨" class="headerlink" title="ç¡¬ä»¶â€”â€”æ€»çº¿æ§åˆ¶å™¨/ä»²è£å™¨"></a>ç¡¬ä»¶â€”â€”æ€»çº¿æ§åˆ¶å™¨/ä»²è£å™¨</h4><h5 id="é“¾å¼"><a href="#é“¾å¼" class="headerlink" title="é“¾å¼"></a>é“¾å¼</h5><ul><li>ç”¨<strong>è®¸å¯çº¿</strong>å°†è®¾å¤‡å…¨éƒ¨å­˜èµ·æ¥ï¼›å¾€å‰å‘é€è®¸å¯ä¿¡å·ï¼Œæ¥å—åˆ°ä¹‹åæ ¹æ®è‡ªå·±éœ€ä¸éœ€è¦æ€»çº¿æ¥å¤„ç†äº‹ä»¶ï¼Œå¦‚æœéœ€è¦åˆ™å°†æ€»çº¿è®¾ä¸ºå¿™ï¼Œä¸å¾€ä¸‹ä¼ ï¼›</li><li>åä¹‹å‘ä¸‹ç»§ç»­ä¼ ï¼›</li><li>çº¿æœ€å°‘ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œå…¬å¹³æ€§å·®ï¼›</li></ul><h5 id="è¯¢é—®å¼"><a href="#è¯¢é—®å¼" class="headerlink" title="è¯¢é—®å¼"></a>è¯¢é—®å¼</h5><ul><li>ä¸€ç»„çº¿ï¼›æŠ¥å·ï¼›</li><li>å¥½å¤„ï¼šé¿å…äº†åŸæ¥çš„é“¾å¼ç»“æ„ä¸­ï¼Œå¯¹ç”µè·¯è®¾å¤‡ä¸æ•æ„Ÿï¼Œä¸€æ—¦æœ‰è®¾å¤‡åäº†ï¼Œåé¢çš„è®¾å¤‡å†ä¹Ÿæ‹¿ä¸åˆ°ä¿¡å·ï¼›æŠ¥æ•°çš„é¡ºåºå¯ä»¥å¾ˆçµæ´»â€”â€”ä¼˜å…ˆçº§orå…¬å¹³æ€§ï¼›</li><li>åå¤„ï¼šå¤šäº†ä¸€äº›çº¿ï¼Œè®©è®¾å¤‡éœ€è¦<strong>è¯†æ•°</strong>ï¼Œæ—¶é—´ä¹Ÿä¸ç®—å¾ˆçŸ­ï¼›</li></ul><h5 id="ç‹¬ç«‹è¯·æ±‚å¼"><a href="#ç‹¬ç«‹è¯·æ±‚å¼" class="headerlink" title="ç‹¬ç«‹è¯·æ±‚å¼"></a>ç‹¬ç«‹è¯·æ±‚å¼</h5><ul><li>æ¯ä¸€ä¸ªéƒ½ä¼šå‘ä»²è£èµ·å‘å‡ºç”³è¯·ï¼›åŒä¸€æ—¶é—´ä»²è£å™¨ä¼šæ”¶åˆ°å¤šä¸ªç”³è¯·ï¼›</li><li>ä¼˜å…ˆçº§orå…¬å¹³æ€§ï¼›æ ¹æ®é¢„è®¾çš„ç®—æ³•åˆ¤å®šè¯¥åˆ†ç»™è°ã€‚</li><li>å¥½å¤„ï¼šæ¯ä¸€ä¸ªè®¾å¤‡éƒ½å¯ä»¥åœ¨ç¬¬ä¸€æ—¶é—´å‘å‡ºç”³è¯·ï¼Œä¸å­˜åœ¨ç­‰å¾…æ—¶é—´ï¼Œå“åº”æ—¶é—´å°±ä¼šæ¯”è¾ƒå¿«ï¼›å¯ä»¥è‡ªå·±å†³å®šä¼˜å…ˆçº§ï¼›</li><li>åå¤„ï¼šæ¯”è¾ƒå¤æ‚ï¼›æ¯”è¾ƒå¤šçš„çº¿ï¼›</li></ul><h3 id="è‡ªä¸¾å¼"><a href="#è‡ªä¸¾å¼" class="headerlink" title="è‡ªä¸¾å¼"></a>è‡ªä¸¾å¼</h3><p><img src="/img/COA/BUSSS.jpg" alt="ç®­å¤´è¡¨ç¤ºä¿¡æ¯æµåŠ¨â€”â€”æŸ¥çœ‹ä¿¡æ¯æ˜¯å¦å¿™"></p><p><code>Device3</code>çš„ä¼˜å…ˆçº§æœ€é«˜ã€‚<code>Device0</code>åªæœ‰åœ¨åˆ«äººéƒ½ä¸éœ€è¦ç”¨æ€»çº¿çš„æ—¶å€™æ‰èƒ½å‘å‡ºè¯·æ±‚ï¼›</p><h3 id="å†²çªæ£€æµ‹å¼"><a href="#å†²çªæ£€æµ‹å¼" class="headerlink" title="å†²çªæ£€æµ‹å¼"></a>å†²çªæ£€æµ‹å¼</h3><p>æ€»çº¿ä¸å¿™å°±ç›´æ¥â€œç”¨â€â€”â€”å‘é€ä¿¡æ¯ï¼Œç„¶åæ£€æµ‹ä¿¡æ¯æ˜¯ä¸æ˜¯è‡ªå·±å‘é€ï¼Œå¦‚æœä¸æ˜¯è‡ªå·±å‘çš„ï¼ˆæœ‰å…¶ä»–è®¾å¤‡åŒæ—¶å‘é€ä¿¡æ¯ï¼‰ï¼Œå°±éšæœºæš‚åœä¸€æ®µæ—¶é—´ï¼Œå†é‡æ–°å‘é€ã€‚</p><h3 id="æ—¶åº"><a href="#æ—¶åº" class="headerlink" title="æ—¶åº"></a>æ—¶åº</h3><h4 id="åŒæ­¥ï¼šæœ‰æ—¶é’Ÿ"><a href="#åŒæ­¥ï¼šæœ‰æ—¶é’Ÿ" class="headerlink" title="åŒæ­¥ï¼šæœ‰æ—¶é’Ÿ"></a>åŒæ­¥ï¼šæœ‰æ—¶é’Ÿ</h4><ul><li>æ€»çº¿äº‹ç‰©ï¼šåœ°å€+æ•°æ®+â€¦â€¦+æ•°æ®</li><li><img src="/img/COA/åŒæ­¥.jpg" alt=""></li><li>å¥½å¤„ï¼šç®€å•å»å®ç°å’Œæµ‹è¯•ï¼›</li><li>åå¤„ï¼šæ‰€æœ‰è®¾å¤‡å…±ç”¨åŒä¸€ä¸ªæ—¶é’Ÿâ€”â€”æ‰€æœ‰è®¾å¤‡éƒ½è¦ç­‰å¾…æœ€æ…¢çš„ï¼›æ€»çº¿é•¿åº¦å—é™äºæ—¶é’Ÿæ¼‚ç§»ï¼ˆæ—¶é’Ÿä¿¡å·ä¼ æ’­è¿‡é•¿æ—¶å‡†ç¡®æ€§ä¼šå˜å·®ï¼Œäº§ç”Ÿåå·®ï¼‰</li></ul><h4 id="å¼‚æ­¥ï¼šæ²¡æœ‰æ—¶é’Ÿï¼Œé€šè¿‡åå•†æœºåˆ¶ç›¸äº’é…åˆï¼›"><a href="#å¼‚æ­¥ï¼šæ²¡æœ‰æ—¶é’Ÿï¼Œé€šè¿‡åå•†æœºåˆ¶ç›¸äº’é…åˆï¼›" class="headerlink" title="å¼‚æ­¥ï¼šæ²¡æœ‰æ—¶é’Ÿï¼Œé€šè¿‡åå•†æœºåˆ¶ç›¸äº’é…åˆï¼›"></a>å¼‚æ­¥ï¼šæ²¡æœ‰æ—¶é’Ÿï¼Œé€šè¿‡åå•†æœºåˆ¶ç›¸äº’é…åˆï¼›</h4><ul><li>çº¦æŸï¼›</li><li><img src="/img/COA/å¼‚æ­¥.jpg" alt="çº¦æŸæ˜¯è“è‰²çš„çº¿â€”â€”â€ä¸‰æ¬¡æ¡æ‰‹â€œ"></li><li>åå¤„ï¼šå¯¹å™ªå£°æ¯”è¾ƒæ•æ„Ÿâ€”â€”æ ¹æ®å¯¹æ–¹çŠ¶æ€æ”¹å˜è‡ªå·±çš„çŠ¶æ€ï¼›</li><li><img src="/img/COA/æ¡æ‰‹.jpg" alt="å‡†å¤‡-æ’¤"></li><li>ä¿è¯å¯¹æ–¹æ¥æ”¶äº†å†æ’¤é€€ï¼›</li><li>ä¾‹å¦‚3-å¯¹æ–¹è¯´æ’¤äº†ï¼Œå¯¹æ–¹ï¼šæˆ‘çŸ¥é“ä½ æ’¤äº†â€”â€”çŸ¥é“å¯¹æ–¹æ’¤äº†è‡ªå·±å†æ’¤ï¼›</li><li>4-è¡¨ç¤ºâ€œåœ°å€â€è¿™ä»¶äº‹æƒ…å½»åº•ä¼ è¾“å®Œäº†ã€‚è¡¨ç¤ºåœ°å€å’Œæ•°æ®ä¼ é€’ä¹‹é—´æœ‰ä¸€ä¸ªå…ˆåå…³ç³»ï¼›</li><li>å¦‚æœæœ‰å¾ˆå¤šæ•°æ®åˆ™é‡å¤4567ï¼›</li></ul><h4 id="æ€»çº¿äº‹åŠ¡åˆ†å‰²"><a href="#æ€»çº¿äº‹åŠ¡åˆ†å‰²" class="headerlink" title="æ€»çº¿äº‹åŠ¡åˆ†å‰²"></a>æ€»çº¿äº‹åŠ¡åˆ†å‰²</h4><p><img src="/img/COA/æ€»çº¿äº‹åŠ¡åˆ†å‰².jpg" alt=""></p><ul><li>æ€»çº¿åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å®Œå…¨å ç”¨çš„ï¼Œå‡†å¤‡æ•°æ®éœ€è¦æ—¶é—´ï¼Œä¼ åœ°å€å’Œæ•°æ®ä¼ è¾“ä¹‹é—´ä¼šæœ‰ç©ºé—²çš„æ—¶é—´ï¼›</li><li>æŠŠä¼ åœ°å€å’Œä¼ æ•°æ®åˆ†æˆä¸¤æ­¥ï¼›</li><li>ä¼˜ç‚¹ï¼šåˆ©ç”¨ç‡æé«˜äº†ï¼›</li><li>ç¼ºç‚¹ï¼šå®Œæˆä¸€ä»¶äº‹æƒ…çš„æ—¶é—´æœ¬èº«ä¼šå˜é•¿â€”â€”æ¯ä¸€ä¸ªæ€»çº¿äº‹åŠ¡çš„å¹³å‡æ—¶é•¿ï¼›</li></ul><h4 id="æ€»çº¿å¸¦å®½å’Œæ•°æ®ä¼ è¾“ç‡"><a href="#æ€»çº¿å¸¦å®½å’Œæ•°æ®ä¼ è¾“ç‡" class="headerlink" title="æ€»çº¿å¸¦å®½å’Œæ•°æ®ä¼ è¾“ç‡"></a>æ€»çº¿å¸¦å®½å’Œæ•°æ®ä¼ è¾“ç‡</h4><h4 id="æ€»çº¿å¸¦å®½"><a href="#æ€»çº¿å¸¦å®½" class="headerlink" title="æ€»çº¿å¸¦å®½"></a>æ€»çº¿å¸¦å®½</h4><p><strong>ç†æƒ³æƒ…å†µä¸‹ï¼Œæ€»çº¿æœ€å¤§æ•°æ®ä¼ è¾“ç‡ï¼›</strong>ï¼ˆä¸è€ƒè™‘é¢å¤–å¼€é”€ï¼‰</p><ul><li>ä¸€æ¬¡èƒ½ä¼ å¤šå°‘æ•°æ®ï¼Œå¤šé•¿æ—¶é—´ä¼ ä¸€æ¬¡ï¼›</li></ul><h4 id="æ•°æ®ä¼ è¾“ç‡"><a href="#æ•°æ®ä¼ è¾“ç‡" class="headerlink" title="æ•°æ®ä¼ è¾“ç‡"></a>æ•°æ®ä¼ è¾“ç‡</h4><ul><li>éç†æƒ³æƒ…å†µä¸‹â€¦â€¦</li></ul><h4 id="æ€»çº¿å®½åº¦"><a href="#æ€»çº¿å®½åº¦" class="headerlink" title="æ€»çº¿å®½åº¦"></a>æ€»çº¿å®½åº¦</h4><ul><li>æ€»çº¿ä¸­æœ‰å¤šå°‘æ ¹å¼¦ï¼›åŒä¸€æ—¶åˆ»èƒ½ä¼ å¤šå°‘ä½ï¼›</li></ul><h4 id="è®¡ç®—"><a href="#è®¡ç®—" class="headerlink" title="è®¡ç®—"></a>è®¡ç®—</h4>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>COA</tag>
      
      <tag>Bus</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Diary-1</title>
    <link href="/2020/12/01/Diary/"/>
    <url>/2020/12/01/Diary/</url>
    
    <content type="html"><![CDATA[<h2 id="å¤šå°‘æ”¹å†™ä¸€ç‚¹è®°å½•å¿ƒæƒ…çš„ä¸œè¥¿"><a href="#å¤šå°‘æ”¹å†™ä¸€ç‚¹è®°å½•å¿ƒæƒ…çš„ä¸œè¥¿" class="headerlink" title="å¤šå°‘æ”¹å†™ä¸€ç‚¹è®°å½•å¿ƒæƒ…çš„ä¸œè¥¿"></a>å¤šå°‘æ”¹å†™ä¸€ç‚¹è®°å½•å¿ƒæƒ…çš„ä¸œè¥¿</h2><p>ï¼ˆç°åœ¨æ˜¯2020å¹´12æœˆ1æ—¥æ™š9:28ï¼Œäº‰å–åœ¨10:00ä¹‹å‰æå®šè¿™ç¯‡â€¦â€¦( Â´â–½` )ï¾‰ï¼‰</p><p>æ„Ÿè§‰è‡ªå·±è¯´è¿™äº›ä¸œè¥¿ä¸€ç›´å¾ˆæ²¡æœ‰æ¡ç†ï¼Œtotallyæ„è¯†æµï¼ˆx</p><p>ä¸€åˆ‡çš„èµ·å› å¥½åƒéƒ½æ˜¯wlsçš„è¿™ä¸€ç¯‡è¡¨ç™½å¢™</p><p><img src="/img/wls.jpg" alt=""></p><p>æœ¬æ¥ä¸€å¼€å§‹æƒ³å»å¯¹çº¿çš„ï¼Œå› ä¸ºæ„Ÿè§‰é™¤äº†wlså¾ˆå°‘æœ‰äººæœ‰èµ„æ ¼è¯´å‡ºè¿™æ®µè¯ï¼ˆç»“æœæ²¡æƒ³åˆ°çœŸçš„æ˜¯wlså‘çš„ï¼</p><p>èµ·å› æ˜¯ä¸€ä¸ªå­¦å¼Ÿçš„è¿·èŒ«ï¼Œè¯¢é—®åœ¨è½¯é™¢å¦‚ä½•â€œè‡ªæ•‘â€ã€‚çš„ç¡®ï¼Œç»å†äº†è®©äººç³Ÿå¿ƒçš„å¤§ä¸€ä¸Šï¼Œè°ä¸ä¼šæœ‰è¿™ç§æ„Ÿå—â€”â€”â€œé ï¼Œæ€ä¹ˆè¿™æ ·ï¼Ÿâ€â€œæ—¥ï¼Œæˆ‘å®Œè›‹äº†ï¼â€â€œnmdï¼Œæˆ‘é«˜è€ƒå®Œå°±ç»™æˆ‘è¿™ï¼Ÿâ€</p><p>è¿‡äº†ä¸€ä¸ªå­¦æœŸï¼Œç»å†äº†ä¸€äº›æ„Ÿäººçš„éš¾å¿˜çš„å¥½ç©çš„äº‹ï¼Œä¹Ÿå°±æ·¡å¿˜äº†è¿™ç§æ„Ÿå—ã€‚ç´§æ¥ç€å‘ç°è‡ªå·±èº«è¾¹æ•°ä¸æ¸…çš„èƒ½äººå¼ºè€…è¿‡å‡ºäº†ä¸ä¸€æ ·çš„é£é‡‡ï¼Œæ„ˆå‘è§‰å¾—è‡ªå·±åˆé¦‹åˆæ‡’åˆèœï¼Œå¼€å§‹èŒç”Ÿäº†ä¸å°‘æ··çš„æƒ³æ³•ã€‚åŒæ ·ä¹Ÿå› ä¸ºç±»ä¼¼çš„æƒ³æ³•é”™å¤±äº†è®¸å¤šçš„é”»ç‚¼è‡ªå·±çš„æœºä¼šâ€¦â€¦ä¹Ÿè®¸æ„Ÿè§‰è‡ªå·±åœ¨æˆç»©ä¸Šè¿˜å‹‰å¼ºæŒ½æ•‘ï¼Œæƒ³å½»å½»åº•åº•â€œå·â€ä¸€ä¸ªå­¦æœŸã€‚</p><p>ç„¶åå°±å¼€å§‹äº†è¿™å‡ ä¹æ¯«æ— æ”¶è·çš„å¤§äºŒä¸Šâ€”â€”çŸ¥è¯†æ²¡æ–°å­¦ä¼šä»€ä¹ˆï¼›ä»£ç æ²¡å†™å¤šå°‘ï¼›é™¤äº†ä½“é‡ä»€ä¹ˆéƒ½æ²¡æ¶¨â€¦â€¦çœ‹ç€sicpæ—¶æœŸçš„ç¥ç¥ä»¬åšç€æˆ‘æ—©å·²çœ‹ä¸æ‡‚çš„å·¥ä½œï¼Œéº»æœ¨åœ°å®‰æ…°è‡ªå·±ï¼šè¦æ˜¯èƒ½å·ä¸€å·ä¹Ÿè¡Œã€‚ç„¶è€Œï¼Œäº‹å®ä¸Šï¼Œâ€œè‡ªå·±å°±è¿™æ°´å¹³ï¼Œå†å¤ä¹ ä¹Ÿæ²¡ç”¨â€ã€‚</p><p>æ„Ÿå—åˆ°äº†çº¿ä»£çš„æ— å°½æ¶æ„ä»¥åŠä¸å¾®ç§¯åˆ†å¤©ä¸Šåœ°ä¸‹çš„åå·®ï¼›æ— æ•°ä¸ªddlå‰ç³Šå¼„å¥½çš„ä½œä¸šå’Œä¸èµ°å¿ƒçš„å£è¯­ç»ƒä¹ ï¼Œè±¡å¾ç€è®¸å¤šå¤©æ¥çš„å¾—è¿‡ä¸”è¿‡ï¼›ä¸æ–­ç¿»å€çš„å¼€é”€ä¹Ÿä»£è¡¨ç€æ²¡æœ‰é•¿è¿›çš„æ—¥æ—¥å¤œå¤œã€‚æ²¡æœ‰å¥¢æœ›å›å¿†è¿™äº›èƒ½å¤Ÿä½¿é¢“åºŸçš„è‡ªå·±æœ‰ä»»ä½•æ”¹å˜ï¼Œåªæ˜¯å¸Œæœ›æ½œæ„è¯†é‡Œçš„è‡ªå·±èƒ½å¤Ÿå¤šå°‘æœ‰äº›æ„è¯†ã€‚å†æƒ³æƒ³é‚£äº›æ€€ç€â€œè‡ªæ•‘â€ç†æƒ³çš„å­¦å¼Ÿå­¦å¦¹ã€åŒå­¦å­¦é•¿ä»¥åŠæ›¾ç»çš„è‡ªå·±ï¼Œåªèƒ½è§‰å¾—è‡ªå·±â€œéº»äº†éº»äº†â€ã€‚</p><p>ä»Šå¤©çš„SICPå¤œèŠä¹Ÿè®©è‡ªå·±å—æ•™è®¸å¤šï¼Œè®©æˆ‘å¼€å§‹æ€è€ƒï¼ˆè´¨ç–‘ï¼‰è‡ªå·±è®¾å®šçš„ç›®æ ‡æ˜¯å¦æ­£ç¡®å’Œåˆç†ã€‚å®è¯è¯´ï¼Œç°åœ¨ä¹Ÿæ²¡æœ‰ä¸€ä¸ªå¾ˆæ˜ç¡®çš„ç­”æ¡ˆâ€¦â€¦ä»ç„¶åªèƒ½æ˜¯èµ°ä¸€æ­¥çœ‹ä¸€æ­¥ï¼Œæ¯•ç«Ÿâ€¦â€¦æ€æ ·çš„äººç”Ÿé€‰æ‹©éƒ½ä¸èƒ½ç®—æ˜¯å®Œå…¨é”™çš„å§ã€‚</p><p>åˆšå¼€å­¦ï¼ˆå¤§æ¦‚æ˜¯å›½åº†åï¼‰ï¼Œæ‰¾æ¨¾å“¥èŠäº†åŠä¸ªå¤šå°æ—¶ï¼Œæ„Ÿè§‰ä¸å°‘è¯è¿˜æ˜¯è¦ç»†å“ä¸€ä¸‹ï¼ˆæ­¤å‰çš„è‡ªå·±ç†è§£å¤ªè¿‡ç‰‡é¢ï¼Œç›²ç›®è¿½æ±‚rankçš„æå‡å±å®ä¸å¤ªä¼šæœ‰ä»€ä¹ˆå¥½ä¸‹åœºã€‚å¸Œæœ›å¯ä»¥å°½å¿«å­¦ä¼šç‚¹ä¸œè¥¿ï¼Œå†ä¼šæ¨¾å“¥ï¼ˆæ‰€è°“æå‰çš„2021ç›®æ ‡ï¼Œç›®å‰çœ‹æ¥ç°åœ¨æ˜¯å­¦ä¸å®Œäº†ã€‚</p><p>å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œå¯¹äº†ï¼Œæƒ³å‘è¿™ä¹ˆä¸ªè¯´è¯´å®é™…ä¸Šæ˜¯å› ä¸ºåœ¨å’Œå›­ä¸€ç‚¹ç‚¹é¢å‰çš„ä¸€å¥è¯â€”â€”â€œæˆ‘åŸæœ¬è§‰å¾—æˆ‘çš„2020ä»€ä¹ˆéƒ½æ²¡å¹²å°±è¦ç»“æŸäº†ï¼Œä½†æ˜¯çœ‹äº†çœ‹ä½ ï¼Œæˆ‘æƒ³èµ·æˆ‘è¿˜æ˜¯å¹²äº†ä»¶å¤§äº‹çš„ï¼â€</p><p>10ç‚¹å‰æ²¡å†™å®ŒQAQï¼Œè€Œä¸”è¿˜éƒ½æ˜¯çå†™çš„ï¼ˆ</p><p>P.S. wlsä¸‡ç‰©ä¹‹æºï¼</p>]]></content>
    
    
    <categories>
      
      <category>Diary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Diary</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>COA-Disk</title>
    <link href="/2020/11/28/COA-Disk/"/>
    <url>/2020/11/28/COA-Disk/</url>
    
    <content type="html"><![CDATA[<h2 id="COA-Disk"><a href="#COA-Disk" class="headerlink" title="COA-Disk"></a>COA-Disk</h2><h3 id="CRC"><a href="#CRC" class="headerlink" title="CRC"></a>CRC</h3><p><a href="https://blog.csdn.net/csdn_kou/article/details/82379438">åŸå¸–åœ°å€</a></p><h4 id="ä»€ä¹ˆæ˜¯CRCæ ¡éªŒï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯CRCæ ¡éªŒï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯CRCæ ¡éªŒï¼Ÿ"></a>ä»€ä¹ˆæ˜¯CRCæ ¡éªŒï¼Ÿ</h4><p>CRCå³å¾ªç¯å†—ä½™æ ¡éªŒç ï¼šæ˜¯æ•°æ®é€šä¿¡é¢†åŸŸä¸­æœ€å¸¸ç”¨çš„ä¸€ç§æŸ¥é”™æ ¡éªŒç ï¼Œå…¶ç‰¹å¾æ˜¯ä¿¡æ¯å­—æ®µå’Œæ ¡éªŒå­—æ®µçš„é•¿åº¦å¯ä»¥ä»»æ„é€‰å®šã€‚<strong>å¾ªç¯å†—ä½™æ£€æŸ¥ï¼ˆCRCï¼‰</strong>æ˜¯ä¸€ç§æ•°æ®ä¼ è¾“æ£€é”™åŠŸèƒ½ï¼Œå¯¹æ•°æ®è¿›è¡Œå¤šé¡¹å¼è®¡ç®—ï¼Œå¹¶å°†å¾—åˆ°çš„ç»“æœé™„åœ¨å¸§çš„åé¢ï¼Œæ¥æ”¶è®¾å¤‡ä¹Ÿæ‰§è¡Œç±»ä¼¼çš„ç®—æ³•ï¼Œä»¥ä¿è¯æ•°æ®ä¼ è¾“çš„æ­£ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚</p><h4 id="CRCæ ¡éªŒåŸç†"><a href="#CRCæ ¡éªŒåŸç†" class="headerlink" title="CRCæ ¡éªŒåŸç†"></a>CRCæ ¡éªŒåŸç†</h4><p>å…¶æ ¹æœ¬æ€æƒ³å°±æ˜¯å…ˆåœ¨è¦å‘é€çš„å¸§åé¢é™„åŠ ä¸€ä¸ªæ•°ï¼ˆè¿™ä¸ªå°±æ˜¯ç”¨æ¥æ ¡éªŒçš„æ ¡éªŒç ï¼Œä½†è¦æ³¨æ„ï¼Œè¿™é‡Œçš„æ•°ä¹Ÿæ˜¯äºŒè¿›åˆ¶åºåˆ—çš„ï¼Œä¸‹åŒï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªæ–°å¸§å‘é€ç»™æ¥æ”¶ç«¯ã€‚å½“ç„¶ï¼Œè¿™ä¸ªé™„åŠ çš„æ•°ä¸æ˜¯éšæ„çš„ï¼Œå®ƒè¦ä½¿æ‰€ç”Ÿæˆçš„æ–°å¸§èƒ½ä¸å‘é€ç«¯å’Œæ¥æ”¶ç«¯å…±åŒé€‰å®šçš„æŸä¸ªç‰¹å®šæ•°æ•´é™¤ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œä¸æ˜¯ç›´æ¥é‡‡ç”¨äºŒè¿›åˆ¶é™¤æ³•ï¼Œè€Œæ˜¯é‡‡ç”¨ä¸€ç§ç§°ä¹‹ä¸ºâ€œ <strong>æ¨¡2é™¤æ³•</strong>â€ï¼‰ã€‚åˆ°è¾¾æ¥æ”¶ç«¯åï¼Œå†æŠŠæ¥æ”¶åˆ°çš„æ–°å¸§é™¤ä»¥ï¼ˆåŒæ ·é‡‡ç”¨â€œ <strong>æ¨¡2é™¤æ³•</strong>â€ï¼‰è¿™ä¸ªé€‰å®šçš„é™¤æ•°ã€‚å› ä¸ºåœ¨å‘é€ç«¯å‘é€æ•°æ®å¸§ä¹‹å‰å°±å·²é€šè¿‡é™„åŠ ä¸€ä¸ªæ•°ï¼Œåšäº†â€œå»ä½™â€å¤„ç†ï¼ˆä¹Ÿå°±å·²ç»èƒ½æ•´é™¤äº†ï¼‰ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯æ²¡æœ‰ä½™æ•°ã€‚å¦‚æœæœ‰ä½™æ•°ï¼Œåˆ™è¡¨æ˜è¯¥å¸§åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å‡ºç°äº†å·®é”™ã€‚</p><h4 id="æ¨¡2é™¤æ³•ï¼š"><a href="#æ¨¡2é™¤æ³•ï¼š" class="headerlink" title="æ¨¡2é™¤æ³•ï¼š"></a>æ¨¡2é™¤æ³•ï¼š</h4><p>æ¨¡2é™¤æ³•ä¸ç®—æœ¯é™¤æ³•ç±»ä¼¼ï¼Œ<strong>ä½†æ¯ä¸€ä½é™¤çš„ç»“æœä¸å½±å“å…¶å®ƒä½ï¼Œå³ä¸å‘ä¸Šä¸€ä½å€Ÿä½ï¼Œæ‰€ä»¥å®é™…ä¸Šå°±æ˜¯å¼‚æˆ–ã€‚</strong>åœ¨å¾ªç¯å†—ä½™æ ¡éªŒç ï¼ˆCRCï¼‰çš„è®¡ç®—ä¸­æœ‰åº”ç”¨åˆ°æ¨¡2é™¤æ³•ã€‚</p><h4 id="CRCæ ¡éªŒæ­¥éª¤ï¼š"><a href="#CRCæ ¡éªŒæ­¥éª¤ï¼š" class="headerlink" title="CRCæ ¡éªŒæ­¥éª¤ï¼š"></a>CRCæ ¡éªŒæ­¥éª¤ï¼š</h4><p>CRCæ ¡éªŒä¸­æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼Œä¸€æ˜¯<strong>é¢„å…ˆç¡®å®šä¸€ä¸ªå‘é€é€ç«¯å’Œæ¥æ”¶ç«¯éƒ½ç”¨æ¥ä½œä¸ºé™¤æ•°çš„äºŒè¿›åˆ¶æ¯”ç‰¹ä¸²ï¼ˆæˆ–å¤šé¡¹å¼ï¼‰</strong>ï¼Œå¯ä»¥éšæœºé€‰æ‹©ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å›½é™…æ ‡å‡†ï¼Œ<strong>ä½†æ˜¯æœ€é«˜ä½å’Œæœ€ä½ä½å¿…é¡»ä¸º1</strong>ï¼›äºŒæ˜¯<strong>æŠŠåŸå§‹å¸§ä¸ä¸Šé¢è®¡ç®—å‡ºçš„é™¤æ•°è¿›è¡Œæ¨¡2é™¤æ³•è¿ç®—ï¼Œè®¡ç®—å‡ºCRCç ã€‚</strong></p><h4 id="å…·ä½“æ­¥éª¤ï¼š"><a href="#å…·ä½“æ­¥éª¤ï¼š" class="headerlink" title="å…·ä½“æ­¥éª¤ï¼š"></a>å…·ä½“æ­¥éª¤ï¼š</h4><ol><li>é€‰æ‹©åˆé€‚çš„é™¤æ•°</li><li>çœ‹é€‰å®šé™¤æ•°çš„äºŒè¿›åˆ¶ä½æ•°ï¼Œç„¶åå†è¦å‘é€çš„æ•°æ®å¸§ä¸Šé¢<strong>åŠ ä¸Šè¿™ä¸ªä½æ•°-1ä½çš„0</strong>ï¼Œç„¶åç”¨æ–°ç”Ÿæˆçš„å¸§ä»¥æ¨¡2é™¤æ³•çš„æ–¹å¼é™¤ä¸Šé¢çš„é™¤æ•°ï¼Œ<strong>å¾—åˆ°çš„ä½™æ•°å°±æ˜¯è¯¥å¸§çš„CRCæ ¡éªŒç ã€‚</strong>æ³¨æ„ï¼Œ<strong>ä½™æ•°çš„ä½æ•°ä¸€å®šåªæ¯”é™¤æ•°ä½æ•°å°‘ä¸€ä½</strong>ï¼Œä¹Ÿå°±æ˜¯<strong>CRCæ ¡éªŒç ä½æ•°æ¯”é™¤æ•°ä½æ•°å°‘ä¸€ä½</strong>ï¼Œå¦‚æœå‰é¢ä½æ˜¯0ä¹Ÿä¸èƒ½çœç•¥ã€‚</li><li>å°†è®¡ç®—å‡ºæ¥çš„CRCæ ¡éªŒç é™„åŠ åœ¨åŸæ•°æ®å¸§åé¢ï¼Œæ„å»ºæˆä¸€ä¸ªæ–°çš„æ•°æ®å¸§è¿›è¡Œå‘é€ï¼›æœ€åæ¥æ”¶ç«¯åœ¨ä»¥æ¨¡2é™¤æ³•æ–¹å¼é™¤ä»¥å‰é¢é€‰æ‹©çš„é™¤æ•°ï¼Œå¦‚æœæ²¡æœ‰ä½™æ•°ï¼Œåˆ™è¯´æ˜æ•°æ®å¸§åœ¨ä¼ è¾“çš„è¿‡ç¨‹ä¸­æ²¡æœ‰å‡ºé”™ã€‚</li></ol><h4 id="ä¸¾ä¾‹â€”â€”ç¼–ç¨‹ä½œä¸šï¼š"><a href="#ä¸¾ä¾‹â€”â€”ç¼–ç¨‹ä½œä¸šï¼š" class="headerlink" title="ä¸¾ä¾‹â€”â€”ç¼–ç¨‹ä½œä¸šï¼š"></a>ä¸¾ä¾‹â€”â€”ç¼–ç¨‹ä½œä¸šï¼š</h4><p><img src="/img/COA/CRC.jpg" alt=""></p><p>æ•°æ®ä¸º$100011$ï¼Œç”Ÿæˆå¤šé¡¹å¼ä¸º$1001$ã€‚å¼€å§‹ä¹‹å‰è¦åœ¨<code>data</code>ä¹‹å‰è¡¥ä¸Š<strong>ç”Ÿæˆå¤šé¡¹å¼ä½æ•°-1çš„0</strong>ã€‚è¿›è¡Œæ¨¡äºŒé™¤æ³•â€”â€”é™¤æ³•çš„æ­¥éª¤è¿›è¡Œ<code>data.length</code>æ¬¡ï¼Œæ¯ä¸€æ¬¡æ ¹æ®å½“å‰ä½™æ•°çš„é¦–ä½æ˜¯å¦ä¸º1ï¼Œç¡®å®šæ˜¯ä¸ç”Ÿæˆå¤šé¡¹å¼å¼‚æˆ–è¿˜æ˜¯ä¸å…¨0å¼‚æˆ–ã€‚æœ€åå¾—åˆ°çš„<strong>ç”Ÿæˆå¤šé¡¹å¼ä½æ•°-1</strong>çš„ä½™æ•°å°±æ˜¯æˆ‘ä»¬è¦æ‰¾åˆ°çš„CheckCodeã€‚</p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">     * æ¨¡2é™¤æ³•</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> check å¾…æ£€æŸ¥çš„æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> polynomial ç”Ÿæˆå¤šé¡¹å¼</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> len ç”Ÿæˆå¤šé¡¹å¼çš„é•¿åº¦</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> lenData æ•°æ®çš„é•¿åº¦</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> checkCode</span><span class="hljs-comment">     */</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">mod2Div</span><span class="hljs-params">(String check, String polynomial, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> lenData)</span></span>&#123;  String zeros = <span class="hljs-string">&quot;&quot;</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;len; i++)&#123;    zeros = zeros + <span class="hljs-string">&quot;0&quot;</span>;  &#125;  String checkCode = check.substring(<span class="hljs-number">0</span>, len);  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;lenData; i++)&#123;    String q = (checkCode.charAt(<span class="hljs-number">0</span>)==<span class="hljs-string">&#x27;1&#x27;</span>)? polynomial : zeros;    checkCode = alu.xor(checkCode, q);    checkCode = checkCode.substring(<span class="hljs-number">1</span>);    <span class="hljs-keyword">if</span>(i != lenData-<span class="hljs-number">1</span>)&#123;      checkCode = checkCode + check.charAt(i+len);    &#125;  &#125;  <span class="hljs-keyword">return</span> checkCode;&#125;<span class="hljs-comment">/**</span><span class="hljs-comment">     * CRCè®¡ç®—å™¨</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data æ•°æ®æµ</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> polynomial å¤šé¡¹å¼</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> CheckCode</span><span class="hljs-comment">     */</span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span>[] Calculate(<span class="hljs-keyword">char</span>[] data, String polynomial) &#123;  <span class="hljs-comment">//TODO</span>  StringBuilder dataStr = <span class="hljs-keyword">new</span> StringBuilder(String.valueOf(data));  <span class="hljs-keyword">int</span> lenData = data.length;  <span class="hljs-keyword">int</span> len = polynomial.length();  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;len-<span class="hljs-number">1</span>; i++)&#123;    dataStr.append(<span class="hljs-string">&quot;0&quot;</span>); <span class="hljs-comment">//è¡¥ä¸Šæœ«å°¾çš„n-1ä½çš„0ã€‚</span>  &#125;  <span class="hljs-keyword">return</span> mod2Div(dataStr.toString(), polynomial, len, lenData).toCharArray();&#125;</code></pre><p>è¿ç”¨çš„æ¨¡2é™¤æ³•çš„CRCæ ¡éªŒå™¨ä¸ºï¼š</p><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">     * CRCæ ¡éªŒå™¨</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data æ¥æ”¶æ–¹æ¥å—çš„æ•°æ®æµ</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> polynomial å¤šé¡¹å¼</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> CheckCode CheckCode</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> ä½™æ•°</span><span class="hljs-comment">     */</span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span>[] Check(<span class="hljs-keyword">char</span>[] data, String polynomial, <span class="hljs-keyword">char</span>[] CheckCode)&#123;  <span class="hljs-comment">//TODO</span>  <span class="hljs-keyword">int</span> lenData = data.length;  <span class="hljs-keyword">int</span> len = polynomial.length();  String dataStr = String.valueOf(data) +    String.valueOf(CheckCode);  <span class="hljs-keyword">return</span> mod2Div(dataStr, polynomial, len, lenData).toCharArray();&#125;</code></pre><p>æ ¡éªŒå™¨çš„ä¸åŒç‚¹æ˜¯ï¼Œæ ¡éªŒå™¨åœ¨å¾…æ£€æŸ¥çš„æ•°æ®æœ«å°¾è¡¥ä¸Šçš„ä¸æ˜¯$n-1$ä½çš„0ï¼Œè€Œæ˜¯$n-1$ä½çš„<code>CheckCode</code>ï¼Œåªè¦å¾—åˆ°çš„ç»“æœä¸ºå…¨0ï¼Œè¯´æ˜è¿‡ç¨‹ä¸­æ•°æ®æ²¡æœ‰å‡ºé”™ï¼Œå¦‚æœä¸ä¸ºå…¨0ï¼Œè¯´æ˜æ•°æ®å‡ºé”™éœ€è¦ä¿®å¤ã€‚</p><h3 id="Disk"><a href="#Disk" class="headerlink" title="Disk"></a>Disk</h3><h4 id="è¯»å†™çš„ç¼–ç¨‹ä½œä¸š"><a href="#è¯»å†™çš„ç¼–ç¨‹ä½œä¸š" class="headerlink" title="è¯»å†™çš„ç¼–ç¨‹ä½œä¸š"></a>è¯»å†™çš„ç¼–ç¨‹ä½œä¸š</h4><p>æ€ä¹ˆå°†ç£å¤´å’Œç£ç›˜æ­é…èµ·æ¥ä½¿ç”¨å‘¢ï¼Ÿæˆ‘ä»¬åœ¨ç£å¤´ä¸­æä¾›äº†ä¸€ä¸ª<code>Seek</code>æ–¹æ³•ï¼Œæ‹¿åˆ°<code>Integer</code>å‹çš„åœ°å€åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>Seek</code>æ–¹æ³•ç¡®å®šè¯»å†™å¼€å§‹çš„ä½ç½®ï¼Œåœ¨è¯»å†™æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœå‘ç”Ÿäº†æ‰‡åŒºã€ç£é“æˆ–è€…ç›˜é¢çš„å˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ç£å¤´çš„ä½ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>adjust</code>æ–¹æ³•ã€‚åœ¨è¯»æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„é€»è¾‘åº”è¯¥æ˜¯è¿™æ ·çš„</p><pre><code class="hljs java">DISK_HEAD.Seek()<span class="hljs-keyword">while</span>(len--&gt;<span class="hljs-number">0</span>)&#123;  <span class="hljs-keyword">if</span> (need_adjust())&#123;      DISK_HEAD.adjust();    &#125;  Data.[DISK_HEAD.point++] = data[i++];  <span class="hljs-keyword">if</span> (è¯»å‡ºäº†ä¸€ä¸ªæ‰‡åŒº)&#123;      CRC.check(...)    &#125;&#125;</code></pre><p>åœ¨å†™æ•°æ®çš„æ—¶å€™ï¼Œé€»è¾‘ä¸ä¸Šç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå¦‚æœåˆ°äº†éœ€è¦è°ƒæ•´çš„æ—¶å€™ï¼Œæ„å‘³ç€æˆ‘ä»¬å·²ç»å†™åˆ°äº†ä¸€ä¸ªæ‰‡åŒºçš„å°¾éƒ¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä¿®æ”¹è€Œä¸æ˜¯æ£€æŸ¥è¿™ä¸ªæ‰‡åŒºçš„CRCã€‚</p><p>ä¾æ®ä»¥ä¸Šå½¢å¼å®Œæˆçš„è¯»å†™ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">char</span>[] read(String eip, <span class="hljs-keyword">int</span> len) &#123;  <span class="hljs-comment">//TODO</span>  String eipIntStr = transformer.binaryToInt(<span class="hljs-string">&quot;0&quot;</span> + eip);  <span class="hljs-keyword">int</span> eipInt = Integer.parseInt(eipIntStr);  StringBuilder ans = <span class="hljs-keyword">new</span> StringBuilder();  DISK_HEAD.Seek(eipInt);  <span class="hljs-keyword">while</span> (len--&gt;<span class="hljs-number">0</span>)&#123;    DISK_HEAD.adjust();    ans.append(disk.getData(DISK_HEAD).Data[DISK_HEAD.point++]);    <span class="hljs-keyword">if</span>(DISK_HEAD.point == BYTE_PRE_SECTOR)&#123;      <span class="hljs-keyword">char</span>[] checkCode = CRC.Calculate(ToBitStream(disk.getData(DISK_HEAD).Data), POLYNOMIAL);      disk.getData(DISK_HEAD).CRC = ToByteStream(checkCode);    &#125;  &#125;  <span class="hljs-keyword">char</span>[] checkCode = CRC.Calculate(ToBitStream(disk.getData(DISK_HEAD).Data), POLYNOMIAL);  disk.getData(DISK_HEAD).CRC = ToByteStream(checkCode);  <span class="hljs-keyword">return</span> ans.toString().toCharArray();&#125;</code></pre><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">write</span><span class="hljs-params">(String eip, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">char</span>[] data)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  String eipIntStr = transformer.binaryToInt(<span class="hljs-string">&quot;0&quot;</span> + eip);  <span class="hljs-keyword">int</span> eipInt = Integer.parseInt(eipIntStr);  write(eipInt, len, data);&#125;<span class="hljs-comment">/**</span><span class="hljs-comment">     * å†™ç£ç›˜ï¼ˆåœ°å€ä¸ºIntegerå‹ï¼‰</span><span class="hljs-comment">     * æµ‹è¯•ä¼šè°ƒç”¨è¯¥æ–¹æ³•</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> eip</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> len</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data</span><span class="hljs-comment">     */</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">write</span><span class="hljs-params">(<span class="hljs-keyword">int</span> eip, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">char</span>[] data)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  DISK_HEAD.Seek(eip);  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;  <span class="hljs-keyword">while</span> (len--&gt;<span class="hljs-number">0</span>)&#123;    DISK_HEAD.adjust();    disk.getData(DISK_HEAD).Data[DISK_HEAD.point++] = data[i++];    <span class="hljs-keyword">if</span>(DISK_HEAD.point == BYTE_PRE_SECTOR)&#123;      <span class="hljs-keyword">char</span>[] checkCode = CRC.Calculate(ToBitStream(disk.getData(DISK_HEAD).Data), POLYNOMIAL);      disk.getData(DISK_HEAD).CRC = ToByteStream(checkCode);    &#125;  &#125;  <span class="hljs-keyword">char</span>[] checkCode = CRC.Calculate(ToBitStream(disk.getData(DISK_HEAD).Data), POLYNOMIAL);  disk.getData(DISK_HEAD).CRC = ToByteStream(checkCode);&#125;</code></pre><h3 id="Diskä¸­çš„CRC"><a href="#Diskä¸­çš„CRC" class="headerlink" title="Diskä¸­çš„CRC"></a>Diskä¸­çš„CRC</h3><blockquote><p>æ³¨æ„ï¼Œåœ¨ç£ç›˜è¯»å†™çš„å®ç°ä¸­ï¼Œéœ€è¦åŠ â¼ŠCRCï¼Œå¹¶å­˜åœ¨æ‰‡åŒºä¸­ï¼Œå› ä¸ºæ ¡éªŒå’Œå’Œæ•°æ®åœ¨ç£ç›˜ä¸­éƒ½æ˜¯å­—èŠ‚å½¢å¼ å­˜åœ¨ï¼Œä½†æ˜¯æ ¡éªŒæ˜¯åœ¨Bitçº§åˆ«ä¸Šè¿›â¾è¿ç®—çš„ï¼Œæ‰€ä»¥â¼¤å®¶éœ€è¦å®ç°ä¸¤ä¸ªè½¬æ¢â½…æ³•</p></blockquote><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment">     * å°†Byteæµè½¬æ¢æˆBitæµ</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data å­—èŠ‚å½¢å¼çš„æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è½¬åŒ–ä¸º01ä¸²å½¢å¼çš„æ•°æ®</span><span class="hljs-comment">     */</span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span>[] ToBitStream(<span class="hljs-keyword">char</span>[] data) &#123;  <span class="hljs-keyword">char</span>[] t = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[data.length * <span class="hljs-number">8</span>];  <span class="hljs-comment">//TODO</span>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;data.length; i++)&#123;    <span class="hljs-keyword">int</span> byt = data[i];    String test = transformer.intToBinary(String.valueOf(byt)).substring(<span class="hljs-number">24</span>, <span class="hljs-number">32</span>);    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">8</span>; j++)&#123;      t[i*<span class="hljs-number">8</span> + j] = test.charAt(j);    &#125;  &#125;  <span class="hljs-keyword">return</span> t;&#125;<span class="hljs-comment">/**</span><span class="hljs-comment">     * å°†Bitæµè½¬æ¢ä¸ºByteæµ</span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data 01ä¸²å½¢å¼çš„æ•°æ®</span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è½¬åŒ–ä¸ºå­—èŠ‚å½¢å¼çš„æ•°æ®</span><span class="hljs-comment">     */</span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span>[] ToByteStream(<span class="hljs-keyword">char</span>[] data) &#123;  <span class="hljs-keyword">char</span>[] t = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[data.length / <span class="hljs-number">8</span>];  <span class="hljs-comment">//TODO</span>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;data.length; i+=<span class="hljs-number">8</span>)&#123;    String test = String.valueOf(data).substring(i, i+<span class="hljs-number">8</span>);    <span class="hljs-keyword">int</span> byt = Integer.parseInt(transformer.binaryToInt(test));    t[i/<span class="hljs-number">8</span>] = (<span class="hljs-keyword">char</span>) byt;  &#125;  <span class="hljs-keyword">return</span> t;&#125;</code></pre><p>ä»¥ä¸Šè¿‡ç¨‹ç®€å•ç›´æ¥ï¼Œä¸å¤šèµ˜è¿°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>COA</tag>
      
      <tag>Disk</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>COA-VirtualMemory</title>
    <link href="/2020/11/26/COA-VirtualMemory/"/>
    <url>/2020/11/26/COA-VirtualMemory/</url>
    
    <content type="html"><![CDATA[<h2 id="COA-VirtualMemory"><a href="#COA-VirtualMemory" class="headerlink" title="COA-VirtualMemory"></a>COA-VirtualMemory</h2><h3 id="åˆ†åŒº"><a href="#åˆ†åŒº" class="headerlink" title="åˆ†åŒº"></a>åˆ†åŒº</h3><h4 id="å›ºå®šå¤§å°åˆ†åŒº"><a href="#å›ºå®šå¤§å°åˆ†åŒº" class="headerlink" title="å›ºå®šå¤§å°åˆ†åŒº"></a>å›ºå®šå¤§å°åˆ†åŒº</h4><ul><li>æ“ä½œç³»ç»Ÿï¼šå›ºå®šçš„å¤§å°ï¼›</li><li>å½“åŠ è½½ç¨‹åºçš„æ—¶å€™ï¼Œæœ‰é™æ”¾å…¥ï¼šç›®å‰ç©ºçš„ï¼Œèƒ½æ”¾ä¸‹å®ƒçš„ï¼Œä¸”æœ€å°çš„ã€‚</li><li>ç¼ºç‚¹ï¼šæµªè´¹å†…å­˜</li></ul><h4 id="å˜åŒ–å¤§å°åˆ†åŒº"><a href="#å˜åŒ–å¤§å°åˆ†åŒº" class="headerlink" title="å˜åŒ–å¤§å°åˆ†åŒº"></a>å˜åŒ–å¤§å°åˆ†åŒº</h4><ul><li>æ“ä½œç³»ç»Ÿï¼šå›ºå®šçš„å¤§å°ï¼›</li><li>ç”¨æˆ·ç³»ç»Ÿâ€”â€”æŒ‰ç…§éœ€æ±‚ï¼›</li><li>ä¸åœçš„ä¼šäº§ç”Ÿè®¸å¤šå°çš„ç©ºç™½åŒºåŸŸâ€”â€”å†…å­˜<strong>ç¢ç‰‡</strong>ã€‚</li></ul><h3 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h3><p>ç¨‹åºå’Œå†…å­˜â€œä¸è¿ç»­â€ã€‚</p><p>å°†å†…å­˜åˆ†æˆå›ºå®šå¤§å°çš„å—ï¼Œå‘½åä¸º<strong>é¡µæ¡†</strong>ï¼Œå°†ç¨‹åºåˆ†æˆå›ºå®šå¤§å°çš„å—ï¼Œå‘½åä¸º<strong>é¡µ</strong>ã€‚</p><ul><li><strong>é€»è¾‘åœ°å€</strong>ï¼šæŒ‡ä»¤çš„åœ°å€ï¼›</li><li><strong>ç‰©ç†åœ°å€</strong>ï¼šå†…å­˜çš„åœ°å€ï¼›</li></ul><p>åœ¨é¡µå†…éƒ¨çš„åç§»é‡ï¼ˆoffsetï¼‰ä¸å˜ã€‚åœ°å€è½¬æ¢ï¼šæŠŠé€»è¾‘é¡µå·æ¢ä¸ºç‰©ç†é¡µå·ï¼›</p><h3 id="è™šæ‹Ÿå†…å­˜"><a href="#è™šæ‹Ÿå†…å­˜" class="headerlink" title="è™šæ‹Ÿå†…å­˜"></a>è™šæ‹Ÿå†…å­˜</h3><ul><li>å­˜æ”¾åœ¨ç¡¬ç›˜ä¸­ï¼›</li><li>å…è®¸é€»è¾‘åœ°å€ç©ºé—´å¤§äºå®é™…å†…å­˜ï¼›</li><li><strong>åªæœ‰éœ€è¦çš„ç¨‹åºå’Œæ•°æ®ä¼šè¢«åŠ è½½è¿›å…¥å†…å­˜ï¼›</strong>è€Œä¸æ˜¯è½½å…¥æ•´ä¸ªç¨‹åºï¼›</li><li>æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªè‡ªå·±çš„é¡µè¡¨ï¼›</li></ul><h3 id="é¡µè¡¨"><a href="#é¡µè¡¨" class="headerlink" title="é¡µè¡¨"></a>é¡µè¡¨</h3><p><img src="/img/COA/Page.jpg" alt=""></p><ul><li>é¡µè¡¨ä¸­ä¸éœ€è¦å­˜æ”¾è™šé¡µå·ï¼›</li></ul><p><img src="/img/COA/VMM.jpg" alt=""></p><p>æœ‰æ—¶å€™ä¼šäº§ç”Ÿç¼ºé¡µã€‚æ¯ä¸€ä¸ªç¨‹åºéƒ½æœ‰ä¸€ä¸ªé¡µè¡¨ï¼Œå­˜å…¥å…¶ä¸­æ‰€æœ‰çš„é¡µã€‚</p><h3 id="TLB"><a href="#TLB" class="headerlink" title="TLB"></a>TLB</h3><p><img src="/img/COA/TLB.jpg" alt=""></p><ul><li>å­˜æ”¾é¡µè¡¨çš„Cacheï¼›</li><li>é‡‡ç”¨çš„æ˜¯å…³è”æ˜ å°„</li><li>éœ€è¦å­˜æ”¾è™šæ‹Ÿé¡µå·ï¼›tagå°±æ˜¯è™šé¡µå·ï¼›</li></ul><p><img src="/img/COA/TLBC.jpg" alt=""></p>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>COA</tag>
      
      <tag>VirtualMemory</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cache-Lab-COA</title>
    <link href="/2020/11/24/Cache-Lab-COA/"/>
    <url>/2020/11/24/Cache-Lab-COA/</url>
    
    <content type="html"><![CDATA[<h2 id="Cache-Lab"><a href="#Cache-Lab" class="headerlink" title="Cache Lab"></a>Cache Lab</h2><p><a href="https://github.com/wyh2023/COA2020/tree/main/Chapter2/CacheLab">ä»£ç çš„githubåœ°å€</a></p><h4 id="å‰æ’åæ§½"><a href="#å‰æ’åæ§½" class="headerlink" title="å‰æ’åæ§½"></a>å‰æ’åæ§½</h4><p>è¿™æ¬¡çš„å®éªŒå’Œä»¥å¾€æœ‰äº†æ¯”è¾ƒå¤§çš„ä¸åŒã€‚é¦–å…ˆï¼Œä»ç»“æ„ä¸Šçœ‹è¦å¤æ‚ä¸€äº›ï¼Œæœ‰äº†ä¸åŒçš„æ¨¡å—ï¼Œæ›´åƒæ˜¯å®ç°ä¸€ä¸ªä¸œè¥¿ï¼Œè€Œéè¿‡ç¨‹å¼çš„å®ç°å¾—åˆ°ç‰¹å®šè¾“å‡ºçš„å‡½æ•°ã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿç»™æµ‹è¯•ä»£ç å¸¦æ¥äº†ä¸€äº›éš¾åº¦ï¼ŒåŒæ—¶å¢åŠ äº†é˜…è¯»æ¡†æ¶ä»£ç çš„éš¾åº¦ã€‚åŒæ—¶ï¼Œè¿™ä¹Ÿè¡¨æ˜äº†è®¡ç»„è¿™é—¨è¯¾çš„è€ƒè¯•éš¾åº¦ä¸ä¼šç®€å•ï¼Œä¸ºå³å°†åˆ°æ¥çš„æœŸæœ«è€Œæ‹…å¿§â•®(â•¯â–½â•°)â•­</p><h3 id="çŸ¥è¯†å›é¡¾"><a href="#çŸ¥è¯†å›é¡¾" class="headerlink" title="çŸ¥è¯†å›é¡¾"></a>çŸ¥è¯†å›é¡¾</h3><ul><li>Cacheå­˜åœ¨çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li>å¤„ç†å™¨çš„å¤„ç†é€Ÿåº¦è¿œè¿œè¶…è¿‡äº†å­˜å‚¨å™¨æä¾›ä¿¡æ¯çš„é€Ÿåº¦è€Œäº§ç”Ÿäº†ä¸€ä¸ªbarï¼ŒCacheçš„ä½œç”¨å°±æ˜¯åœ¨å¤„ç†å™¨ä¸ä¸»å­˜ä¹‹é—´æ·»åŠ ä¸€ä¸ªç¼“å­˜ï¼ŒåŠ å¿«å­˜å–é€Ÿåº¦ã€‚</li><li>cacheä¸­ä¿å­˜çš„æ˜¯ä¸»å­˜ä¸­<strong>å—</strong>çš„å‰¯æœ¬ã€‚</li></ul></li><li>Cacheçš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><img src="/img/COA/Cache.jpg" alt=""></li><li>CPUå…ˆå‘Cacheç´¢è¦æ•°æ®ï¼ˆCheckï¼‰ï¼Œå¦‚æœæ‰¾åˆ°åˆ™å‘½ä¸­ï¼ˆHitï¼‰ï¼Œå¦‚æœä¸å‘½ä¸­åˆ™åœ¨ä¸»å­˜ä¸­å¯»æ‰¾æ•°æ®ï¼ˆMissï¼‰ï¼Œå°†ä¸»å­˜ä¸­çš„æ•°æ®æ•´å—æ¬åˆ°Cacheä¸­ï¼Œç„¶åå†ä»Cacheä¸­è¿”å›ä¿¡æ¯ç»™CPUã€‚</li><li>å¯è¿™æ ·ç†è§£ï¼Œç¼–ç¨‹ä½œä¸šä¹Ÿæ˜¯è¿™æ ·å®ç°çš„ï¼šCPUåªä¸Cacheäº¤äº’ï¼Œä»Cacheå½“ä¸­Fetchä¿¡æ¯ï¼Œå¦‚æœå‘½ä¸­åˆ™è¿”å›ä¿¡æ¯ï¼ˆçš„ä½ç½®ï¼‰ï¼Œä¸å‘½ä¸­åˆ™åœ¨ä¸»å­˜ä¸­å¯»æ‰¾ä¿¡æ¯å¹¶æ›¿æ¢åˆ°Cacheä¸­ã€‚</li></ul></li><li>å¦‚ä½•çŸ¥é“Cacheæ˜¯å¦å‘½ä¸­ï¼Ÿ<ul><li>æˆ‘ä»¬å·²çŸ¥æ•°æ®çš„åœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¨çŸ¥å®ƒåœ¨Cacheçš„æ ‡å¿—ä½ï¼ˆtagsï¼‰æ˜¯æ€ä¹ˆæ ·è¡¨ç¤ºçš„ã€‚åœ¨ç»„ç›¸è”æ˜ å°„ä¸­ï¼Œè¿˜è¦å…ˆæ¨å¾—ç»„å·ï¼Œåœ¨å¯¹åº”çš„ç»„ä¸­åŒ¹é…æ ‡å¿—ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„çš„æ˜¯æœ‰æ•ˆä½ï¼ˆValidBitï¼‰ï¼Œè¿™ä¸€ç‚¹åœ¨è¯¾ä¸Šæ²¡æœ‰æåŠï¼Œå¦‚æœæœ‰æ•ˆä½ç½®ä¸º0ï¼Œåˆ™Cacheæ˜¯ä¸è¢«ä½¿ç”¨çš„ï¼Œå› æ­¤ï¼Œåœ¨FIFOä¸‹ï¼Œåˆ¤æ–­Cacheæ˜¯å¦è¢«ä½¿ç”¨é™¤äº†åˆ¤æ–­æ—¶é—´æˆ³ï¼ˆTimeStampï¼‰è¿˜éœ€è¦åˆ¤æ–­æœ‰æ•ˆä½æ˜¯å¦æ˜¯1ã€‚</li><li>å› æ­¤ï¼Œåœ¨æ ‡å¿—ä½ç›¸åŒ¹é…å’Œæœ‰æ•ˆä½ä¸º1çš„æƒ…å†µä¸‹ï¼ŒCacheå‘½ä¸­ã€‚</li></ul></li><li>æ—¶é—´å±€éƒ¨æ€§å’Œç©ºé—´å±€éƒ¨æ€§<ul><li>æ—¶é—´å±€éƒ¨æ€§ï¼šåŒä¸€ä¸ªæ•°æ®åœ¨çŸ­æ—¶é—´å†…è¢«ä½¿ç”¨å¤šæ¬¡ï¼›</li><li>ç©ºé—´å±€éƒ¨æ€§ï¼šä¸´è¿‘çš„æ•°æ®åœ¨çŸ­æ—¶é—´è¢«è¢«è¿ç»­ä½¿ç”¨ï¼›</li></ul></li><li><img src="/img/COA/CacheCL.jpg" alt=""></li><li>åœ¨æ›¿æ¢çš„è¿‡ç¨‹ä¸­ï¼Œæ¬è¿çš„<strong>æ˜¯å—è€Œä¸æ˜¯å­—</strong>ã€‚<ul><li><img src="/img/COA/CacheMove.jpg" alt=""></li></ul></li><li>Cacheä¹‹æ‰€ä»¥éœ€è¦æ›´å¤šçš„æ“ä½œå´è¿˜èƒ½èŠ‚çœæ—¶é—´ï¼š<ul><li>æ˜¯å› ä¸ºå®ƒæœ‰è¾ƒé«˜çš„å‘½ä¸­ç‡ï¼›</li><li>Cacheçš„å­˜å–æ—¶é—´è¿œå°äºåˆ°ä¸»å­˜çš„å­˜å–æ—¶é—´ï¼›</li></ul></li><li>Cacheè¶Šå¤§æ•ˆæœè¶Šå¥½å—ï¼Ÿ<ul><li>å¢å¤§Cacheçš„å¤§å°å¯ä»¥æé«˜å‘½ä¸­ç‡ï¼›</li><li>ä½†æ˜¯ä¹Ÿå¢å¤§äº†æˆæœ¬å’ŒCacheçš„å­˜å–æ—¶é—´ï¼›</li><li>ä¸æ˜¯ï¼Œå˜å¥½çš„å¹…åº¦ä¼šè¶Šæ¥è¶Šå°ã€‚â€œå±€éƒ¨æ€§â€ï¼Œå¹¶ä¸ä¼šç‰µæ‰¯åˆ°å¤ªå¤§çš„èŒƒå›´ï¼Œå¹¶ä¸”å—è¶Šå¤§å—å†…å¯»æ‰¾çš„æˆæœ¬å°±ä¼šè¶Šé«˜ã€‚å—å¤ªå¤§äº†ä¹‹åï¼Œå¸¦æ¥çš„æ•°æ®æ˜¯å±€éƒ¨æ€§æ¯”è¾ƒå·®çš„ã€æ¯”è¾ƒè€çš„æ•°æ®ã€‚</li></ul></li><li>å“ªç§æ˜ å°„æ–¹å¼æ›´å¥½ï¼Ÿ<ul><li><img src="/img/COA/Map.jpg" alt=""></li><li>ç»„ç›¸è”æ˜¯ç›´æ¥æ˜ å°„å’Œå…¨ç›¸è”çš„ä¸€ä¸ªTrade Offã€‚</li><li>å½“ç»„ç›¸è¿çš„ç»„å¤§å°ä¸ºæ•´ä¸ªCacheæ—¶ï¼Œæ˜ å°„æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯å…¨ç›¸è”æ˜ å°„ï¼›å½“ç»„å¤§å°ä¸º1æ—¶ï¼Œæœ¬è´¨ä¸Šæ˜¯ç›´æ¥æ˜ å°„ï¼›</li></ul></li><li>Cacheç³»ç»Ÿçš„ç»„æˆï¼Ÿ<ul><li><img src="/img/COA/CacheSystem.jpg" alt=""></li></ul></li><li>æ›¿æ¢ç®—æ³•éƒ½æœ‰ä»€ä¹ˆï¼Ÿåˆ†åˆ«æœ‰æ€æ ·çš„ç‰¹ç‚¹å’Œå¥½å¤„ï¼Ÿ<ul><li>LRU-æœ€è¿‘æœ€å°‘ç”¨ï¼›</li><li>FIFO-å…ˆè¿›å…ˆå‡ºï¼›<ul><li>æœ¬æ¬¡å®éªŒä½¿ç”¨çš„ä¸»è¦ç®—æ³•ï¼šé€šè¿‡ä¸ºCacheè¡Œæ·»åŠ ä¸Šä¸€ä¸ªæ—¶é—´æˆ³æ¥æ ‡ç¤ºCacheLineåœ¨Cacheé‡Œé¢çš„å­˜åœ¨æ—¶é—´ï¼Œæ¯æ¬¡æ›¿æ¢æ—¶é—´æˆ³æœ€å¤§çš„é‚£ä¸ªã€‚</li></ul></li><li>LFU-ä½¿ç”¨é¢‘ç‡æœ€ä½ï¼›</li><li>Random-éšæœºï¼›</li></ul></li><li>å†™ç­–ç•¥çš„å¼‚åŒï¼Ÿ<ul><li>ç›´å†™æ³•ï¼ˆWrite Throughï¼‰<ul><li>æ›¿æ¢çš„æ—¶å€™åŒæ—¶å†™ä¸»å­˜å’ŒCacheï¼›</li><li>ä¸€æ”¹å°±è¦è®¿é—®ä¸»å­˜ï¼›</li><li>æé«˜äº†cacheå’Œä¸»å­˜çš„ä¸€è‡´æ€§ï¼›</li></ul></li><li>å›å†™æ³•ï¼ˆWrite Backï¼‰<ul><li>åªä¿®æ”¹Cacheã€‚åªæœ‰å½“æ›¿æ¢ç®—æ³•è¦é©±é€è¿™ä¸ªæ›´æ–°è¿‡çš„å—æ—¶ï¼Œæ‰æŠŠå®ƒå†™åˆ°ç¬¬ä¸€å±‚ä¸­ï¼›</li><li>éœ€è¦ä¸€ä¸ªè„ä½æ¥è¡¨ç¤ºè¿™ä¸€ä¸ªå—æ˜¯å¦è¢«è°ƒæ•´è¿‡ï¼›å¦‚æœæ˜¯1å°±å†™å›å»ï¼Œå¦‚æœæ˜¯0å°±æ›¿æ¢æ‰ï¼›</li><li>ä¼˜ç‚¹ï¼šå‡å°‘å¯¹ä¸»å­˜çš„æ“ä½œåˆ°æœ€å°çš„ç¨‹åº¦ï¼›</li></ul></li></ul></li><li>CacheLineçš„è¡Œå¤§å°æ˜¯ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Ÿ<ul><li>å½“è¡Œå¤§å°ä»å¾ˆå°å˜å¤§çš„æ—¶å€™ï¼Œå‘½ä¸­ç‡ä¼šç›¸å¯¹æé«˜â€”â€”æ›´å¤šæœ‰ç”¨çš„ä¿¡æ¯ä¼šè¢«æ¬åˆ°Cacheä¸­å»ï¼›</li><li>ä½†å½“è¡Œå¤§å°è¿‡å¤§ï¼Œå‘½ä¸­ç‡å°±ä¼šé™ä½<ul><li>Cacheä¸­çš„è¡Œæ•°ä¼šå‡å°‘ï¼Œä»è€Œå¯¼è‡´æ›´å¤šçš„è¡Œæ›¿æ¢ï¼›</li><li>æ·»åŠ è¿›å»çš„å­—è·ç¦»éœ€è¦çš„å­—æ¯”è¾ƒè¿œï¼Œä»¥è‡³äºå°æ¦‚ç‡åœ¨çŸ­æœŸå†…ä¼šè¢«ç”¨åˆ°ï¼›</li></ul></li></ul></li><li>å¤šçº§Cacheæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿï¼ˆäºŸå¾…è¡¥å……ï¼‰</li></ul><hr><h3 id="å®éªŒæ¦‚è§ˆ"><a href="#å®éªŒæ¦‚è§ˆ" class="headerlink" title="å®éªŒæ¦‚è§ˆ"></a>å®éªŒæ¦‚è§ˆ</h3><h4 id="æ¡†æ¶æ¢³ç†"><a href="#æ¡†æ¶æ¢³ç†" class="headerlink" title="æ¡†æ¶æ¢³ç†"></a>æ¡†æ¶æ¢³ç†</h4><h4 id="Cacheçš„æ•°æ®ç»“æ„"><a href="#Cacheçš„æ•°æ®ç»“æ„" class="headerlink" title="Cacheçš„æ•°æ®ç»“æ„"></a>Cacheçš„æ•°æ®ç»“æ„</h4><pre><code class="hljs java"><span class="hljs-comment">/**</span><span class="hljs-comment"> * Cacheè¡Œï¼Œæ¯è¡Œé•¿åº¦ä¸º(1+22+&#123;<span class="hljs-doctag">@link</span> Cache#LINE_SIZE_B&#125;)</span><span class="hljs-comment"> */</span><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CacheLine</span> </span>&#123;  <span class="hljs-comment">// æœ‰æ•ˆä½ï¼Œæ ‡è®°è¯¥æ¡æ•°æ®æ˜¯å¦æœ‰æ•ˆ</span>  <span class="hljs-keyword">boolean</span> validBit = <span class="hljs-keyword">false</span>;  <span class="hljs-comment">// è„ä½ï¼Œæ ‡è®°è¯¥æ¡æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹</span>  <span class="hljs-keyword">boolean</span> dirty = <span class="hljs-keyword">false</span>;  <span class="hljs-comment">// ç”¨äºLRUå’ŒFIFOç®—æ³•ï¼Œè®°å½•è¯¥æ¡æ•°æ®æ—¶é—´æˆ³</span>  Long timeStamp = -<span class="hljs-number">1L</span>;  <span class="hljs-comment">// æ ‡è®°ï¼Œå ä½é•¿åº¦ä¸º()22ä½ï¼Œæœ‰æ•ˆé•¿åº¦å–å†³äºæ˜ å°„ç­–ç•¥ï¼š</span>  <span class="hljs-comment">// ç›´æ¥æ˜ å°„: 12 ä½</span>  <span class="hljs-comment">// å…¨å…³è”æ˜ å°„: 22 ä½</span>  <span class="hljs-comment">// (2^n)-è·¯ç»„å…³è”æ˜ å°„: 22-(10-n) ä½</span>  <span class="hljs-comment">// æ³¨æ„ï¼Œtagåœ¨ç‰©ç†åœ°å€ä¸­ç”¨é«˜ä½è¡¨ç¤ºï¼Œå¦‚ï¼šç›´æ¥æ˜ å°„(32ä½)=tag(12ä½)+è¡Œå·(10ä½)+å—å†…åœ°å€(10ä½)ï¼Œ</span>  <span class="hljs-comment">// é‚£ä¹ˆå¯¹äºå€¼ä¸º0b1111çš„tagåº”è¯¥è¡¨ç¤ºä¸º0000000011110000000000ï¼Œå…¶ä¸­å‰12ä½ä¸ºæœ‰æ•ˆé•¿åº¦ï¼Œ</span>  <span class="hljs-comment">// å› ä¸ºæµ‹è¯•å¹³å°çš„åŸå› ï¼Œæˆ‘ä»¬æ— æ³•ä½¿ç”¨4GBçš„å†…å­˜ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯é€‰æ‹©ç”¨32ä½åœ°å€çº¿æ¥å¯»å€</span>  <span class="hljs-keyword">char</span>[] tag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[<span class="hljs-number">22</span>];  <span class="hljs-comment">// æ•°æ®</span>  <span class="hljs-keyword">char</span>[] data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[LINE_SIZE_B];  <span class="hljs-keyword">char</span>[] getData() &#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data;  &#125;  <span class="hljs-keyword">char</span>[] getTag() &#123;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tag;  &#125;  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[] tagN, <span class="hljs-keyword">char</span>[] input)</span></span>&#123;    validBit = <span class="hljs-keyword">true</span>;    timeStamp = <span class="hljs-number">0L</span>;    System.arraycopy(tagN, <span class="hljs-number">0</span>, tag, <span class="hljs-number">0</span>, tagN.length);    System.arraycopy(input, <span class="hljs-number">0</span>, data, <span class="hljs-number">0</span>, input.length);  &#125;</code></pre><p>ä»¥ä¸Šåˆ å»äº†æ— ç”¨çš„æ•°æ®ç»“æ„ï¼Œè¿™é‡Œçš„æˆå‘˜å˜é‡éƒ½å·²ç»åœ¨æ³¨é‡Šä¸­è§£é‡Šçš„å¾ˆæ¸…æ¥šï¼Œä¸åšè¿‡å¤šè§£è¯»äº†ã€‚ä¸»è¦è¯´ä¸€ä¸‹<code>update</code>ï¼Œè¿™é‡Œçš„updateçš„ä¸»è¦ç›®çš„æ˜¯å¯ç”¨ä¸€ä¸ªæ–°çš„Cacheï¼Œé‡ç½®äº†å®ƒçš„æœ‰æ•ˆä½ã€æ—¶é—´æˆ³ä»¥åŠå†…å®¹ã€‚</p><blockquote><p>æ•…äº‹è¦ä»$Cache$çš„è¯»å†™å¼€å§‹è¯´èµ·ã€‚ç”±äº$Cache$éœ€è¦è¿›è¡Œåˆ†å—è¯»å†™ï¼Œæ‰€ä»¥æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>helper</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å·²ç»å†™å¥½äº†ï¼Œä»–åšçš„äº‹æƒ…å°±æ˜¯åˆ†å—è¯»å†™ï¼Œç„¶åæ ¹æ®å‚æ•°æ¥åˆ¤æ–­ç©¶ç«Ÿæ˜¯è¯»è¿˜æ˜¯å†™ã€‚åœ¨<code>helper</code>ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†<code>fetch</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ£€æŸ¥$Cache$æ˜¯å¦åŒ…å«æŸä¸€ä¸ªç‰¹å®šçš„$block$ï¼Œå¦‚æœæ£€æŸ¥åˆ°äº†å°±ä¼šè¿”å›ï¼Œæ²¡æœ‰æ£€æŸ¥åˆ°å°±ä¼šä»å†…å­˜ä¸­åŠ è½½ã€‚å› ä¸ºæˆ‘ä»¬åªéœ€è¦å®ç°ä¸€ç§æ›¿æ¢ç­–ç•¥ï¼Œæ‰€ä»¥è¿™é‡Œä½ å¯ä»¥ç¡¬ç¼–ç ä¸€ä¸ª<code>FIFO</code>è¿›å»ï¼Œå¯¹äºæ˜ å°„ç­–ç•¥æ¥è¯´ï¼Œæœ¬è´¨ä¸Šåªæœ‰ä¸€ç§æ˜ å°„ç­–ç•¥ã€‚</p></blockquote><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">char</span>[] helper(String eip, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">char</span>[] writeData)&#123;  <span class="hljs-keyword">char</span>[] data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[len];  Transformer t = <span class="hljs-keyword">new</span> Transformer();  <span class="hljs-keyword">int</span> addr =  Integer.parseInt(t.binaryToInt(<span class="hljs-string">&quot;0&quot;</span> + eip));  <span class="hljs-keyword">int</span> upperBound = addr + len;  <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;  <span class="hljs-keyword">while</span> (addr &lt; upperBound) &#123;    <span class="hljs-keyword">int</span> nextSegLen = LINE_SIZE_B - (addr % LINE_SIZE_B);    <span class="hljs-keyword">if</span> (addr + nextSegLen &gt;= upperBound) &#123;      <span class="hljs-comment">//ä¸ºæ»¡è¶³å¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œè¡¥æ»¡nextSegLen</span>      nextSegLen = upperBound - addr;    &#125;    <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;    <span class="hljs-keyword">if</span>(writeData == <span class="hljs-keyword">null</span>)&#123;      <span class="hljs-keyword">int</span> rowNO = fetch(t.intToBinary(String.valueOf(addr)), nextSegLen);      <span class="hljs-keyword">char</span>[] cache_data = cache.get(rowNO).getData();      <span class="hljs-keyword">while</span> (i &lt; nextSegLen) &#123;        data[index] = cache_data[addr % LINE_SIZE_B + i];        index++;        i++;      &#125;    &#125;    <span class="hljs-keyword">else</span>&#123;      <span class="hljs-keyword">int</span> rowNO = fetch(t.intToBinary(String.valueOf(addr)), nextSegLen);      <span class="hljs-keyword">char</span>[] input = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[LINE_SIZE_B];      Arrays.fill(input, <span class="hljs-string">&#x27;0&#x27;</span>);      <span class="hljs-keyword">while</span> (i &lt; nextSegLen) &#123;        input[addr % LINE_SIZE_B + i] = writeData[index];        index++;        i++;      &#125;      writeStrategy.write(rowNO, input);    &#125;    addr += nextSegLen;  &#125;  <span class="hljs-keyword">return</span> data;&#125;</code></pre><p><code>helper</code>ç”¨åœ¨<code>read</code>å’Œ<code>write</code>ä¹‹ä¸­ï¼Œå‡å°‘äº†å¾ˆå¤§ç¨‹åº¦çš„é‡å¤ä»£ç ï¼›å› ä¸ºå­—ç¬¦ä¸²æ“ä½œçš„è›‹ç–¼æ€§ï¼ˆæ‰‹åŠ¨ç†ŠçŒ«æ“¦æ±—ï¼‰ï¼Œå› æ­¤å¯¹<code>addr</code>éœ€è¦ä¸€ä¸ªç¥å¥‡çš„æ“ä½œã€‚<code>upperBound</code>è¡¨ç¤ºçš„æ˜¯è¯»å†™çš„ç»ˆç‚¹ã€‚<code>nextSegLen</code>è¡¨ç¤ºä¸€è¡Œä¸­è¿˜æœ‰å¤šå°‘å‰©ä½™çš„ä½ç½®ã€‚æ ¹æ®è¯»å†™çš„æ•°æ®é‡ï¼ˆå³$len$çš„ä¸åŒï¼Œå¾ˆæœ‰å¯èƒ½ä¼šäº§ç”Ÿè·¨Cacheè¡Œçš„è¯»å†™ï¼Œä¹Ÿå¾ˆæœ‰å¯èƒ½äº§ç”Ÿä¸è¶³ä¸€ä¸ªCacheè¡Œçš„è¯»å†™ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">if</span> (addr + nextSegLen &gt;= upperBound) &#123;  nextSegLen = upperBound - addr;&#125;</code></pre><p>çš„ç›®çš„ä¹‹ä¸€å°±æ˜¯å°±æ˜¯å°†<code>addr += nextSegLen</code>ä½¿å¾—<code>addr</code>èƒ½è¾¾åˆ°å¾ªç¯ç»ˆæ­¢çš„æ¡ä»¶ã€‚è‡³äº<code>fetch</code>ä¸ºä»€ä¹ˆæœ‰ä¸¤ä¸ªå‚æ•°è¿™é‡Œä¸æ˜¯å¾ˆæ˜ç™½â€¦â€¦å› ä¸ºCacheä¸­æ€»æ˜¯ä»¥å—ä¸ºæ“ä½œå•ä½çš„ï¼Œè¿™é‡Œçš„ç¬¬äºŒä¸ªå‚æ•°<code>len</code>æ˜¯åšä»€ä¹ˆçš„å‘¢(._.)</p><p>åé¢çš„ä»£ç éƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å†…å®¹éœ€è¦å†™ï¼Œä»è€Œå†³å®šæ˜¯è¯»è¿˜æ˜¯å†™ã€‚å¦‚æœæ˜¯è¯»çš„è¯ï¼Œè¿”å›cacheä¸­çš„dataã€‚å¦‚æœæ˜¯å†™çš„è¯ï¼Œé€šè¿‡å†™ç­–ç•¥å°†Cacheä¸­å†™å…¥å†…å®¹ã€‚</p><p>ä»¥ä¸Šæ˜¯æœ¬æ¬¡ç¼–ç¨‹ä½œä¸šçš„ä¸€ä¸ªä¸»è¦é€»è¾‘å•å…ƒã€‚é‚£ä¹ˆåŸºäºæ­¤å¼€å§‹æ€»ç»“æœ¬æ¬¡çš„ç¼–ç¨‹ä½œä¸šï¼Œé¦–å…ˆæ˜¯ç¬¬ä¸€ä¸ªæˆ‘ä»¬å‚ä¸åˆ°çš„å‡½æ•°â€”â€”<code>fetch</code></p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">fetch</span><span class="hljs-params">(String sAddr, <span class="hljs-keyword">int</span> len)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  <span class="hljs-keyword">int</span> blockNO = getBlockNO(sAddr);  <span class="hljs-keyword">int</span> hit = mappingStrategy.map(blockNO);  <span class="hljs-keyword">if</span>(hit != -<span class="hljs-number">1</span>)&#123;    <span class="hljs-keyword">return</span> hit;  &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-keyword">return</span> mappingStrategy.writeCache(blockNO);  &#125;&#125;</code></pre><p>è¿™æ˜¯çŸ¥è¯†å›é¡¾ä¸­ä¸€ä¸ªç®€å•æµç¨‹çš„å®ç°ã€‚</p><p><img src="/img/COA/Cache.jpg" alt=""></p><p>æ¡†æ¶ä»£ç ä¸­æä¾›äº†ä¸€ä¸ªå¤„ç†å‰22ä½çš„å‡½æ•°ï¼Œå®ƒéå¸¸çš„ç®€å•ï¼Œå°±æ˜¯æŠŠæ ‡å¿—ä½+ç»„å·è½¬åŒ–ä¸ºæ•´æ•°ç±»å‹ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getBlockNO</span><span class="hljs-params">(String addr)</span> </span>&#123;  Transformer t = <span class="hljs-keyword">new</span> Transformer();  <span class="hljs-keyword">return</span> Integer.parseInt(t.binaryToInt(<span class="hljs-string">&quot;0&quot;</span> + addr.substring(<span class="hljs-number">0</span>, <span class="hljs-number">22</span>)));&#125;</code></pre><p>é¦–å…ˆæå–äº†å—åœ°å€çš„æœ‰å…³ä¿¡æ¯â€”â€”æ ‡å¿—å’Œç»„å·ã€‚ç„¶åé€šè¿‡æ˜ å°„å…³ç³»æ‰¾åˆ°å¯¹åº”çš„Cacheè¡Œï¼ˆå¯èƒ½ä¼šä¸å‘½ä¸­ï¼‰ã€‚å¦‚æœå‘½ä¸­çš„è¯ï¼ˆè¿™è¡¨æ˜æ ‡å¿—ä½å’Œæœ‰æ•ˆä½å‡ç¬¦åˆè¦æ±‚ï¼‰ï¼Œè¿”å›ç›¸åº”çš„è¡Œå·ï¼Œæµç¨‹ç»“æŸï¼å¦‚æœä¸å‘½ä¸­çš„è¯â€¦â€¦å°±æœ‰ç‚¹éº»çƒ¦äº†( Â´â–½` )ï¾‰ã€‚æˆ‘ä»¬éœ€è¦é€šè¿‡æ›¿æ¢ç­–ç•¥ï¼Œåˆ°ä¸»å­˜ä¸­æŠŠéœ€è¦çš„å—æ›¿æ¢åˆ°Cacheä¸­ã€‚</p><p>åŸºäºé€»è¾‘çš„é¡ºåºï¼Œé¦–å…ˆæˆ‘ä»¬æ¥çœ‹<strong>æ˜ å°„ç­–ç•¥</strong>ä¸­çš„æ˜ å°„å¦‚ä½•å®ç°çš„ï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">map</span><span class="hljs-params">(<span class="hljs-keyword">int</span> blockNO)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  <span class="hljs-keyword">int</span> setNO = blockNO % SETS;  <span class="hljs-keyword">int</span> start = setNO * setSize;  <span class="hljs-keyword">int</span> end = (setNO + <span class="hljs-number">1</span>)*setSize;  <span class="hljs-keyword">char</span>[] tag = getTag(blockNO);  <span class="hljs-keyword">return</span> replacementStrategy.isHit(start, end, tag);&#125;</code></pre><p><code>SETS</code>è¡¨æ˜äº†ç»„æ•°ï¼Œ<code>setSize</code>è¡¨æ˜äº†ç»„å¤§å°ï¼ˆå…¨æ–‡å‡è¡¨ç¤ºæ­¤æ„ï¼‰ã€‚<code>setNO</code>è¡¨ç¤ºç»„å·ï¼Œ<code>start</code>è¡¨ç¤ºèµ·å§‹çš„è¡Œå·ï¼Œ<code>end</code>è¡¨ç¤ºç»ˆç‚¹è¡Œå·+1ã€‚æ¥ç€åœ¨Cacheä¸­æŸ¥æ‰¾æˆ‘ä»¬è¦æ‰¾çš„Cacheè¡Œæ˜¯å¦å­˜åœ¨æˆ‘ä»¬è¦æ‰¾çš„å†…å®¹ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">isHit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end, <span class="hljs-keyword">char</span>[] addrTag)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=start; i&lt;end; i++)&#123;    <span class="hljs-keyword">if</span> (Cache.getCache().isMatch(i, addrTag)) <span class="hljs-keyword">return</span> i;  &#125;  <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isMatch</span><span class="hljs-params">(<span class="hljs-keyword">int</span> lineNO, <span class="hljs-keyword">char</span>[] tag)</span></span>&#123;  CacheLine cacheLine = <span class="hljs-keyword">this</span>.cache.get(lineNO);    <span class="hljs-keyword">if</span>(cacheLine == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  <span class="hljs-keyword">if</span> (!cacheLine.validBit) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  <span class="hljs-keyword">if</span> (!Arrays.equals(cacheLine.tag, tag)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;&#125;</code></pre><p><code>isMatch</code>æä¾›äº†åˆ¤æ–­é€»è¾‘â€”â€”å³æˆ‘ä»¬éœ€è¦é¦–å…ˆæœ‰<code>cacheLine</code>ï¼Œå…¶æ¬¡æœ‰æ•ˆä½éœ€è¦ä¸º<code>true</code>ï¼Œæœ€åéœ€è¦æ ‡å¿—ä½åŒ¹é…ï¼›å¦‚æœåˆ¤æ–­å‘½ä¸­ï¼Œæˆ‘ä»¬è¿”å›ç›¸åº”çš„è¡Œå·ï¼Œå¦‚æœåˆ¤æ–­ä¸å‘½ä¸­è¿”å›-1ã€‚</p><p>å›åˆ°<code>fetch</code>ï¼Œå¦‚æœå‘½ä¸­ï¼Œè¿”å›è¡Œå·ã€‚å¦‚æœä¸å‘½ä¸­ï¼Œæˆ‘ä»¬å°±éœ€è¦ä»ä¸»å­˜ä¸­æ¬æ¥ä¿¡æ¯ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">writeCache</span><span class="hljs-params">(<span class="hljs-keyword">int</span> blockNO)</span> </span>&#123;    <span class="hljs-comment">//TODO</span>    <span class="hljs-keyword">int</span> setNO = blockNO % SETS;    <span class="hljs-keyword">int</span> start = setNO * setSize;    <span class="hljs-keyword">int</span> end = (setNO + <span class="hljs-number">1</span>)*setSize;    <span class="hljs-keyword">char</span>[] tag = getTag(blockNO);    <span class="hljs-keyword">char</span>[] memory =Memory.getMemory().read(t.intToBinary(String.valueOf(Cache.LINE_SIZE_B * blockNO)), Cache.LINE_SIZE_B);    <span class="hljs-keyword">return</span> replacementStrategy.Replace(start, end, tag, memory);&#125;</code></pre><p><code>Memory.getMemory().read(t.intToBinary(String.valueOf(Cache.LINE_SIZE_B * blockNO)), Cache.LINE_SIZE_B);</code>è¿™ä¹ˆè€é•¿ä¸€ä¸²æ˜¯ä»ä¸»å­˜ä¸­è¯»åˆ°çš„ä¿¡æ¯ã€‚</p><p>æˆ‘çš„æ›¿æ¢ç®—æ³•å®ç°çš„æ¯”è¾ƒå¤æ‚TATï¼Œæ°´å¹³å¤ªä½ï¼Œå¹¶ä¸”è‚‰çœ¼å¯è§çš„ä½æ•ˆã€‚ä¸è¿‡è¿˜æ˜¯å…ˆç®€å•è¯´è¯´æˆ‘è‡ªå·±çš„æƒ³æ³•ï¼šä¸ºæ¯ä¸ªCacheè¡Œæ ‡è®°ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œæ²¡æœ‰è¢«ä½¿ç”¨åˆ°çš„Cacheè¡Œç½®ä¸º-1ã€‚ä¸€æ—¦è¢«ä½¿ç”¨åˆ°åˆ™æ—¶é—´æˆ³å˜ä¸º0ã€‚åœ¨FIFOç®—æ³•ä¸­ï¼Œæ›¿æ¢é¦–å…ˆå¾—ç»„æ»¡äº†å†è¿›è¡Œæ›¿æ¢ï¼Œå¦‚æœæ²¡æ»¡ï¼Œåˆ™å…ˆä½¿ç”¨ç©ºé—²çš„ã€‚ç©ºé—²çš„Cacheè¡Œæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ²¡è¢«ä½¿ç”¨è¿‡æ—¶é—´æˆ³ä¸º<code>-1</code>ï¼Œä¸€ç§æ˜¯æœ‰æ•ˆä½ä¸º<code>false</code>ã€‚</p><p>å¦‚æœå­˜åœ¨æ²¡è¢«ä½¿ç”¨è¿‡çš„ï¼Œåˆ™æ›¿æ¢ç¬¬ä¸€ä¸ªæ²¡è¢«ä½¿ç”¨è¿‡çš„<code>free CacheLine</code>ã€‚</p><p>å¦‚æœæ»¡äº†ï¼Œå°±åœ¨å…¨éƒ¨çš„CacheLineä¸­å¯»æ‰¾æ—¶é—´æˆ³æœ€å¤§ï¼Œåœ¨Cacheä¸­å­˜åœ¨æœ€ä¹…çš„é‚£ä¸ªï¼Œå°†å…¶æ›¿æ¢ã€‚</p><p>éšåä¸ºç»„ä¸­å…¨éƒ¨éç©ºCacheçš„æ—¶é—´æˆ³å¢åŠ 1ã€‚</p><p>æœ€åæ›´æ–°CacheLineã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Replace</span><span class="hljs-params">(<span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end, <span class="hljs-keyword">char</span>[] addrTag, <span class="hljs-keyword">char</span>[] input)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  <span class="hljs-comment">//find free</span>  <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;  <span class="hljs-keyword">boolean</span> isFull = <span class="hljs-keyword">true</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=start; i&lt;end; i++)&#123;    <span class="hljs-keyword">if</span>(Cache.getCache().getTimeStamp(i) == -<span class="hljs-number">1L</span> || !Cache.getCache().getValid(i))&#123;      index = i;      isFull = <span class="hljs-keyword">false</span>;      <span class="hljs-keyword">break</span>;    &#125;  &#125;  <span class="hljs-comment">//Sort &amp; Find the Oldest.</span>  <span class="hljs-keyword">if</span>(isFull)&#123;    <span class="hljs-keyword">long</span> maxTime = Cache.getCache().getTimeStamp(start);    index = start;    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=start; i&lt;end; i++)&#123;      <span class="hljs-keyword">if</span>(maxTime &lt; Cache.getCache().getTimeStamp(i))&#123;        maxTime = Cache.getCache().getTimeStamp(i);        index = i;      &#125;    &#125;  &#125;  <span class="hljs-comment">//inc the TimeStamp</span>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=start; i&lt;end; i++)&#123;    <span class="hljs-keyword">long</span> time = Cache.getCache().getTimeStamp(i);    <span class="hljs-keyword">if</span>(time &gt;= <span class="hljs-number">0L</span>)&#123;      Cache.getCache().incTimeStamp(i);    &#125; <span class="hljs-keyword">else</span> &#123;      <span class="hljs-keyword">break</span>;    &#125;  &#125;  <span class="hljs-comment">//inc the TimeStamp of the new CacheLine</span>  <span class="hljs-keyword">if</span>(Cache.getCache().getTimeStamp(index)==-<span class="hljs-number">1L</span>)&#123;    Cache.getCache().incTimeStamp(index);  &#125;  <span class="hljs-comment">//Write Back</span>  <span class="hljs-keyword">if</span>(Cache.getCache().getDirty(index))&#123;    writeStrategy.writeBack(index);    Cache.getCache().setDirty(index, <span class="hljs-keyword">false</span>);  &#125;  Cache.getCache().updateCacheLine(index, addrTag, input);  <span class="hljs-keyword">return</span> index;&#125;</code></pre><p>æ›´æ–°Cacheå†…å®¹çš„æ–¹æ³•æ”¾åœ¨Cacheä¸­ï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateCacheLine</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row, <span class="hljs-keyword">char</span>[] tag, <span class="hljs-keyword">char</span>[] input)</span></span>&#123;  CacheLine cacheLine = cache.get(row);  <span class="hljs-keyword">assert</span> cacheLine != <span class="hljs-keyword">null</span>;  cacheLine.update(tag, input);&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[] tagN, <span class="hljs-keyword">char</span>[] input)</span></span>&#123;  validBit = <span class="hljs-keyword">true</span>;  timeStamp = <span class="hljs-number">0L</span>;  System.arraycopy(tagN, <span class="hljs-number">0</span>, tag, <span class="hljs-number">0</span>, tagN.length);  System.arraycopy(input, <span class="hljs-number">0</span>, data, <span class="hljs-number">0</span>, input.length);&#125;</code></pre><p><code>update</code>ä¹‹å‰æœ‰æ‰€æåˆ°ï¼Œ<code>updateCacheLine</code>å°±æ˜¯åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šï¼Œæ‰¾åˆ°å¯¹åº”çš„Cacheè¡Œï¼Œç®—æ˜¯å¤šäº†ä¸€å±‚çš„æŠ½è±¡ã€‚</p><p>è‡³æ­¤ï¼ŒCacheä¸å‘½ä¸­ä¹Ÿå¤„ç†å®Œäº†ã€‚</p><p>ä¿®æ”¹åˆ°è¿™é‡Œåº”è¯¥å°±å¯ä»¥é€šè¿‡å…³äºâ€œè¯»â€çš„å…¨éƒ¨ç”¨ä¾‹äº†ã€‚</p><p>é‚£ä¹ˆå…³äºâ€œå†™â€å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬åœ¨çŸ¥è¯†å›é¡¾ä¸­æåˆ°äº†ï¼Œæœ¬æ¬¡å®éªŒæ‰€ä½¿ç”¨çš„å›å†™æ³•ï¼Œåªåœ¨æ›¿æ¢ç®—æ³•è¦é©±é€è¿™ä¸ªå—çš„æ—¶å€™å†™å›ä¸»å­˜ã€‚ã€è¯»æ“ä½œä¸è¿›è¡Œå†™å›ï¼Œå› æ­¤å¯èƒ½äº§ç”Ÿä¸€è‡´æ€§çš„é—®é¢˜ã€‘</p><p>æ‰€ä»¥åœ¨Replaceä¸­å·²ç»å‡ºç°è¿‡äº†å†™å›çš„åˆ¤æ–­â€”â€”åœ¨æ›´æ–°cacheè¡Œä¹‹å‰ã€‚</p><p>å¯¹Cacheçš„å†™æˆ‘ä»¬è¿˜æ˜¯è¦çœ‹å›<code>helper</code>ã€‚æˆ‘ä»¬æ˜¯é€šè¿‡<code>WriteStrategy</code>å¯¹Cacheè¿›è¡Œå†™æ“ä½œçš„ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">write</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rowNo, <span class="hljs-keyword">char</span>[] input)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  Cache.getCache().setDirty(rowNo, <span class="hljs-keyword">true</span>);  Cache.getCache().setData(rowNo, input);&#125;</code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦æŠŠä¿®æ”¹çš„é‚£è¡ŒCacheçš„è„ä½ç½®ä¸º<code>true</code>ï¼Œæé†’ä¸»å­˜åœ¨å†™æ“ä½œï¼ˆ$alteredï¼‰çš„æ—¶å€™å›å†™ã€‚ç„¶åä¿®æ”¹Cacheé‡Œçš„å†…å®¹ï¼Œ<code>setData</code>ç­‰å‡½æ•°ä¸å¤šèµ˜è¿°äº†ã€‚</p><p>å†™å›çš„æ“ä½œæ˜¯è¿™æ ·çš„ï¼Œå…ˆè°ƒç”¨Cacheï¼Œæ‰¾åˆ°å¯¹åº”çš„Cacheè¡Œï¼Œé€šè¿‡è‡ªèº«ä¿¡æ¯æ¨å¯¼å‡ºéœ€è¦å†™å›çš„å†…å­˜çš„åœ°å€ï¼Œå†™å…¥ä¿¡æ¯ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeBack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rowNo)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  Cache cache = Cache.getCache();  String pAddr = mappingStrategy.getPAddr(rowNo);  Memory.getMemory().writeBackM(pAddr, cache.getData(rowNo));&#125;</code></pre><p>ä¸Šé¢æ˜¯å†™æ“ä½œç­–ç•¥ä¸­çš„<code>WriteBack</code>ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ¨å‡ºå¯¹åº”çš„ç‰©ç†åœ°å€<code>pAddr</code>ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPAddr</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rowNo)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  <span class="hljs-comment">//</span>  <span class="hljs-keyword">int</span> setNum = rowNo / setSize;  String setStr = <span class="hljs-keyword">new</span> Transformer().intToBinary(String.valueOf(setNum)).substring(<span class="hljs-number">32</span>-countSets(SETS));  <span class="hljs-keyword">char</span>[] tag = Cache.getCache().getTag(rowNo);  String tagStr = String.valueOf(tag).substring(<span class="hljs-number">0</span>, <span class="hljs-number">22</span>-countSets(SETS));  <span class="hljs-keyword">return</span> tagStr + setStr + <span class="hljs-string">&quot;0000000000&quot;</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">countSets</span><span class="hljs-params">(<span class="hljs-keyword">int</span> SETS)</span></span>&#123;  <span class="hljs-keyword">int</span> ret = <span class="hljs-number">0</span>;  SETS &gt;&gt;= <span class="hljs-number">1</span>;  <span class="hljs-keyword">while</span>(SETS != <span class="hljs-number">0</span>)&#123;    ret++;    SETS &gt;&gt;= <span class="hljs-number">1</span>;  &#125;  <span class="hljs-keyword">return</span> ret;&#125;</code></pre><p>é¦–å…ˆéœ€è¦ç®—å‡ºçš„æ˜¯ç»„æ•°ï¼Œè¿™å¯ä»¥é€šè¿‡<code>rowNo / setSize</code>å¾—åˆ°ï¼Œæ¯”å¦‚ç»„å¤§å°æ˜¯4è¡Œï¼Œåœ¨ç¬¬17è¡Œè¯´æ˜åœ¨ç¬¬4ç»„ã€‚ï¼ˆä»¥0ä¸ºèµ·å§‹ï¼‰ã€‚ç„¶åç®—å‡ºTagï¼Œå®ƒçš„é•¿åº¦æ˜¯22-ç»„æ•°çš„é•¿åº¦ã€‚æœ«å°¾è¡¥ä¸Šåä½0å°±æ˜¯å¯¹åº”çš„ç‰©ç†åœ°å€ã€‚ã€ä¸ºä»€ä¹ˆè¡¥ä¸Š0å°±å¯ä»¥å‘¢ï¼Ÿå› ä¸ºCacheæ˜¯æŒ‰å—æ“ä½œçš„ï¼Œä»¥<code>&quot;0000000000&quot;</code>å¯¹é½çš„å°±æ˜¯ä¸€å—ã€‚ã€‘</p><p>ä¸»å­˜çš„å†™æ“ä½œä¹Ÿæ˜¯æœ‰ä¸å°‘å€¼å¾—è¯´çš„åœ°æ–¹ï¼Œé™¤äº†åˆ¤æ–­æ˜¯å¦æœ‰å†…å®¹éœ€è¦å†™å›ï¼Œå°†è„ä½æ¢å¤ä¹‹å¤–ã€‚è¿˜éœ€è¦å°†é‡å†™çš„åœ°æ–¹å¯¹åº”çš„Cacheæ— æ•ˆåŒ–ã€‚ç„¶åå†æ›´æ–°æ•°æ®ã€‚ä¸‹é¢ç»™å‡º<code>invalid</code>ä½†ä¸åšè¿‡å¤šè§£é‡Šã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">invalid</span><span class="hljs-params">(String sAddr, <span class="hljs-keyword">int</span> len)</span> </span>&#123;  <span class="hljs-keyword">int</span> from = getBlockNO(sAddr);  Transformer t = <span class="hljs-keyword">new</span> Transformer();  <span class="hljs-keyword">int</span> to = getBlockNO(t.intToBinary(String.valueOf(Integer.parseInt(t.binaryToInt(<span class="hljs-string">&quot;0&quot;</span> + sAddr)) + len - <span class="hljs-number">1</span>)));  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> blockNO=from; blockNO&lt;=to; blockNO++) &#123;    <span class="hljs-keyword">int</span> rowNO = mappingStrategy.map(blockNO);    <span class="hljs-keyword">if</span> (rowNO != -<span class="hljs-number">1</span>) &#123;      cache.get(rowNO).timeStamp = -<span class="hljs-number">1L</span>;      cache.get(rowNO).validBit = <span class="hljs-keyword">false</span>;    &#125;  &#125;&#125;</code></pre><p>åˆ°è¿™é‡Œå·®ä¸å¤šä¹Ÿå°±ç»“æŸäº†ï¼ä¸è¿‡ç›®å‰æ²¡æœ‰å»ç®¡å½©è›‹ï¼Œå› ä¸ºè¦åšçš„äº‹æƒ…æœ‰ç‚¹å¤šï¼Œè¿™æ¬¡çš„$Review$å†™äº†ä¸¤ä¸ªå¤šå°æ—¶å¤´çš®å‘éº»ï¼Œä¸çŸ¥é“ç äº†å¤§æ¦‚å¤šå°‘å­—ã€‚å…¶å®çœ‹ä¸‹æ¥ï¼Œè¿™ä¸€æ¬¡å¹¶æ²¡æœ‰å†™å¾ˆå¤æ‚çš„é€»è¾‘ï¼Œæ— éæ˜¯æŠŠè€å¸ˆä¸Šè¯¾è®²çš„æµç¨‹ä»˜è¯¸äºå®è·µã€‚åªä¸è¿‡ç›¸æ¯”ä»å‰å¤šäº†å‡ ä¸ªæŠ½è±¡å±‚æ¬¡ï¼Œå¹¶ä¸”æ›´éš¾å»æµ‹è¯•ï¼Œä½¿å¾—è¿™æ¬¡çš„ç¼–ç¨‹ä½œä¸šçœ‹èµ·æ¥å˜éš¾äº†â€¦â€¦</p><p>å¸Œæœ›æœ‰æ›´é«˜çš„ä½œä¸šè´¨é‡çš„åŒæ—¶ä¹Ÿå¸Œæœ›å¯ä»¥æ›´å¥½çš„$Survive$è¿‡å»( Â´â–½` )ï¾‰ï¼</p><h3 id="é‡æŒ¯è½¯é™¢è£å…‰ï¼Œæˆ‘è¾ˆä¹‰ä¸å®¹è¾ï¼"><a href="#é‡æŒ¯è½¯é™¢è£å…‰ï¼Œæˆ‘è¾ˆä¹‰ä¸å®¹è¾ï¼" class="headerlink" title="é‡æŒ¯è½¯é™¢è£å…‰ï¼Œæˆ‘è¾ˆä¹‰ä¸å®¹è¾ï¼"></a>é‡æŒ¯è½¯é™¢è£å…‰ï¼Œæˆ‘è¾ˆä¹‰ä¸å®¹è¾ï¼</h3>]]></content>
    
    
    
    <tags>
      
      <tag>COA</tag>
      
      <tag>Cache</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>COA-RAID</title>
    <link href="/2020/11/19/COA-RAID/"/>
    <url>/2020/11/19/COA-RAID/</url>
    
    <content type="html"><![CDATA[<h2 id="COA-RAID"><a href="#COA-RAID" class="headerlink" title="COA-RAID"></a>COA-RAID</h2><h3 id="RAIDï¼ˆç£ç›˜å†—ä½™é˜µåˆ—ï¼‰"><a href="#RAIDï¼ˆç£ç›˜å†—ä½™é˜µåˆ—ï¼‰" class="headerlink" title="RAIDï¼ˆç£ç›˜å†—ä½™é˜µåˆ—ï¼‰"></a>RAIDï¼ˆç£ç›˜å†—ä½™é˜µåˆ—ï¼‰</h3><ul><li>ä¸€ç»„ç‰©ç†ç£ç›˜ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™æ„Ÿè§‰åƒæ˜¯ä¸€å—ç£ç›˜ï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸‹è¢«è§†ä¸ºä¸€ä¸ªå•ä¸€çš„é€»è¾‘é©±åŠ¨å™¨ã€‚</li><li>æ•°æ®ä»¥<strong>å¸¦åŒ–ï¼ˆstripingï¼‰</strong>çš„æ–¹å¼åˆ†å¸ƒåœ¨ä¸€ç»„ç‰©ç†ç£ç›˜ä¸Šã€‚</li><li>å†—ä½™ç£ç›˜å®¹é‡ç”¨äºå­˜å‚¨å¥‡å¶æ ¡éªŒä¿¡æ¯ï¼Œç£ç›˜å‡ºé”™çš„æƒ…å†µä¸‹ï¼Œæœ‰ä¸€å®šçš„æ¢å¤èƒ½åŠ›ã€‚ã€0ã€1çº§ä¸æ”¯æŒã€‘</li><li>å¤šä¸ªç£å¤´å’Œæœºæ¢°è‡‚ç§»åŠ¨æœºæ„åŒæ—¶æ“ä½œè¾¾åˆ°æ›´é«˜çš„I/Oå’Œä¼ è¾“é€Ÿåº¦ï¼Œä½†å¤šä¸ªè®¾å¤‡çš„ä½¿ç”¨å¢åŠ äº†å‡ºé”™æ¦‚ç‡ã€‚</li><li><img src="/img/COA/RAIDLevel.jpg" alt=""></li></ul><h4 id="RAID-Level-0"><a href="#RAID-Level-0" class="headerlink" title="RAID Level 0"></a>RAID Level 0</h4><ul><li><img src="/img/COA/L0.jpg" alt=""></li><li>IOç›¸åº”å¿«ï¼šå¥½å¤šä¸ªI/Oè¯·æ±‚è¿‡æ¥çš„è¯ï¼Œå¯¹åº”ä¸åŒçš„ç‰©ç†ç›˜ï¼Œå¯ä»¥å‡å°‘ç­‰å¾…æ—¶é—´ï¼›</li><li>IOæ•°æ®é‡è¾ƒå¤§å¯ä»¥å­˜åœ¨ä¸åŒçš„ç©ºé—´é‡Œï¼Œå¯ä»¥æé«˜å†™çš„é€Ÿåº¦ã€‚</li><li>ç¼ºç‚¹ï¼šå› ä¸ºæ¡å¸¦åŒ–ï¼Œæ–‡ä»¶å¯èƒ½ä¼šè·¨å¤šä¸ªç‰©ç†ç›˜ï¼Œåªè¦æœ‰ä¸€ä¸ªç›˜åäº†ï¼Œä¼šå½±å“è®¸å¤šæ•°æ®çš„è¯»å–ã€‚</li></ul><h4 id="RAID-Level-1"><a href="#RAID-Level-1" class="headerlink" title="RAID Level 1"></a>RAID Level 1</h4><ul><li><img src="/img/COA/L1.jpg" alt=""></li><li>é•œåƒï¼šä¸åŒæ—¶åçš„æ—¶å€™ï¼Œæ€»èƒ½å–åˆ°æ•°æ®ã€‚</li><li>å¯ä»¥åŠ é€Ÿè¯»å–ï¼ŒåŒæ—¶è¯»ä¸€å—ç›˜ä¸Šçš„ä¸åŒå†…å®¹ã€‚ä¸¤ä¸ªè¯·æ±‚èƒ½å¤Ÿå¹¶è¡Œå‘å‡ºï¼Œå‡å°‘I/Oçš„æ’é˜Ÿæ—¶é—´ã€‚</li><li>ä¸€ä¸ªè¯»è¯·æ±‚å¯ä»¥ç”±åŒ…å«è¯·æ±‚æ•°æ®çš„ä¸¤ä¸ªç£ç›˜ä¸­çš„æŸä¸€ä¸ªæä¾›æœåŠ¡ï¼Œåªè¦å®ƒçš„å¯»é“æ—¶é—´è¾ƒå°ï¼›ï¼ˆæ—‹è½¬å»¶è¿Ÿæ”¹ä¸äº†ï¼‰</li><li>ä¸€ä¸ªå†™è¯·æ±‚éœ€è¦æ›´æ–°ä¸¤ä¸ªå¯¹åº”çš„æ¡å¸¦ï¼Œä½†è¿™å¯ä»¥å¹¶è¡Œå®Œæˆã€‚</li><li>ç¼ºç‚¹ï¼šä»·æ ¼é«˜æ˜‚ï¼Œéœ€è¦æ”¯æŒä¸¤å€äºé€»è¾‘ç£ç›˜çš„ç£ç›˜ç©ºé—´ã€‚</li><li>æœ‰å¤§æ‰¹çš„è¯»è¯·æ±‚æ—¶ï¼ŒRAID 1èƒ½å®ç°é«˜é€Ÿçš„I/Oé€Ÿç‡ï¼Œæ€§èƒ½å‡ ä¹å¯ä»¥è¾¾åˆ°RAID 0çš„ä¸¤å€ã€‚å¦‚æœæœ‰å¤§æ‰¹çš„å†™è¯·æ±‚ï¼Œæ€§èƒ½åˆ™ä¸æ¯”RAID 0å¥½å¤šå°‘ã€‚</li></ul><h4 id="RAID-Level-2ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰"><a href="#RAID-Level-2ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰" class="headerlink" title="RAID Level 2ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰"></a>RAID Level 2ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰</h4><ul><li><img src="/img/COA/L2.jpg" alt=""></li><li>æ¯ä¸€ä¸ªç£ç›˜éƒ½ä¼šå‚ä¸æ¯ä¸€æ¬¡I/Oçš„è¿ç®—ã€‚éå¸¸é«˜çš„æ•°æ®ä¼ è¾“ç‡â€”â€”<strong>æ¡å¸¦éå¸¸çš„å°</strong>ï¼›</li><li>ä½¿ç”¨äº†æµ·æ˜ç â€”â€”æ¯ä¸€æ¬¡è¯»å†™çš„æ—¶å€™éƒ½ä¼šè¯»æ•°æ®è¿›è¡ŒçŸ«éªŒã€‚</li><li>å¯¹äºå•ä¸ªè¯»æ“ä½œï¼Œæ‰€æœ‰ç£ç›˜åŒæ—¶è¯»å–ï¼Œè¯·æ±‚çš„æ•°æ®å’Œç›¸å…³çš„çº é”™ç è¾ˆä¼ é€åˆ°é˜µåˆ—æ§åˆ¶å™¨ã€‚IOå“åº”ä¹Ÿå¯ä»¥æ›´å¿«ã€‚</li><li>å¯¹äºå•ä¸ªå†™æ“ä½œï¼Œæ‰€æœ‰æ•°æ®ç›˜å’Œå¥‡å¶æ ¡éªŒç›˜å¿…é¡»è¢«è®¿é—®ä»¥è¿›è¡Œå†™æ“ä½œã€‚</li><li>ç¼ºç‚¹ï¼šæˆæœ¬é«˜æ˜‚ï¼Œå†—ä½™ç£ç›˜çš„æ•°ç›®ä¸æ•°æ®ç£ç›˜æ•°ç›®çš„å¯¹æ•°æˆæ­£æ¯”ï¼›åæ¥çš„ç£ç›˜æœ¬èº«æ²¡æœ‰é‚£ä¹ˆå®¹æ˜“å‡ºé”™ï¼Œå› æ­¤ä¸éœ€è¦é‚£ä¹ˆå¤šå†—ä½™ç›˜æ¥è¿›è¡Œæ“ä½œï¼›</li></ul><h4 id="RAID-Level-3"><a href="#RAID-Level-3" class="headerlink" title="RAID Level 3"></a>RAID Level 3</h4><ul><li><img src="/img/COA/L3.jpg" alt=""></li><li>ä½¿ç”¨äº†å¥‡å¶æ ¡éªŒï¼Œå¯¹æ‰€æœ‰æ•°æ®ç›˜ä¸ŠåŒä¸€ä½ç½®çš„ä¸€ç»„ç‹¬ç«‹ä½è¿›è¡Œç®€å•è®¡ç®—çš„å¥‡å¶æ ¡éªŒä½ï¼›</li><li>å¦‚æœæœ‰ä¸€ä¸ª<strong>æ•°æ®ç›˜</strong>åäº†ï¼Œå¯ä»¥å¸®å®ƒæ¢å¤å‡ºæ¥ï¼›<ul><li>P(b) = b<sub>1</sub>âŠ•b<sub>2</sub>âŠ•b<sub>3</sub>âŠ•b<sub>4</sub></li><li>b<sub>2</sub>âŠ•P(b)âŠ•P(b) = b<sub>2</sub>âŠ•b<sub>1</sub>âŠ•b<sub>2</sub>âŠ•b<sub>3</sub>âŠ•b<sub>4</sub>âŠ•P(b)</li><li>b<sub>2</sub> = b<sub>1</sub>âŠ•b<sub>3</sub>âŠ•b<sub>4</sub>âŠ•P(b)</li><li>æ¯ä¸ªæ•°æ®æ¡å¸¦çš„å†…å®¹éƒ½å¯ä»¥ä»é˜µåˆ—ä¸­å‰©ä½™ç£ç›˜çš„ç›¸åº”æ¡å¸¦ä¸­é‡æ–°ç”Ÿæˆã€‚é€‚ç”¨äº3ï½6çº§ã€‚</li></ul></li><li><strong>æ ¡éªŒç›˜</strong>åäº†æ¢å¤çš„è¿‡ç¨‹ä¸­éœ€è¦çŸ¥é“æ˜¯å¥‡æ ¡éªŒè¿˜æ˜¯å¶æ ¡éªŒã€‚</li><li>æ€§èƒ½ï¼šéå¸¸å°çš„æ¡å¸¦ï¼Œéå¸¸é«˜çš„æ•°æ®ä¼ è¾“ç‡ã€‚ä»»ä½•I/Oè¯·æ±‚å°†åŒ…å«æ‰€æœ‰æ•°æ®ç›˜çš„å¹¶è¡Œæ•°æ®ä¼ é€ã€‚</li><li>ç¼ºç‚¹ï¼šåŒä¸€æ—¶é—´åªèƒ½åŠ è½½ä¸€ä¸ªIOè¯·æ±‚ã€‚</li></ul><h4 id="RAID-Level-4ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰"><a href="#RAID-Level-4ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰" class="headerlink" title="RAID Level 4ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰"></a>RAID Level 4ï¼ˆæ²¡æœ‰å¹¿æ³›è¿ç”¨ï¼‰</h4><ul><li><img src="/img/COA/L4.jpg" alt=""></li><li>ç‹¬ç«‹å­˜å–æŠ€æœ¯ã€‚æ¯ä¸ªç£ç›˜æˆå‘˜çš„æ“ä½œæ˜¯ç‹¬ç«‹çš„ï¼Œå› æ­¤å„ä¸ªI/Oè¯·æ±‚èƒ½å¤Ÿå¹¶è¡Œå¤„ç†ã€‚</li><li>å„ä¸ªç›˜ä¹‹é—´ä¸è¦ç‰µç»Šâ€”â€”æ¡å¸¦å˜å¤§ã€‚æ¯ä¸ªç›˜å˜å¾—ç›¸å¯¹ç‹¬ç«‹ï¼›</li><li>æ¯ä¸€æ¬¡å†™æ“ä½œï¼Œé˜µåˆ—ç®¡ç†è½¯ä»¶ä¸ä»…è¦ä¿®æ”¹ç”¨æˆ·æ•°æ®ï¼Œè€Œä¸”è¦ä¿®æ”¹ç›¸åº”çš„æ ¡éªŒä½ã€‚</li><li><img src="/img/COA/L4C.jpg" alt=""></li><li>ä¸ºäº†è®¡ç®—æ–°çš„å¥‡å¶æ ¡éªŒä½ï¼Œé˜µåˆ—ç®¡ç†è½¯ä»¶å¿…é¡»è¯»å–æ—§çš„æ•°æ®æ¡å¸¦å’Œå¥‡å¶æ ¡éªŒæ¡å¸¦ï¼Œç„¶åç”¨æ–°çš„æ•°æ®å’Œæ–°è®¡ç®—å‡ºçš„å¥‡å¶æ ¡éªŒä½æ›´æ–°ä¸Šè¿°çš„ä¸¤ä¸ªæ¡å¸¦ã€‚å› æ­¤æ¯ä¸ªæ¡å¸¦çš„å†™æ“ä½œåŒ…æ‹¬ä¸¤æ¬¡è¯»æ“ä½œå’Œä¸¤æ¬¡å†™æ“ä½œã€‚</li><li>å½“æ¶‰åŠæ‰€æœ‰ç£ç›˜çš„æ•°æ®æ¡å¸¦çš„è¾ƒå¤§I/Oå†™æ“ä½œæ—¶ï¼Œåªéœ€è¦å’Œæ–°çš„æ•°æ®ä½æ¥è¿›è¡Œç®€å•çš„è®¡ç®—å³å¯å¾—å¥‡å¶æ ¡éªŒä½ã€‚å› æ­¤ï¼Œå¥‡å¶æ ¡éªŒç›˜å’Œæ•°æ®ç£ç›˜å¹¶è¡Œæ›´æ–°ï¼Œä¸å†éœ€è¦å¦å¤–çš„è¯»æˆ–å†™æ“ä½œã€‚</li><li>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œ<strong>æ¯ä¸€æ¬¡è¯»å†™æ“ä½œå¿…é¡»æ¶‰åŠå¥‡å¶æ ¡éªŒç›˜</strong>ï¼Œå› æ­¤å®ƒæˆä¸ºä¸€ä¸ªç“¶é¢ˆã€‚ï¼ˆå› æ­¤æ²¡æœ‰è¢«å¹¿æ³›ä½¿ç”¨ï¼‰ç‹¬ç«‹æ€§å¾ˆå·®ï¼Œä¸å®ç”¨ã€‚</li></ul><h4 id="RAID-Level-5"><a href="#RAID-Level-5" class="headerlink" title="RAID Level 5"></a>RAID Level 5</h4><ul><li><img src="/img/COA/L5.jpg" alt=""></li><li>å’ŒRAID 4ç›¸ä¼¼ï¼›</li><li>å†—ä½™çš„ä»»åŠ¡åˆ†é…åœ¨ä¸åŒçš„ç›˜ä¸Šï¼Œæ‰€æœ‰ç£ç›˜ä¸Šéƒ½åˆ†å¸ƒäº†å¥‡å¶æ ¡éªŒæ¡å¸¦ã€‚</li><li>å¹¶ä¸æ˜¯å®Œå…¨ç‹¬ç«‹äº†ï¼Œåªæ˜¯å¥½ä¸€ç‚¹ã€‚</li></ul><h4 id="RAID-Level-6"><a href="#RAID-Level-6" class="headerlink" title="RAID Level 6"></a>RAID Level 6</h4><ul><li><img src="/img/COA/L6.jpg" alt=""></li><li>RAID 6 æ–¹æ¡ˆè¿›è¡Œä¸¤ç§ä¸åŒçš„å¥‡å¶æ ¡éªŒè®¡ç®—ï¼Œå¹¶å°†æ ¡éªŒç ä»¥åˆ†å¼€çš„å—å­˜äºä¸åŒçš„ç£ç›˜ä¸­ã€‚å› æ­¤ï¼Œç”¨æˆ·æ•°æ®éœ€è¦$N$ä¸ªç£ç›˜çš„RAID 6é˜µåˆ—ï¼Œç”±$N+2$ä¸ªç£ç›˜ç»„æˆã€‚</li><li>På’ŒQæ˜¯ä¸¤ä¸ªä¸åŒçš„æ•°æ®æ ¡éªŒç®—æ³•ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ç”¨äºRAID 4å’ŒRAID 5ä¸­çš„å¼‚æˆ–è¿ç®—ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸€ç§ç‹¬ç«‹çš„æ•°æ®æ ¡éªŒç®—æ³•ã€‚è¿™æ ·ï¼Œå³ä½¿åŒ…å«ç”¨æˆ·æ•°æ®çš„ä¸¤ä¸ªç›˜å‡ºç°æ•…éšœäº†ï¼Œæ•°æ®ç…§æ ·èƒ½é‡æ–°ç”Ÿæˆã€‚</li><li>ä¼˜ç‚¹ï¼šæé«˜çš„æ•°æ®å¯ç”¨æ€§ï¼Œåªåœ¨å¹³å‡ä¿®å¤æ—¶é—´é—´éš”å†…3ä¸ªç£ç›˜éƒ½å‡ºäº†æ•…éšœæ‰ä¼šä½¿æ•°æ®ä¸¢å¤±ã€‚</li><li>æ¯æ¬¡å†™éƒ½è¦å½±å“ä¸¤ä¸ªå¥‡å¶å—ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>RAID</tag>
      
      <tag>COA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Floating-point-Arithmetic-Review-2</title>
    <link href="/2020/11/13/Floating-point-Arithmetic-Review-2/"/>
    <url>/2020/11/13/Floating-point-Arithmetic-Review-2/</url>
    
    <content type="html"><![CDATA[<h2 id="æµ®ç‚¹æ•°ä¹˜é™¤æ³•è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“"><a href="#æµ®ç‚¹æ•°ä¹˜é™¤æ³•è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“" class="headerlink" title="æµ®ç‚¹æ•°ä¹˜é™¤æ³•è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“"></a>æµ®ç‚¹æ•°ä¹˜é™¤æ³•è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“</h2><p>å¤šæœ‰è¯´çš„ä¸æ¸…æ¥šä»¥åŠè¿˜æƒ³ä¸å¤ªæ¸…æ¥šçš„åœ°æ–¹ï¼Œå¸Œæœ›å¤šå¤šåŒ…æ¶µ( Â´â–½` )ï¾‰</p><h3 id="æµ®ç‚¹æ•°ä¹˜æ³•"><a href="#æµ®ç‚¹æ•°ä¹˜æ³•" class="headerlink" title="æµ®ç‚¹æ•°ä¹˜æ³•"></a>æµ®ç‚¹æ•°ä¹˜æ³•</h3><h4 id="1-ç‰¹æ®Šæƒ…å†µ"><a href="#1-ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="1. ç‰¹æ®Šæƒ…å†µ"></a>1. ç‰¹æ®Šæƒ…å†µ</h4><p>ä»»ä½•æ•°å’ŒNaNç›¸ä¹˜ä»¥åŠ0å’Œæ— ç©·ç›¸ä¹˜å¾—åˆ°çš„ç»“æœéƒ½æ˜¯NaNã€‚æˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹æ­¤è¿›è¡Œç‰¹åˆ¤ï¼š</p><pre><code class="hljs java"><span class="hljs-comment">//å¦‚æœä¸¤ä¸ªä¹˜æ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯NaNï¼Œè¿”å›NaN</span><span class="hljs-keyword">if</span>(Pattern.matches(a, IEEE754Float.NaN) || Pattern.matches(b, IEEE754Float.NaN))&#123;  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;NaN&quot;</span>;&#125;String ansExp;String ansFrac;<span class="hljs-keyword">char</span> signA = a.charAt(<span class="hljs-number">0</span>);<span class="hljs-keyword">char</span> signB = b.charAt(<span class="hljs-number">0</span>);String ansSign = (signA == signB)? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;<span class="hljs-comment">//è¿™ä¹ˆå†™éº»çƒ¦äº†å¾ˆå¤šï¼Œåœ¨é™¤æ³•ä¸­çš„å¤„ç†çœ‹èµ·æ¥æ›´æ¸…çˆ½ä¸€äº›ã€‚</span><span class="hljs-comment">//å¦‚æœä¸¤ä¸ªä¹˜æ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯0ï¼Œé‚£ä¹ˆå½“å¦ä¸€ä¸ªæ•°ï¼š</span><span class="hljs-comment">//1.ä¸ºNaNæ—¶ã€è²Œä¼¼é‡å¤åˆ¤æ–­äº†ã€‘ç»“æœä¸ºNaN</span><span class="hljs-comment">//2.ä¸ºæ— ç©·çš„æ—¶å€™ç»“æœä¸ºNaN</span><span class="hljs-comment">//3.å…¶ä»–æƒ…å†µè¿”å›0ï¼Œæ³¨æ„0çš„ç¬¦å·æ˜¯ä¸¤ä¸ªä¹˜æ•°çš„å¼‚æˆ–ç»“æœ</span><span class="hljs-keyword">if</span>(a.equals(IEEE754Float.N_ZERO) || b.equals(IEEE754Float.N_ZERO)   || a.equals(IEEE754Float.P_ZERO) || b.equals(IEEE754Float.P_ZERO))&#123;  <span class="hljs-keyword">if</span>(Pattern.matches(a, IEEE754Float.NaN) || Pattern.matches(b, IEEE754Float.NaN))&#123;    <span class="hljs-keyword">return</span> IEEE754Float.NaN;  &#125;  <span class="hljs-keyword">if</span>(a.startsWith(<span class="hljs-string">&quot;11111111&quot;</span>, <span class="hljs-number">1</span>) || b.startsWith(<span class="hljs-string">&quot;11111111&quot;</span>, <span class="hljs-number">1</span>))&#123;    <span class="hljs-keyword">return</span> IEEE754Float.NaN;  &#125;  <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>;&#125;</code></pre><h4 id="2-å¤„ç†å‚æ•°"><a href="#2-å¤„ç†å‚æ•°" class="headerlink" title="2. å¤„ç†å‚æ•°"></a>2. å¤„ç†å‚æ•°</h4><p>ä¸Šé¢è¿˜å¤„ç†äº†ç»“æœä¼šç”¨åˆ°çš„ç¬¦å·ã€‚ä¸‹é¢å¯¹ä¸¤ä¸ªä¹˜æ•°è¿›è¡Œå¤„ç†ï¼Œå¹¶ä¸”è¡¥ä¸Šè§„æ ¼åŒ–éšå»çš„å°æ•°ç‚¹ä¹‹å‰çš„0æˆ–è€…1ã€‚ä½¿ç”¨äº†countAå’ŒcountBæ¥ä»£è¡¨å‚ä¸è¿ç®—çš„å°æ•°éƒ¨åˆ†ã€‚</p><pre><code class="hljs java">String expA = a.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);String expB = b.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);String bitA = (expA.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;String bitB = (expB.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;String fracA = a.substring(<span class="hljs-number">9</span>);String fracB = b.substring(<span class="hljs-number">9</span>);String countA = bitA + fracA + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//28</span>String countB = bitB + fracB + <span class="hljs-string">&quot;0000&quot;</span>;</code></pre><h4 id="3-CFä»¥åŠç‰¹åˆ¤é˜¶ç "><a href="#3-CFä»¥åŠç‰¹åˆ¤é˜¶ç " class="headerlink" title="3. CFä»¥åŠç‰¹åˆ¤é˜¶ç "></a>3. CFä»¥åŠç‰¹åˆ¤é˜¶ç </h4><p>è¿™é‡Œæ¯”è¾ƒæœ‰æ„æ€ï¼Œè¦å•ç‹¬è¯´ä¸€ä¸‹æœ‰å…³CFä½ã€‚</p><p>CFä½è¡¨ç¤ºçš„æ˜¯è¿›ä½ï¼Œå½“æ— ç¬¦å·æ•°åŠ å‡æ³•æº¢å‡ºçš„æ—¶å€™CFä¼šè¢«ç½®ä¸º1ã€‚ä»€ä¹ˆæƒ…å†µä¸‹åŠ æ³•ä¼šæº¢å‡ºå‘¢ï¼Ÿå½“nä½çš„ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°ç›¸åŠ å¾—åˆ°çš„å’Œå¤§äº2<sup>n</sup>æ—¶ï¼Œæº¢å‡ºï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä½è®¡ç®—çš„æ—¶å€™CFä¸º1ã€‚åŠ æ³•çš„æƒ…å†µä¸‹æ¯”è¾ƒå¥½ç†è§£ï¼Œé‚£ä¹ˆå‡æ³•å‘¢ï¼Ÿåœ¨æˆ‘çš„å®ç°ä¸­ï¼Œå‡æ³•æ˜¯å°†å‡æ•°å–ååŠ ä¸€æ¥å®ç°çš„ã€‚å› æ­¤ï¼ŒåŸæœ¬éœ€è¦å€Ÿä½çš„æ•°ç›¸åŠ ä¹‹åçš„CFä¸º0ï¼Œä¸éœ€è¦çš„ä¸º1ã€‚æ‰€ä»¥åŠ æ³•å’Œå‡æ³•çš„æº¢å‡ºä¸å¦å’ŒCFçš„å…³ç³»æ˜¯ç›¸åçš„ã€‚</p><p>åœ¨è¿™é‡Œï¼Œå› ä¸ºé˜¶ç æ¯”å®ƒçš„çœŸå®å€¼å¤šäº†127ï¼Œä¸¤ä¸ªæ•°ç›¸ä¹˜ä¹‹å’Œé˜¶ç ç›¸åŠ ï¼Œä¹Ÿå°±åŠ ä¸Šäº†ä¸¤ä¸ª127ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å‡ä¸€ä¸ª127ã€‚æ­£å¸¸çš„ä¸¤ä¸ªæ•°ä¹‹å’Œçš„èŒƒå›´æ˜¯0ï½508ã€‚è€Œå¾—åˆ°ä¸€ä¸ªå¯ä»¥è¡¨ç¤ºçš„ç»“æœçš„èŒƒå›´åº”è¯¥æ˜¯127ï½381ã€‚</p><p>æ€ä¹ˆæ ·è¡¨ç¤ºä¸Šæº¢å‡ºå’Œä¸‹æº¢å‡ºçš„æ•°æ›´æ–¹ä¾¿å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä½¿ç”¨CFä½ï¼</p><p>å¦‚æœä¸€å¼€å§‹çš„åŠ æ³•æº¢å‡ºäº†ï¼Œè¯´æ˜å¾—åˆ°çš„ç»“æœå¤§äº255ã€‚å¦‚æœä¹‹åçš„å‡æ³•éœ€è¦å€Ÿä½ï¼Œè¯´æ˜å¾—åˆ°çš„ç»“æœå°äºç­‰äº382ï¼ˆè¿™ä¹Ÿè¯´æ˜äº†è¿˜æœ‰ä¸€ç§åŠ å®Œå¾—åˆ°255çš„æƒ…å†µï¼‰ã€‚å°äº382çš„æƒ…å†µæ˜¯åˆæ³•çš„ï¼Œä»¥ä¸Šçš„å…³ç³»éƒ½æ˜¯å……è¦çš„ã€‚å› æ­¤ï¼Œå½“ä¸€å¼€å§‹çš„åŠ æ³•æº¢å‡ºä¸”å‡æ³•ä¸éœ€è¦å€Ÿä½çš„æ—¶å€™ï¼Œé˜¶ç ä¸Šæº¢ï¼æ ¹æ®ä¹‹å‰å¯¹äºCFçš„è®¨è®ºï¼Œ<strong>å½“åŠ æ³•ä¹‹åçš„CFä¸º1ä¸”å‡æ³•ä¹‹åçš„CFä¸º1æ—¶ï¼Œæº¢å‡ºå¾—åˆ°ç»“æœæ— ç©·ã€‚</strong></p><p>å¦‚æœä¸€å¼€å§‹çš„åŠ æ³•æ²¡æœ‰æº¢å‡ºï¼Œè¯´æ˜ç»“æœå°äºç­‰äº255ã€‚å¦‚æœä¹‹å-127çš„å‡æ³•éœ€è¦å€Ÿä½ï¼Œè¯´æ˜ç»“æœå¤„äº0ï½126æˆ–256ï½382ã€‚å–å¹¶é›†ç»“æœï¼š0ï½126ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“<strong>å½“CFåœ¨åŠ æ³•ä¹‹åä¸º0ï¼Œå‡127ä¹‹åä¹Ÿä¸º0çš„æ—¶å€™ï¼Œé˜¶ç ä¸‹æº¢å‡ºã€‚</strong></p><p>ä»¥ä¸‹æ˜¯å…·ä½“çš„å¤„ç†ï¼š</p><pre><code class="hljs java">String tmp = add(expA, expB);<span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰æº¢å‡ºï¼›</span><span class="hljs-keyword">char</span> tmpCF = CF;ansExp = sub(<span class="hljs-string">&quot;01111111&quot;</span>, tmp);<span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰å€Ÿä½ï¼›</span><span class="hljs-keyword">if</span>((tmpCF==<span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; CF==<span class="hljs-string">&#x27;1&#x27;</span>) || ansExp.equals(<span class="hljs-string">&quot;11111111&quot;</span>))&#123; <span class="hljs-comment">//ä¸€å¼€å§‹æº¢å‡ºäº†ä½†æ˜¯æ²¡æœ‰å€Ÿä½ï¼Œè¯´æ˜</span>  <span class="hljs-keyword">if</span>(signA==signB) <span class="hljs-keyword">return</span> IEEE754Float.P_INF;  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> IEEE754Float.N_INF;&#125;<span class="hljs-keyword">if</span>(tmpCF==<span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; CF==<span class="hljs-string">&#x27;0&#x27;</span>)&#123; <span class="hljs-comment">//ä¸€å¼€å§‹æ²¡æœ‰æº¢å‡ºï¼Œä½†æ˜¯æœ‰å€Ÿä½</span>  <span class="hljs-keyword">if</span>(signA==signB) <span class="hljs-keyword">return</span> IEEE754Float.P_ZERO;  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> IEEE754Float.N_ZERO;&#125;</code></pre><p>ä¹‹åçš„ä¸€æ­¥å°±æ˜¯å°æ•°éƒ¨åˆ†ç›¸ä¹˜å¾—åˆ°ç»“æœçš„fractionã€‚å¹¶å¯¹ç»“æœè¿›è¡Œè§„æ ¼åŒ–ï¼ˆè§„æ ¼åŒ–çš„è¿‡ç¨‹ä¸å¤šèµ˜è¿°ï¼‰ã€‚</p><pre><code class="hljs java">ansFrac = mulFrac(countA, countB).substring(<span class="hljs-number">1</span>, <span class="hljs-number">25</span>);<span class="hljs-comment">//Normalize</span><span class="hljs-keyword">while</span> (ansFrac.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; !ansExp.equals(<span class="hljs-string">&quot;00000000&quot;</span>))&#123;  ansFrac = ansFrac.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;  ansExp = sub(<span class="hljs-string">&quot;00000001&quot;</span>, ansExp);&#125;ansFrac = ansFrac.substring(<span class="hljs-number">1</span>, <span class="hljs-number">24</span>);<span class="hljs-keyword">return</span> ansSign + ansExp + ansFrac;</code></pre><h4 id="4-å°¾æ•°ä¹˜æ³•"><a href="#4-å°¾æ•°ä¹˜æ³•" class="headerlink" title="4. å°¾æ•°ä¹˜æ³•"></a>4. å°¾æ•°ä¹˜æ³•</h4><p>åœ¨è¿™é‡Œç»™å‡ºmulFracçš„å…·ä½“ä»£ç ï¼š</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">mulFrac</span> <span class="hljs-params">(String src, String dest)</span></span>&#123;  String Y = dest;  String product = <span class="hljs-string">&quot;0000000000000000000000000000&quot;</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">28</span>; i++)&#123;    <span class="hljs-keyword">if</span>(Y.charAt(<span class="hljs-number">27</span>) == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;      product = add(src, product);    &#125;    product = <span class="hljs-string">&quot;0&quot;</span> + product;    Y = product.charAt(<span class="hljs-number">28</span>) + Y.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);    product = product.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);  &#125;  <span class="hljs-keyword">return</span> product;&#125;</code></pre><p>å‚æ•°å‡æ˜¯28ä½ï¼ˆ1ä½è§„æ ¼åŒ–éšè—+23ä½fraction+4ä½ä¿æŠ¤ä½ï¼‰ã€‚è¿™é‡Œä½¿ç”¨äº†pptä¸Šçš„ç®—æ³•ï¼Œå½“Yæœ€åä¸€ä½ä¸º1çš„æ—¶å€™ï¼Œå°†éƒ¨åˆ†ç§¯çš„ç¬¬ä¸€ä½ç½®ä¸º1ï¼Œç„¶åå³ç§»ï¼›åä¹‹ç½®ä¸º0ï¼Œå†å·¦ç§»ã€‚å¾—åˆ°çš„ç»“æœåº”å½“ä¸ºéƒ¨åˆ†ç§¯ï¼ˆä¹Ÿæ˜¯28ä½ï¼‰ï¼Œåœ¨mulä¸­ä¼šè¢«åˆ‡å‰²æ•´ç†ã€‚ä»¥ä¸Šçš„æ“ä½œéƒ½æ˜¯ç«–å¼ä¹˜æ³•çš„ä¸€ç§å®ç°ï¼Œå¯ä»¥ç”¨è¯¥æ€è·¯è¾…åŠ©ç†è§£ã€‚</p><p>pptæˆªå›¾ï¼š</p><p><img src="/img/COA/FloatMul.jpg" alt=""></p><h3 id="æµ®ç‚¹æ•°é™¤æ³•"><a href="#æµ®ç‚¹æ•°é™¤æ³•" class="headerlink" title="æµ®ç‚¹æ•°é™¤æ³•"></a>æµ®ç‚¹æ•°é™¤æ³•</h3><h4 id="1-åˆ¤æ–­ç‰¹æ®Šæƒ…å†µ"><a href="#1-åˆ¤æ–­ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="1. åˆ¤æ–­ç‰¹æ®Šæƒ…å†µ"></a>1. åˆ¤æ–­ç‰¹æ®Šæƒ…å†µ</h4><p>å½“è¢«é™¤æ•°ä¸º0ä¸”é™¤æ•°ä¹Ÿä¸º0çš„æ—¶å€™ï¼Œç»“æœä¸ºNaNã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå½“è¢«é™¤æ•°ä¸º0çš„æ—¶å€™ï¼Œç»“æœä¹Ÿä¸º0ï¼ˆæ³¨æ„åˆ¤æ–­ç¬¦å·ï¼‰ï¼›å½“é™¤æ•°ä¸º0çš„æ—¶å€™æŠ›å‡ºé”™è¯¯ã€‚</p><pre><code class="hljs java">String ansExp;String ansFrac;<span class="hljs-keyword">char</span> signA = a.charAt(<span class="hljs-number">0</span>);<span class="hljs-keyword">char</span> signB = b.charAt(<span class="hljs-number">0</span>);String ansSign = (signA == signB)? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;<span class="hljs-keyword">if</span>(b.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>))&#123;  <span class="hljs-keyword">if</span>(a.equals(IEEE754Float.N_ZERO) || a.equals(IEEE754Float.P_ZERO))&#123;    <span class="hljs-keyword">return</span> IEEE754Float.NaN;  &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException();  &#125;&#125;<span class="hljs-keyword">if</span>(a.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>))&#123;  <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>;&#125;</code></pre><h4 id="2-å¤„ç†å‚æ•°-1"><a href="#2-å¤„ç†å‚æ•°-1" class="headerlink" title="2. å¤„ç†å‚æ•°"></a>2. å¤„ç†å‚æ•°</h4><p>å¤„ç†çš„æ“ä½œå’Œä¹˜æ³•ä¸€è‡´</p><pre><code class="hljs java">String expA = a.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);String expB = b.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);String bitA = (expA.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;String bitB = (expB.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;String fracA = a.substring(<span class="hljs-number">9</span>);String fracB = b.substring(<span class="hljs-number">9</span>);String countA = bitA + fracA + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//28</span>String countB = bitB + fracB + <span class="hljs-string">&quot;0000&quot;</span>;String tmp = sub(expB, expA);</code></pre><h4 id="3-åˆ¤æ–­é˜¶ç çš„æƒ…å†µ"><a href="#3-åˆ¤æ–­é˜¶ç çš„æƒ…å†µ" class="headerlink" title="3. åˆ¤æ–­é˜¶ç çš„æƒ…å†µ"></a>3. åˆ¤æ–­é˜¶ç çš„æƒ…å†µ</h4><p>é™¤æ³•åœ¨é˜¶ç ä¹‹é—´å‘ç”Ÿå‡æ³•çš„æ—¶å€™ï¼Œä¸ä¼šå‡ºç°ä¸Šæº¢å‡ºçš„æƒ…å†µã€‚å¾—åˆ°çš„ç»“æœèŒƒå›´æ˜¯-254ï½254ã€‚å¦‚æœå¾—åˆ°äº†è´Ÿæ•°ï¼Œåˆ™CFç½®ä¸º1ã€‚å› ä¸ºå‡æ³•ä¼šå°†127æŠµæ¶ˆï¼Œå› æ­¤å¾—åˆ°çš„ç»“æœéœ€è¦å†åŠ ä¸Šä¸€ä¸ª127ã€‚<strong>è¿™ä¸ªæ—¶å€™é˜¶ç è¿˜æ˜¯ä¼šæœ‰å¯èƒ½ä¸Šæº¢çš„ï¼</strong>ä½†å¥½åƒæœ¬æ¬¡ç¼–ç¨‹ä½œä¸šæ²¡æœ‰è€ƒè™‘è¿™ä¸ªæƒ…å†µï¼Œå› æ­¤å¸Œæœ›å¤§å®¶æ³¨æ„ï¼</p><p>ä¸Šæº¢å‡ºçš„æƒ…å†µæ˜¯å‡æ³•ä¸å€Ÿä½ï¼Œå³ç¬¬ä¸€æ¬¡CFä¸º1ï¼ŒåŠ æ³•è¿›ä½ï¼Œç¬¬äºŒæ¬¡çš„CFä¸º1ã€‚å¾—åˆ°çš„ç»“æœæ˜¯æ— ç©·ã€‚</p><p>ä¸‹æº¢å‡ºçš„æƒ…å†µæ˜¯å‡æ³•å€Ÿä½è€ŒåŠ æ³•ä¸è¿›ä½ï¼Œå³ä¸¤æ¬¡çš„CFå‡ä¸º0ã€‚å¾—åˆ°çš„ç»“æœæ˜¯0ã€‚</p><pre><code class="hljs java">String tmp = sub(expB, expA);<span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰æº¢å‡ºï¼›</span><span class="hljs-keyword">char</span> tmpCF = CF;ansExp = add(<span class="hljs-string">&quot;01111111&quot;</span>, tmp);<span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰å€Ÿä½ï¼›</span><span class="hljs-keyword">if</span>(tmpCF == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; CF == <span class="hljs-string">&#x27;0&#x27;</span>)&#123;  <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>;&#125;<span class="hljs-keyword">if</span>(tmpCF == <span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; CF == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;  <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;1111111100000000000000000000000&quot;</span>;&#125;</code></pre><h4 id="è®¡ç®—å°æ•°éƒ¨åˆ†"><a href="#è®¡ç®—å°æ•°éƒ¨åˆ†" class="headerlink" title="è®¡ç®—å°æ•°éƒ¨åˆ†"></a>è®¡ç®—å°æ•°éƒ¨åˆ†</h4><pre><code class="hljs java">ansFrac = divFrac(countB, countA).substring(<span class="hljs-number">0</span>, <span class="hljs-number">24</span>);<span class="hljs-comment">//Normalize</span><span class="hljs-keyword">while</span> (ansFrac.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; !ansExp.equals(<span class="hljs-string">&quot;00000000&quot;</span>))&#123;  ansFrac = ansFrac.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;  ansExp = sub(<span class="hljs-string">&quot;00000001&quot;</span>, ansExp);&#125;ansFrac = ansFrac.substring(<span class="hljs-number">1</span>, <span class="hljs-number">24</span>);<span class="hljs-keyword">return</span> ansSign + ansExp + ansFrac;</code></pre><p>è§„æ ¼åŒ–ä¸å¤šèµ˜è¿°</p><p>é‡ç‚¹æ˜¯ä¸‹é¢çš„å°æ•°éƒ¨åˆ†é™¤æ³•ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä½™æ•°éƒ¨åˆ†remainderï¼Œå•†quotientã€‚<strong>å¯¹å‚æ•°æˆ‘ä»¬éƒ½åœ¨å‰é¢åŠ ä¸Šä¸€ä½0ã€‚</strong></p><p>å› ä¸ºå°æ•°å¯èƒ½ä¼šå‡ºç°æ— æ³•é™¤å°½çš„æƒ…å†µã€‚å€˜è‹¥åªæœ‰28ä½ï¼Œ<strong>å½“remainderçš„æœ€é«˜ä½ä¸º1ä¸”ä¸èƒ½å‡å»é™¤æ•°çš„æ—¶å€™</strong>ï¼Œæœ€é«˜ä½çš„1å°±ä¼šåœ¨å·¦ç§»ä¹‹åæ¶ˆå¤±ï¼Œäº§ç”Ÿé”™è¯¯ã€‚å› æ­¤è¿™ä¸ªæœ€é«˜ä½çš„1éœ€è¦ä¿ç•™åˆ°ä¸‹ä¸€æ¬¡å‡æ³•ã€‚ç°åœ¨çš„remainderæ˜¯29ä½çš„ï¼Œsrcï¼Œä¹Ÿå°±æ˜¯é™¤æ•°ï¼Œæ˜¯28ä½çš„ï¼ˆç¬¬29ä½è¢«æˆ‘ä»¬æ‰‹åŠ¨ç½®ä¸º0ï¼‰ï¼Œæ‰€ä»¥å½“remainderçš„æœ€é«˜ä½ä¸º1çš„æ—¶å€™ï¼Œremainderä¸€å®šä¼šå¤§äºsrcï¼ˆé™¤æ•°ï¼‰ï¼Œå› æ­¤è‚¯å®šå¯ä»¥ä½¿å¾—å‡æ³•è¿›è¡Œã€‚</p><p>è¿™é‡Œé¦–å…ˆå‡å»é™¤æ•°ï¼Œä¸€æ—¦å‡å¤šäº†ï¼Œå°±æŠŠé™¤æ•°åŠ å›æ¥ã€‚æ€ä¹ˆåˆ¤æ–­å‡å¤šäº†ï¼Ÿåˆ©ç”¨åˆšæ‰ä»”ç»†åˆ†æçš„CFã€‚ä¸€æ—¦CFä¸º0ï¼Œå³å‡æ³•éœ€è¦å€Ÿä½ï¼Œåˆ™è¯´æ˜å‡å¤šäº†ï¼›ä¸€æ—¦CFä¸º1ï¼Œè¯´æ˜â€œenoughâ€œï¼Œå‡å¯¹äº†ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">divFrac</span> <span class="hljs-params">(String src, String dest)</span></span>&#123;  String remainder = <span class="hljs-string">&quot;0&quot;</span> + dest;  String quotient = <span class="hljs-string">&quot;00000000000000000000000000000&quot;</span>;  src = <span class="hljs-string">&quot;0&quot;</span> + src;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">29</span>; i++)&#123;    remainder = sub(src, remainder);    <span class="hljs-keyword">char</span> tmp = quotient.charAt(<span class="hljs-number">0</span>);    <span class="hljs-keyword">if</span>(CF == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;1&quot;</span>;    &#125; <span class="hljs-keyword">else</span> &#123;      remainder = add(src, remainder);      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;    &#125;    remainder = remainder.substring(<span class="hljs-number">1</span>) + tmp;  &#125;  <span class="hljs-keyword">return</span> quotient;&#125;</code></pre><p>pptæˆªå›¾ï¼š</p><p><img src="/img/COA/FloatMul.jpg" alt=""></p><h3 id="å®Œæ•´ä»£ç ï¼ˆåŒ…æ‹¬è¾…åŠ©å‡½æ•°ï¼‰"><a href="#å®Œæ•´ä»£ç ï¼ˆåŒ…æ‹¬è¾…åŠ©å‡½æ•°ï¼‰" class="headerlink" title="å®Œæ•´ä»£ç ï¼ˆåŒ…æ‹¬è¾…åŠ©å‡½æ•°ï¼‰"></a>å®Œæ•´ä»£ç ï¼ˆåŒ…æ‹¬è¾…åŠ©å‡½æ•°ï¼‰</h3><pre><code class="hljs java"><span class="hljs-function">String <span class="hljs-title">mul</span><span class="hljs-params">(String a, String b)</span> </span>&#123;  <span class="hljs-keyword">if</span>(Pattern.matches(a, IEEE754Float.NaN) || Pattern.matches(b, IEEE754Float.NaN))&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;NaN&quot;</span>;  &#125;  String ansExp;  String ansFrac;  <span class="hljs-keyword">char</span> signA = a.charAt(<span class="hljs-number">0</span>);  <span class="hljs-keyword">char</span> signB = b.charAt(<span class="hljs-number">0</span>);  String ansSign = (signA == signB)? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;  <span class="hljs-keyword">if</span>(a.equals(IEEE754Float.N_ZERO) || b.equals(IEEE754Float.N_ZERO)     || a.equals(IEEE754Float.P_ZERO) || b.equals(IEEE754Float.P_ZERO))&#123;    <span class="hljs-keyword">if</span>(Pattern.matches(a, IEEE754Float.NaN) || Pattern.matches(b, IEEE754Float.NaN))&#123;      <span class="hljs-keyword">return</span> IEEE754Float.NaN;    &#125;    <span class="hljs-keyword">if</span>(a.startsWith(<span class="hljs-string">&quot;11111111&quot;</span>, <span class="hljs-number">1</span>) || b.startsWith(<span class="hljs-string">&quot;11111111&quot;</span>, <span class="hljs-number">1</span>))&#123;      <span class="hljs-keyword">return</span> IEEE754Float.NaN;    &#125;    <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>;  &#125;  String expA = a.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);  String expB = b.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);  String bitA = (expA.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;  String bitB = (expB.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;  String fracA = a.substring(<span class="hljs-number">9</span>);  String fracB = b.substring(<span class="hljs-number">9</span>);  String countA = bitA + fracA + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//28</span>  String countB = bitB + fracB + <span class="hljs-string">&quot;0000&quot;</span>;  String tmp = add(expA, expB);  <span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰æº¢å‡ºï¼›</span>  <span class="hljs-keyword">char</span> tmpCF = CF;  ansExp = sub(<span class="hljs-string">&quot;01111111&quot;</span>, tmp);  <span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰å€Ÿä½ï¼›</span>  <span class="hljs-keyword">if</span>((tmpCF==<span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; CF==<span class="hljs-string">&#x27;1&#x27;</span>) || ansExp.equals(<span class="hljs-string">&quot;11111111&quot;</span>))&#123; <span class="hljs-comment">//ä¸€å¼€å§‹æº¢å‡ºäº†ä½†æ˜¯æ²¡æœ‰å€Ÿä½ï¼Œè¯´æ˜</span>    <span class="hljs-keyword">if</span>(signA==signB) <span class="hljs-keyword">return</span> IEEE754Float.P_INF;    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> IEEE754Float.N_INF;  &#125;  <span class="hljs-keyword">if</span>(tmpCF==<span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; CF==<span class="hljs-string">&#x27;0&#x27;</span>)&#123; <span class="hljs-comment">//ä¸€å¼€å§‹æ²¡æœ‰æº¢å‡ºï¼Œä½†æ˜¯æœ‰å€Ÿä½</span>    <span class="hljs-keyword">if</span>(signA==signB) <span class="hljs-keyword">return</span> IEEE754Float.P_ZERO;    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> IEEE754Float.N_ZERO;  &#125;  ansFrac = mulFrac(countA, countB).substring(<span class="hljs-number">1</span>, <span class="hljs-number">25</span>);  <span class="hljs-comment">//Normalize</span>  <span class="hljs-keyword">while</span> (ansFrac.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; !ansExp.equals(<span class="hljs-string">&quot;00000000&quot;</span>))&#123;    ansFrac = ansFrac.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;    ansExp = sub(<span class="hljs-string">&quot;00000001&quot;</span>, ansExp);  &#125;  ansFrac = ansFrac.substring(<span class="hljs-number">1</span>, <span class="hljs-number">24</span>);  <span class="hljs-keyword">return</span> ansSign + ansExp + ansFrac;&#125;<span class="hljs-comment">/**</span><span class="hljs-comment">     * compute the float mul of a / b</span><span class="hljs-comment">     */</span><span class="hljs-function">String <span class="hljs-title">div</span><span class="hljs-params">(String a, String b)</span> </span>&#123;  String ansExp;  String ansFrac;  <span class="hljs-keyword">char</span> signA = a.charAt(<span class="hljs-number">0</span>);  <span class="hljs-keyword">char</span> signB = b.charAt(<span class="hljs-number">0</span>);  String ansSign = (signA == signB)? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;  <span class="hljs-keyword">if</span>(b.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>))&#123;    <span class="hljs-keyword">if</span>(a.equals(IEEE754Float.N_ZERO) || a.equals(IEEE754Float.P_ZERO))&#123;      <span class="hljs-keyword">return</span> IEEE754Float.NaN;    &#125; <span class="hljs-keyword">else</span> &#123;      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException();    &#125;  &#125;  <span class="hljs-keyword">if</span>(a.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>))&#123;    <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>;  &#125;  String expA = a.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);  String expB = b.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);  String bitA = (expA.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;  String bitB = (expB.equals(<span class="hljs-string">&quot;00000000&quot;</span>))? <span class="hljs-string">&quot;0&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>;  String fracA = a.substring(<span class="hljs-number">9</span>);  String fracB = b.substring(<span class="hljs-number">9</span>);  String countA = bitA + fracA + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//28</span>  String countB = bitB + fracB + <span class="hljs-string">&quot;0000&quot;</span>;  String tmp = sub(expB, expA);  <span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰æº¢å‡ºï¼›</span>  <span class="hljs-keyword">char</span> tmpCF = CF;  ansExp = add(<span class="hljs-string">&quot;01111111&quot;</span>, tmp);  <span class="hljs-comment">//CF åˆ¤æ–­æœ‰æ²¡æœ‰å€Ÿä½ï¼›</span>  <span class="hljs-keyword">if</span>(tmpCF == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; CF == <span class="hljs-string">&#x27;0&#x27;</span>)&#123;    <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>;  &#125;  <span class="hljs-keyword">if</span>(tmpCF == <span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; CF == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;    <span class="hljs-keyword">return</span> ansSign + <span class="hljs-string">&quot;1111111100000000000000000000000&quot;</span>;  &#125;  ansFrac = divFrac(countB, countA).substring(<span class="hljs-number">0</span>, <span class="hljs-number">24</span>);  <span class="hljs-comment">//Normalize</span>  <span class="hljs-keyword">while</span> (ansFrac.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; !ansExp.equals(<span class="hljs-string">&quot;00000000&quot;</span>))&#123;    ansFrac = ansFrac.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;    ansExp = sub(<span class="hljs-string">&quot;00000001&quot;</span>, ansExp);  &#125;  ansFrac = ansFrac.substring(<span class="hljs-number">1</span>, <span class="hljs-number">24</span>);  <span class="hljs-keyword">return</span> ansSign + ansExp + ansFrac;&#125;<span class="hljs-function">String <span class="hljs-title">add</span><span class="hljs-params">(String src, String dest)</span> </span>&#123;  <span class="hljs-keyword">int</span> carry = <span class="hljs-number">0</span>;  <span class="hljs-keyword">char</span>[] srcArr = src.toCharArray();  <span class="hljs-keyword">char</span>[] destArr = dest.toCharArray();  <span class="hljs-keyword">int</span> len = srcArr.length;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=len-<span class="hljs-number">1</span>; i&gt;=<span class="hljs-number">0</span>; i--)&#123;    <span class="hljs-keyword">if</span>(srcArr[i]==<span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; destArr[i]==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;      destArr[i] = (carry==<span class="hljs-number">1</span>)? <span class="hljs-string">&#x27;1&#x27;</span>:<span class="hljs-string">&#x27;0&#x27;</span>;      carry = <span class="hljs-number">1</span>;    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (srcArr[i]==<span class="hljs-string">&#x27;1&#x27;</span> || destArr[i]==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;      <span class="hljs-keyword">if</span>(carry==<span class="hljs-number">1</span>)&#123;        destArr[i] = <span class="hljs-string">&#x27;0&#x27;</span>;      &#125; <span class="hljs-keyword">else</span> &#123;        destArr[i] = <span class="hljs-string">&#x27;1&#x27;</span>;        carry = <span class="hljs-number">0</span>;      &#125;    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (carry == <span class="hljs-number">1</span>)&#123;      destArr[i] = <span class="hljs-string">&#x27;1&#x27;</span>;      carry = <span class="hljs-number">0</span>;    &#125;  &#125;  <span class="hljs-keyword">this</span>.CF = (carry == <span class="hljs-number">1</span>)? <span class="hljs-string">&#x27;1&#x27;</span>:<span class="hljs-string">&#x27;0&#x27;</span>;  <span class="hljs-keyword">return</span> String.valueOf(destArr);&#125;<span class="hljs-function">String <span class="hljs-title">sub</span><span class="hljs-params">(String src, String dest)</span> </span>&#123;  <span class="hljs-keyword">int</span> carry = <span class="hljs-number">0</span>;  <span class="hljs-keyword">char</span>[] srcArr = src.toCharArray();  <span class="hljs-keyword">char</span>[] destArr = dest.toCharArray();  <span class="hljs-keyword">int</span> len = srcArr.length;  <span class="hljs-keyword">int</span> flg = <span class="hljs-number">0</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=len-<span class="hljs-number">1</span>; i&gt;=<span class="hljs-number">0</span>; i--)&#123;    <span class="hljs-keyword">if</span>(flg == <span class="hljs-number">1</span>)&#123;      srcArr[i] = (srcArr[i]==<span class="hljs-string">&#x27;0&#x27;</span>)? <span class="hljs-string">&#x27;1&#x27;</span>:<span class="hljs-string">&#x27;0&#x27;</span>;    &#125;    <span class="hljs-keyword">if</span>(srcArr[i]!=<span class="hljs-string">&#x27;0&#x27;</span>)&#123;      flg = <span class="hljs-number">1</span>;    &#125;  &#125;  <span class="hljs-keyword">return</span> add(String.valueOf(srcArr), dest);&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">mulFrac</span> <span class="hljs-params">(String src, String dest)</span></span>&#123;  String Y = dest;  String product = <span class="hljs-string">&quot;0000000000000000000000000000&quot;</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">28</span>; i++)&#123;    <span class="hljs-keyword">if</span>(Y.charAt(<span class="hljs-number">27</span>) == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;      product = add(src, product);    &#125;    product = <span class="hljs-string">&quot;0&quot;</span> + product;    Y = product.charAt(<span class="hljs-number">28</span>) + Y.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);    product = product.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);  &#125;  <span class="hljs-keyword">return</span> product;&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">divFrac</span> <span class="hljs-params">(String src, String dest)</span></span>&#123;  String remainder = <span class="hljs-string">&quot;0&quot;</span> + dest;  String quotient = <span class="hljs-string">&quot;00000000000000000000000000000&quot;</span>;  src = <span class="hljs-string">&quot;0&quot;</span> + src;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">29</span>; i++)&#123;    remainder = sub(src, remainder);    <span class="hljs-keyword">char</span> tmp = quotient.charAt(<span class="hljs-number">0</span>);    <span class="hljs-keyword">if</span>(CF == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;1&quot;</span>;    &#125; <span class="hljs-keyword">else</span> &#123;      remainder = add(src, remainder);      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;    &#125;    remainder = remainder.substring(<span class="hljs-number">1</span>) + tmp;  &#125;  <span class="hljs-keyword">return</span> quotient;&#125;</code></pre>]]></content>
    
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>Integer</tag>
      
      <tag>COA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Integer-Arithmetic-Review-mul&amp;div</title>
    <link href="/2020/11/06/Integer-Arithmetic-Review/"/>
    <url>/2020/11/06/Integer-Arithmetic-Review/</url>
    
    <content type="html"><![CDATA[<h2 id="æ•´æ•°ä¹˜é™¤è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“"><a href="#æ•´æ•°ä¹˜é™¤è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“" class="headerlink" title="æ•´æ•°ä¹˜é™¤è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“"></a>æ•´æ•°ä¹˜é™¤è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“</h2><h5 id="æ³¨ï¼šæœ¬åœ°ä½œä¸šè°ƒç”¨çš„å‡½æ•°å‡ä¸ºä»¥å‰ä½¿ç”¨è¿‡çš„addã€subã€neg"><a href="#æ³¨ï¼šæœ¬åœ°ä½œä¸šè°ƒç”¨çš„å‡½æ•°å‡ä¸ºä»¥å‰ä½¿ç”¨è¿‡çš„addã€subã€neg" class="headerlink" title="æ³¨ï¼šæœ¬åœ°ä½œä¸šè°ƒç”¨çš„å‡½æ•°å‡ä¸ºä»¥å‰ä½¿ç”¨è¿‡çš„addã€subã€neg"></a>æ³¨ï¼šæœ¬åœ°ä½œä¸šè°ƒç”¨çš„å‡½æ•°å‡ä¸ºä»¥å‰ä½¿ç”¨è¿‡çš„addã€subã€neg</h5><h3 id="æ•´æ•°ä¹˜æ³•"><a href="#æ•´æ•°ä¹˜æ³•" class="headerlink" title="æ•´æ•°ä¹˜æ³•"></a>æ•´æ•°ä¹˜æ³•</h3><p>ä»ä»£ç ç»“æ„ä¸Šæ¥çœ‹ä¹˜æ³•ååˆ†ç®€å•ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦å¥½å¥½å¤ä¹ ä¸€ä¸‹éƒ¨åˆ†ç§¯å’Œå¸ƒæ–¯ä¹˜æ³•çš„æ¦‚å¿µã€‚</p><p><img src="/img/COA/Booth.jpg" alt=""></p><p>é¦–å…ˆæŠŠå…¶ä¸­çš„ä¸€ä¸ªä¹˜æ•°æŒ‰å„ä½å±•å¼€ã€‚</p><script type="math/tex; mode=display">2^n = 2^{n+1}-2^n</script><p>è¿›è¡Œå¦‚ä¸Šæ‰€ç¤ºçš„å˜æ¢ã€‚æ‹†å¼€æ‹¬å·äºŒæ¬¡ç»„åˆï¼Œå› æ­¤å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªåˆå¼ã€‚</p><script type="math/tex; mode=display">\sum_{i=0}^{n-1}(XÃ—(Y_i-Y_{i+1})Ã—2^{-(n-i)})</script><p>å› æ­¤æ¯ä¸€é¡¹çš„Péƒ½å¯ä»¥è¡¨ç¤ºæˆä¸ºï¼š</p><script type="math/tex; mode=display">P_{i+1}=2^{-1}Ã—(P_i + XÃ—(Y_i-Y_{i+1}))</script><p>åœ¨ä¸Šé¢ï¼Œé¦–å…ˆï¼Œä¸ºäº†æ»¡è¶³å˜æ¢çš„æ¡ä»¶ï¼Œéœ€è¦æ·»åŠ ä¸Šä¸€ä¸ªY0ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">mul</span> <span class="hljs-params">(String src, String dest)</span></span>&#123;  dest = dest + <span class="hljs-string">&quot;0&quot;</span>;  String product = <span class="hljs-string">&quot;00000000000000000000000000000000&quot;</span>;  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">32</span>; i++)&#123;    <span class="hljs-keyword">char</span> Y = dest.charAt(<span class="hljs-number">32</span>);    <span class="hljs-keyword">char</span> Yi = dest.charAt(<span class="hljs-number">31</span>);    <span class="hljs-keyword">if</span>(Y - Yi == <span class="hljs-number">1</span>)&#123;      product = add(src, product);    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(Y - Yi == -<span class="hljs-number">1</span>) &#123;      product = sub(src, product);    &#125;    dest = product.charAt(<span class="hljs-number">31</span>) + dest.substring(<span class="hljs-number">0</span>, <span class="hljs-number">32</span>);    product = product.charAt(<span class="hljs-number">0</span>) + product.substring(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>);  &#125;  String ret = product + dest.substring(<span class="hljs-number">0</span>, <span class="hljs-number">32</span>);  <span class="hljs-keyword">return</span> ret.substring(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>);&#125;</code></pre><p>ç„¶åï¼Œè¿›è¡Œ32æ¬¡å¾ªç¯ã€‚æ¯ä¸€æ¬¡å¾ªç¯æ ¹æ®ä¸¤ä¸ªYçš„å·®æ¥åˆ¤æ–­æ˜¯åŠ ä¸Šè¿˜æ˜¯å‡å»å¦ä¸€ä¸ªä¹˜æ•°ã€‚ç„¶åå³ç§»éƒ¨åˆ†ç§¯å’Œè¿”å›ç»“æœã€‚</p><h3 id="æ•´æ•°é™¤æ³•"><a href="#æ•´æ•°é™¤æ³•" class="headerlink" title="æ•´æ•°é™¤æ³•"></a>æ•´æ•°é™¤æ³•</h3><p>é™¤æ³•ç›¸æ¯”è¾ƒæ¥è¯´ä¼šçƒ¦äººå¾ˆå¤šã€‚</p><p>å› ä¸ºè¢«é™¤æ•°çš„æ­£è´Ÿé—®é¢˜ï¼Œæˆ‘å°†é™¤æ³•åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†å¤„ç†ã€‚</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">div</span><span class="hljs-params">(String operand1, String operand2)</span> </span>&#123;  <span class="hljs-comment">//TODO</span>  <span class="hljs-keyword">if</span>(operand2.equals(BinaryIntegers.ZERO))&#123;    <span class="hljs-keyword">if</span>(operand1.equals(BinaryIntegers.ZERO))&#123;      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;NaN&quot;</span>;    &#125; <span class="hljs-keyword">else</span> &#123;      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException();    &#125;  &#125;  String overflow = <span class="hljs-string">&quot;0&quot;</span>;  <span class="hljs-keyword">if</span>(operand1.equals(IEEE754Float.N_ZERO) &amp;&amp; operand2.equals(BinaryIntegers.NegativeOne))&#123;    overflow = <span class="hljs-string">&quot;1&quot;</span>;  &#125;  <span class="hljs-keyword">char</span> aSign = operand1.charAt(<span class="hljs-number">0</span>);  <span class="hljs-keyword">char</span> bSign = operand2.charAt(<span class="hljs-number">0</span>);  <span class="hljs-keyword">if</span>(bSign == <span class="hljs-string">&#x27;1&#x27;</span>) operand2 = Neg(operand2);  String[] ans;  <span class="hljs-keyword">if</span>(aSign==<span class="hljs-string">&#x27;0&#x27;</span>)&#123;    ans = posDiv(operand1, operand2);    <span class="hljs-keyword">if</span>(bSign==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;      ans[<span class="hljs-number">1</span>] = Neg(ans[<span class="hljs-number">1</span>]);    &#125;  &#125; <span class="hljs-keyword">else</span>&#123;    ans = negDiv(operand1, operand2);    <span class="hljs-keyword">if</span>(bSign==<span class="hljs-string">&#x27;0&#x27;</span>)&#123;      ans[<span class="hljs-number">1</span>] = Neg(ans[<span class="hljs-number">1</span>]);    &#125;  &#125;  <span class="hljs-keyword">return</span> overflow + ans[<span class="hljs-number">1</span>] + ans[<span class="hljs-number">0</span>];&#125;</code></pre><p>é¦–å…ˆéœ€è¦ç‰¹åˆ¤ä¸€äº›è¾¹ç•Œæƒ…å†µã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">if</span>(operand2.equals(BinaryIntegers.ZERO))&#123;  <span class="hljs-keyword">if</span>(operand1.equals(BinaryIntegers.ZERO))&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;NaN&quot;</span>;  &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException();  &#125;&#125;</code></pre><p>å¦‚æœè¢«é™¤æ•°å’Œé™¤æ•°éƒ½ä¸º0ï¼Œé‚£ä¹ˆå¾—åˆ°çš„ç»“æœå°†ä¼šæ˜¯â€œNaNâ€ã€‚å¦‚æœè¢«é™¤æ•°ä¸ä¸º0ï¼Œè€Œé™¤æ•°ä¸º0ï¼Œé‚£ä¹ˆå°†ä¼šäº§ç”Ÿé™¤æ³•é”™ï¼ŒæŠ›å‡ºArithmeticExceptionã€‚</p><p>å…³äºæº¢å‡ºä½ï¼Œåœ¨x86ä½“ç³»ä¸­ï¼Œæˆ‘ä»¬åˆ¤æ–­é™¤æ³•æ˜¯å¦æº¢å‡ºçš„æ–¹æ³•æ˜¯åˆ¤æ–­è¢«é™¤æ•°çš„é«˜ä½æ˜¯å¦æ¯”è¢«é™¤æ•°è¦å¤§ã€‚åœ¨æœ¬æ¬¡ç¼–ç¨‹ä½œä¸šä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­çš„æ˜¯ä¸€ä¸ªç‰¹æ®Šæƒ…å†µâ€”â€”æœ€å°è´Ÿæ•°å³-2<sup>31</sup>é™¤ä»¥-1æº¢å‡ºã€‚</p><pre><code class="hljs java">String overflow = <span class="hljs-string">&quot;0&quot;</span>;<span class="hljs-keyword">if</span>(operand1.equals(IEEE754Float.N_ZERO) &amp;&amp; operand2.equals(BinaryIntegers.NegativeOne))&#123;  overflow = <span class="hljs-string">&quot;1&quot;</span>;&#125;</code></pre><p>ä¹‹åæˆ‘ä»¬è¦è®°å½•ä¸‹è¢«é™¤æ•°å’Œé™¤æ•°çš„ç¬¦å·ï¼Œæ–¹ä¾¿åç»­çš„æ¯”è¾ƒã€‚å¹¶ä¸”å°†è´Ÿçš„é™¤æ•°è½¬åŒ–ä¸ºæ­£æ•°ã€‚è¿™é‡Œè¦æåˆ°çš„æ˜¯ï¼Œé™¤æ³•è¿ç®—ä¸­ï¼ŒåŒå·å¾—æ­£ï¼Œå¼‚å·å¾—è´Ÿï¼Œä»…éœ€è¦åœ¨ç»“æœå¤„åˆ¤æ–­å³å¯ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬æ ¹æ®è¢«é™¤æ•°çš„æ­£è´Ÿåˆ†åˆ«è°ƒç”¨é™¤æ³•å¤„ç†å‡½æ•°ã€‚ï¼ˆå› ä¸ºéœ€è¦è¿”å›å•†å’Œä½™æ•°ï¼Œæ‰€ä»¥è¿”å›å€¼ä½¿ç”¨äº†Stringæ•°ç»„ï¼‰</p><pre><code class="hljs java"><span class="hljs-keyword">if</span>(aSign==<span class="hljs-string">&#x27;0&#x27;</span>)&#123;  ans = posDiv(operand1, operand2);  <span class="hljs-keyword">if</span>(bSign==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;    ans[<span class="hljs-number">1</span>] = Neg(ans[<span class="hljs-number">1</span>]);  &#125;&#125; <span class="hljs-keyword">else</span>&#123;  ans = negDiv(operand1, operand2);  <span class="hljs-keyword">if</span>(bSign==<span class="hljs-string">&#x27;0&#x27;</span>)&#123;    ans[<span class="hljs-number">1</span>] = Neg(ans[<span class="hljs-number">1</span>]);  &#125;&#125;</code></pre><p>é¦–å…ˆæ¥ä»‹ç»æ­£æ•°é™¤æ³•å¤„ç†å‡½æ•°ï¼š</p><pre><code class="hljs java">String[] posDiv(String quotient, String division)&#123;  String[] ans = <span class="hljs-keyword">new</span> String[<span class="hljs-number">2</span>];  String remainder = <span class="hljs-string">&quot;00000000000000000000000000000000&quot;</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">32</span>; i++)&#123;    remainder = remainder.substring(<span class="hljs-number">1</span>) + quotient.charAt(<span class="hljs-number">0</span>);    <span class="hljs-keyword">if</span>(sub(division, remainder).charAt(<span class="hljs-number">0</span>) != remainder.charAt(<span class="hljs-number">0</span>))&#123;      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;    &#125; <span class="hljs-keyword">else</span> &#123;      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;1&quot;</span>;      remainder = sub(division, remainder);    &#125;  &#125;  ans[<span class="hljs-number">0</span>] = remainder;  ans[<span class="hljs-number">1</span>] = quotient;  <span class="hljs-keyword">return</span> ans;&#125;</code></pre><p>é¦–å…ˆåœ¨è¢«é™¤æ•°å‰æ–¹è¡¥ä¸Šnä¸ª0ï¼Œä½œä¸ºä½™æ•°ã€‚</p><p>æƒ³è±¡ä¸€ä¸ªé™¤æ³•ç«–å¼çš„æ“ä½œã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å·¦ç§»ä¸€ä½ä½™æ•°å’Œå•†ï¼Œå¦‚æœä½™æ•°å‡å»é™¤æ•°ä»ä¸ºæ­£æ•°ï¼Œé‚£ä¹ˆè¿™ä¸€ä½åœ¨å•†å¤„å¾—åˆ°1ï¼Œå¦‚æœä¸ºè´Ÿæ•°ï¼Œå¾—åˆ°0ã€‚</p><p>é‡å¤32æ¬¡ç»“æŸã€‚åœ¨ä½™æ•°å¤„å‰©ä¸‹çš„å°±æ˜¯æ•´ä¸ªè®¡ç®—çš„ä½™æ•°ã€‚</p><p>ä¸‹é¢æ¥çœ‹çœ‹è´Ÿæ•°çš„å¤„ç†ï¼Œç›¸æ¯”è¾ƒæ¥è¯´å°±è¦å¤æ‚ä¸€äº›ã€‚</p><pre><code class="hljs java">String[] negDiv(String quotient, String division)&#123;  String[] ans = <span class="hljs-keyword">new</span> String[<span class="hljs-number">2</span>];  String remainder = <span class="hljs-string">&quot;11111111111111111111111111111111&quot;</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;quotient.length(); i++)&#123;    remainder = remainder.substring(<span class="hljs-number">1</span>) + quotient.charAt(<span class="hljs-number">0</span>);    remainder = add(remainder, division);    <span class="hljs-keyword">if</span>(CF.equals(<span class="hljs-string">&quot;1&quot;</span>))&#123;      <span class="hljs-comment">//ä½™æ•°å’Œé™¤æ•°ä¹‹é—´çš„æ“ä½œå˜æˆäº†åŠ æ³•ï¼Œæ‰€ä»¥å¦‚æœé”™åŠ äº†ä¸€ä¸ªé™¤æ•°ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒå‡å›å»ã€‚</span>      remainder = sub(division, remainder);      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;0&quot;</span>;    &#125; <span class="hljs-keyword">else</span> &#123;      quotient = quotient.substring(<span class="hljs-number">1</span>) + <span class="hljs-string">&quot;1&quot;</span>;    &#125;  &#125;  <span class="hljs-keyword">if</span>(add(remainder, division).equals(BinaryIntegers.ZERO))&#123;    remainder = BinaryIntegers.ZERO;    quotient = add(<span class="hljs-string">&quot;00000000000000000000000000000001&quot;</span>, quotient);  &#125;  ans[<span class="hljs-number">0</span>] = remainder;  ans[<span class="hljs-number">1</span>] = quotient;  <span class="hljs-keyword">return</span> ans;&#125;</code></pre><p>å¤§è‡´åŸç†å’Œæ­£æ•°å¹¶æ²¡æœ‰åŒºåˆ«ã€‚åªä¸è¿‡å› ä¸ºç¬¦å·ä½ä¸º1ï¼Œæ‰€ä»¥æœ€é«˜ä½ä¹‹å‰è¡¥ä¸Šçš„æ˜¯32ä¸ª1ã€‚ä½™æ•°å’Œé™¤æ•°ä¹‹é—´çš„æ“ä½œå˜æˆäº†åŠ æ³•ï¼Œæ‰€ä»¥å¦‚æœé”™åŠ äº†ä¸€ä¸ªé™¤æ•°ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒå‡å›å»ã€‚</p><p>ä¸è¿‡æœ€åä¸ºä»€ä¹ˆæœ‰ä¸€ä¸ªç‰¹åˆ¤å‘¢ï¼Ÿ</p><p>å› ä¸ºåœ¨æ­£æ•°çš„å¤„ç†ä¸­ï¼Œæ­£æ•°å‡ä¸€ä¸ªæ•°ä¸º0æ˜¯å¾ˆæ­£å¸¸çš„å¹¶ä¸”ä¸éœ€è¦æ”¹å˜ç¬¦å·ä½ï¼Œæ‰€ä»¥ä½™æ•°ä¸º0çš„æƒ…å†µå¯ä»¥è¢«å¤„ç†åˆ°ã€‚</p><p>è€Œåœ¨è´Ÿæ•°ä¸­å¹¶ä¸å¦‚æ­¤ï¼Œä½™æ•°å…¨éƒ¨ä¸º1çš„æƒ…å†µä¸‹ï¼Œå®ƒçš„åŸºå‡†å°±ä¼šæ˜¯-1ã€‚æ¯å½“æˆ‘ä»¬æƒ³åšè´Ÿæ•°çš„é™¤æ³•æ•´é™¤æ“ä½œæ—¶ï¼Œå·®çš„è¿™ä¸€ä½1ç»å¸¸ä¼šmake troubleã€‚</p><p>è¿™æ€ä¹ˆåŠå‘¢â€¦â€¦</p><p>é¦–å…ˆå…ˆæƒ³æƒ³ï¼Œå¦‚æœä¸æ˜¯æ•´é™¤çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„é™¤æ³•è®¡ç®—æ˜¯ä¸æ˜¯å¥½çš„ï¼Ÿã€No matter whether itâ€™s right or not, it works!ã€‘åœ¨æ­£æ•°é™¤æ³•ä¸­ï¼Œæˆ‘ä»¬çš„ä½™æ•°å–å€¼èŒƒå›´æ˜¯0ï½2<sup>31</sup>-1ï¼Œè€Œè´Ÿæ•°é™¤æ³•ä¸­æ˜¯-1ï½-2<sup>31</sup>ï¼Œæ‰€ä»¥æˆ‘ä»¬æ›´å€¾å‘äºç•™ä¸‹çš„è´Ÿæ•°æ˜¯-1ï¼æˆ‘ä»¬åœ¨è®¾è®¡é™¤æ³•è¿ç®—çš„æ—¶å€™ï¼Œå°±æ²¡è€ƒè™‘æ•´é™¤ç°è±¡çš„äº§ç”Ÿã€‚</p><p>æ€ä¹ˆåŠï¼Ÿå‡å»1è®©é™¤æ³•å…ˆç®—äº†ï¼Œå†åŠ å›å»å¹¶ä¸”æŠŠä½™æ•°ç½®ä¸º0å‘—â€¦â€¦</p><pre><code class="hljs java"><span class="hljs-keyword">if</span>(add(remainder, division).equals(BinaryIntegers.ZERO))&#123;  remainder = BinaryIntegers.ZERO;  quotient = add(<span class="hljs-string">&quot;00000000000000000000000000000001&quot;</span>, quotient);&#125;</code></pre><p>å¤§è‡´å¦‚æ­¤å•¦ï¼( Â´â–½` )ï¾‰</p>]]></content>
    
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>Integer</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Floating-point-Arithmetic-Review</title>
    <link href="/2020/11/02/Floating-point-Arithmetic-Review/"/>
    <url>/2020/11/02/Floating-point-Arithmetic-Review/</url>
    
    <content type="html"><![CDATA[<h2 id="æµ®ç‚¹æ•°è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“"><a href="#æµ®ç‚¹æ•°è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“" class="headerlink" title="æµ®ç‚¹æ•°è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“"></a>æµ®ç‚¹æ•°è¿ç®—ç¼–ç¨‹ä½œä¸šæ€»ç»“</h2><p>åŸºæœ¬çš„è¿ç®—æµç¨‹æŒ‰ç…§pptä¸Šçš„æµç¨‹å›¾æ¥å®ç°ï¼š</p><p><img src="/img/æµ®ç‚¹æ•°è¿ç®—.jpg" alt=""></p><p>å› ä¸ºIEEE 754è¡¨ç¤ºæµ®ç‚¹æ•°çš„ç‰¹æ€§ï¼Œå¯¹äºæµ®ç‚¹æ•°æ¥è¯´ï¼Œæ•´æ•°å’Œè´Ÿæ•°ä¹‹é—´çš„å·®åˆ«å°±åªæœ‰ç¬¬ä¸€ä½çš„ç¬¦å·ä½ã€‚æ‰€ä»¥å¯¹äºå‡æ³•æ¥è¯´ï¼Œåªè¦å°†å‡æ•°çš„ç¬¦å·å˜æ¢ï¼Œå³å¯è½¬æ¢ä¸ºåŠ æ³•ï¼</p><pre><code class="hljs java"><span class="hljs-function">String <span class="hljs-title">sub</span><span class="hljs-params">(String a,String b)</span></span>&#123;  <span class="hljs-comment">// TODO</span>  b = (b.charAt(<span class="hljs-number">0</span>)==<span class="hljs-string">&#x27;0&#x27;</span>)? (<span class="hljs-string">&quot;1&quot;</span>.concat(b.substring(<span class="hljs-number">1</span>))) : (<span class="hljs-string">&quot;0&quot;</span>.concat(b.substring(<span class="hljs-number">1</span>)));  <span class="hljs-keyword">return</span> add(a, b);&#125;</code></pre><p>ä¸‹é¢å¯¹åŠ æ³•çš„æ•´ä¸ªè¿‡ç¨‹è¿›è¡Œç»†è‡´çš„åˆ†æï¼Œå› æ­¤ä¼šæŠŠæ•´ä¸ªæ–¹æ³•æ‹†åˆ†æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œå®Œæ•´çš„å‡½æ•°åœ¨æœ¬é¡µçš„æœ€åç»™å‡ºï¼(å› ä¸ºä»…ä»…ä½œä¸ºä½œä¸šæäº¤ï¼Œæ•´ä¸ªä»£ç ä¸è€ƒè™‘æ•ˆç‡ã€å®‰å…¨ã€è€¦åˆæ€§å’Œå†—ä½™ç¨‹åº¦ï¼Œå¹¶ä¸”æœ‰ä¸€äº›æº¢å‡ºæ²¡æœ‰è€ƒè™‘åˆ¤æ–­ï¼Œå‰æ’æé†’ï¼ä¹Ÿè®¸ä»¥åæœ‰æœºä¼šå¯ä»¥é‡å†™x)</p><pre><code class="hljs java"><span class="hljs-keyword">if</span>(a.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> b;<span class="hljs-keyword">if</span>(b.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> a;</code></pre><p>é¦–å…ˆï¼Œå¯¹äºaæˆ–è€…bç­‰äº0çš„æƒ…å†µè¿›è¡Œåˆ¤æ–­ï¼å¦‚æœå…¶ä¸­çš„ä¸€ä¸ªç­‰äº0ï¼Œé‚£ä¹ˆè¿”å›å¦ä¸€ä¸ªå³å¯ï¼</p><pre><code class="hljs java"><span class="hljs-comment">//å–aå’Œbçš„é˜¶ç ï¼›</span>String aExp = a.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);String bExp = b.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);<span class="hljs-comment">//å–å‡ºç¬¦å·ä½ï¼›</span><span class="hljs-keyword">char</span> aSign = a.charAt(<span class="hljs-number">0</span>);<span class="hljs-keyword">char</span> bSign = b.charAt(<span class="hljs-number">0</span>);<span class="hljs-comment">//å–å‡ºå°¾æ•°ï¼›</span>String aFriction = a.substring(<span class="hljs-number">9</span>);String bFriction = b.substring(<span class="hljs-number">9</span>);<span class="hljs-comment">//ä»¥ä¸‹åªæ˜¯ä¸ºäº†ç®€åŒ–ä»£ç å°†é˜¶ç è½¬åŒ–ä¸ºäº†æ•´æ•°ï¼Œä¸ºäº†æ–¹ä¾¿å¾ªç¯çš„å†™æ³•ï¼›</span><span class="hljs-keyword">int</span> expA = unsignedVal(aExp);<span class="hljs-keyword">int</span> expB = unsignedVal(bExp);<span class="hljs-comment">//å°†è§„æ ¼åŒ–æ•°çš„1è¡¥ä¸Šï¼Œéè§„æ ¼åŒ–çš„0è¡¥ä¸Šï¼›</span>aFriction = (expA == <span class="hljs-number">0</span>)? (<span class="hljs-string">&quot;0&quot;</span>+aFriction):(<span class="hljs-string">&quot;1&quot;</span>+aFriction);bFriction = (expB == <span class="hljs-number">0</span>)? (<span class="hljs-string">&quot;0&quot;</span>+bFriction):(<span class="hljs-string">&quot;1&quot;</span>+bFriction);<span class="hljs-comment">//æ·»åŠ ä¸Šä¿æŠ¤ä½ï¼</span>aFriction = aFriction + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//guardBits!</span>bFriction = bFriction + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//guardBits!</span></code></pre><p>ä»¥ä¸Šçš„æ“ä½œç›¸å½“äºæ˜¯å¯¹ä¸¤ä¸ªæµ®ç‚¹æ•°çš„æœºå™¨çº§è¡¨ç¤ºå¯¹é¢„å¤„ç†ã€‚ä¸‹é¢è¿›è¡Œå¯¹é˜¶çš„æ“ä½œã€‚</p><pre><code class="hljs java"><span class="hljs-comment">//flgçš„ä½œç”¨æ˜¯ä¸ºäº†çŸ¥é“ç©¶ç«Ÿæ˜¯æ“ä½œaå’Œbä¸­çš„å“ªä¸€ä¸ªé˜¶ç æ¥å¯¹é˜¶çš„ã€‚</span><span class="hljs-keyword">int</span> flg = <span class="hljs-number">0</span>;<span class="hljs-comment">//å¯¹é˜¶æ“ä½œã€‚</span><span class="hljs-keyword">while</span> (expA &lt; expB)&#123;  flg = <span class="hljs-number">1</span>;  aExp = alu.add(<span class="hljs-string">&quot;00000001&quot;</span>, aExp);  expA++;  aFriction = <span class="hljs-string">&quot;0&quot;</span> + aFriction;&#125;<span class="hljs-keyword">while</span> (expB &lt; expA)&#123;  flg = <span class="hljs-number">2</span>;  bExp = alu.add(<span class="hljs-string">&quot;00000001&quot;</span>, bExp);  expB++;  bFriction = <span class="hljs-string">&quot;0&quot;</span> + bFriction;&#125;<span class="hljs-keyword">if</span>(flg == <span class="hljs-number">1</span>)&#123;  <span class="hljs-keyword">if</span>(aFriction.startsWith(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>, <span class="hljs-number">1</span>))     <span class="hljs-keyword">return</span> b;&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(flg == <span class="hljs-number">2</span>)&#123;  <span class="hljs-keyword">if</span>(bFriction.startsWith(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>, <span class="hljs-number">1</span>))     <span class="hljs-keyword">return</span> a;&#125;</code></pre><p>æˆ‘ä½¿ç”¨çš„whileå¾ªç¯æ¥è¿›è¡Œå¯¹é˜¶ï¼Œå°†é˜¶ç è¾ƒå°çš„å‘å¤§çš„å¯¹é½ã€æ³¨æ„ï¼Œç°åœ¨çš„å°¾æ•°éƒ¨åˆ†å·²ç»æ˜¯åŒ…å«è§„æ ¼åŒ–è¡¥ä¸Šçš„â€œ1â€æˆ–è€…â€œ0â€ä»¥åŠä¿æŠ¤ä½çš„äº†ã€‘ï¼Œæˆ‘å³ç§»å°¾æ•°éƒ¨åˆ†çš„æ–¹æ³•æ˜¯åœ¨å°¾æ•°å‰é¢è¡¥0ï¼Œæœ€åå–å‰28ä½ï¼ˆ1ä½è¡¥ä¸Šï¼Œ23ä½å°¾æ•°éƒ¨åˆ†ï¼Œ4ä½ä¿æŠ¤ä½ã€‘ã€‚flgè®¾ç½®çš„æ„ä¹‰ï¼šåˆ¤æ–­æ˜¯è°è¿›è¡Œçš„å¯¹é˜¶ï¼Œç„¶ååˆ¤æ–­å®ƒçš„å°¾æ•°æœ‰æ²¡æœ‰å˜æˆ0ï¼ˆæ­¤æ—¶ï¼Œé˜¶ç å·²ç»å¯¹é½ï¼‰ï¼ä¸€æ—¦å®ƒå˜æˆ0ï¼Œè¿”å›çš„ç»“æœå°±æ˜¯å¦ä¸€ä¸ªæ•°ã€‚</p><pre><code class="hljs java"><span class="hljs-comment">//å–å‰28ä½ 1ä½è§„æ ¼åŒ–/éè§„æ ¼åŒ–ï¼Œ23ä½å°¾æ•°ï¼Œ4ä½ä¿æŠ¤ä½ï¼›</span>aFriction = aFriction.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);bFriction = bFriction.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);<span class="hljs-comment">//Sign them!</span>aFriction = <span class="hljs-string">&quot;00&quot;</span> + aFriction;bFriction = <span class="hljs-string">&quot;00&quot;</span> + bFriction;StringBuilder ansBuilder = <span class="hljs-keyword">new</span> StringBuilder();String ansFriction;<span class="hljs-keyword">if</span>(aSign == bSign)&#123;  ansFriction = alu.add(aFriction, bFriction);&#125; <span class="hljs-keyword">else</span> &#123;  ansFriction = alu.sub(bFriction, aFriction); &#125;</code></pre><p>è¿™é‡Œä¸ºä»€ä¹ˆè¦åœ¨å°æ•°ä½å‰é¢åŠ ä¸Šä¸¤ä¸ª0å‘¢ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬ä¹‹åè¦å¯¹å°¾æ•°éƒ¨åˆ†è¿›è¡ŒåŠ å‡è¿ç®—ï¼Œå› ä¸ºæˆ‘ä»¬è¦è¿›è¡Œçš„æ˜¯å¸¦ç¬¦å·è¿ç®—ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åº”è¯¥è¡¥å……ä¸Šè‡³å°‘ä¸€ä¸ªç¬¦å·ä½ã€‚æ‰€ä»¥æœ€å·¦è¾¹çš„0æ˜¯ä½œä¸ºç¬¦å·ä½çš„ã€‚é‚£ä¹ˆç¬¬äºŒä¸ª0ï¼Œå°±æ˜¯ç”¨æ¥åˆ¤æ–­åŠ å‡ä¹‹åæ˜¯å¦æº¢å‡ºçš„ã€‚</p><p>å¯¹äºå¼‚å·åŠ æ³•ï¼Œæˆ‘ä»¬è½¬åŒ–ä¸ºåŒå·å‡æ³•ï¼›å¯¹äºåŒå·ï¼Œç›´æ¥åšåŠ æ³•ã€‚</p><p>å¦‚æœæƒ³åŠ å‡ä¹‹åç­‰äº0ï¼Œé‚£ä¹ˆè®¡ç®—ç»“æœä¸º0ï¼Œè¿”å›0ï¼</p><pre><code class="hljs java"><span class="hljs-keyword">if</span>(ansFriction.equals(<span class="hljs-string">&quot;000000000000000000000000000000&quot;</span>))&#123;  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;00000000000000000000000000000000&quot;</span>;&#125;</code></pre><p>é’ˆå¯¹ç¬¦å·ä½ï¼Œé¦–å…ˆæˆ‘ä»¬åº”è¯¥æ˜ç™½ä¸€ä»¶äº‹ï¼š<strong>ä¸¤ä¸ªæ­£æ•°æˆ–è€…è´Ÿæ•°ä¹‹é—´çš„å‡æ³•ä¸ä¼šå‘ç”Ÿæº¢å‡ºã€‚</strong>æ‰€ä»¥ï¼Œå¯¹äºåŠ æ³•æ¥è¯´ï¼Œè¿™ä¸ªæº¢å‡ºä½åªåˆ¤æ–­åŒç¬¦å·æ•°ç›¸åŠ ä¹‹åæ˜¯å¦æº¢å‡ºã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">if</span>(aSign == bSign)&#123;  ansBuilder.append(aSign);&#125; <span class="hljs-keyword">else</span> &#123;  <span class="hljs-keyword">if</span>(ansFriction.charAt(<span class="hljs-number">0</span>)==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;    <span class="hljs-comment">//a + b</span>    <span class="hljs-keyword">if</span>(aSign == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;      ansBuilder.append(<span class="hljs-string">&quot;0&quot;</span>);    &#125; <span class="hljs-keyword">else</span> &#123;      ansBuilder.append(<span class="hljs-string">&quot;1&quot;</span>);    &#125;    ansFriction = Neg(ansFriction);  &#125; <span class="hljs-keyword">else</span> &#123;    ansBuilder.append(aSign);  &#125;&#125;</code></pre><p>å½“aä¸bçš„ç¬¦å·ç›¸åŒæ—¶ï¼Œå‘ç”Ÿçš„æ˜¯åŠ æ³•ï¼Œå¹¶ä¸”ä¸¤ä¸ªæ•°çš„å°¾æ•°éƒ½æ˜¯æ­£æ•°ã€‚æ‰€ä»¥ç»“æœçš„ç¬¦å·ç›´æ¥ä¸aæˆ–bç›¸åŒå³å¯ã€‚å½“aå’Œbå¼‚å·çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ˜¯aå’Œbä¹‹é—´çš„å·®ã€‚é€šè¿‡å‡æ³•ï¼Œå†å°†å¾—åˆ°çš„ç»“æœå–ç»å¯¹å€¼ï¼Œå°±å¯ä»¥å¾—åˆ°å®ƒä»¬çš„å·®ã€‚è‡³äºç¬¦å·ï¼Œæˆ‘ä»¬é ä¸Šé¢çš„ä»£ç æ¥åˆ¤æ–­ï¼šæ³¨æ„ï¼Œæˆ‘ä»¬ä¸Šé¢æ˜¯ç”¨aå‡å»bã€‚<strong>é‚£ä¹ˆå¦‚æœå¾—åˆ°çš„ç»“æœæ˜¯è´Ÿæ•°å¹¶ä¸”aæ˜¯è´Ÿæ•°ï¼Œè¯´æ˜açš„ç»å¯¹å€¼å°äºbçš„ç»å¯¹å€¼ï¼Œa+bå¾—åˆ°çš„æ˜¯æ­£æ•°ã€‚</strong>æ‰€ä»¥æˆ‘ä»¬å°†è¿”å›å€¼çš„ç¬¦å·ä½è®¾ä¸ºå’Œbç›¸åŒå³å¯ï¼ˆè°çš„ç»å¯¹å€¼å¤§å’Œè°çš„ç¬¦å·ç›¸åŒï¼‰ã€‚æœ€åå°†å°¾æ•°éƒ¨åˆ†å–ç»å¯¹å€¼ã€‚å¦‚æœä¸ºæ­£æ•°ï¼Œè¯´æ˜açš„ç»å¯¹å€¼æ›´å¤§ï¼Œç¬¦å·å’Œaç›¸åŒã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">if</span>(ansFriction.charAt(<span class="hljs-number">1</span>)==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;  <span class="hljs-keyword">if</span>(aExp.equals(<span class="hljs-string">&quot;11111110&quot;</span>))&#123;    ansBuilder.append(<span class="hljs-string">&quot;1111111100000000000000000000000&quot;</span>);    <span class="hljs-keyword">return</span> ansBuilder.toString();  &#125;  aExp = alu.add(aExp, <span class="hljs-string">&quot;00000001&quot;</span>);  ansFriction = ansFriction.substring(<span class="hljs-number">1</span>, <span class="hljs-number">29</span>);&#125; <span class="hljs-keyword">else</span> &#123;  ansFriction = ansFriction.substring(<span class="hljs-number">2</span>, <span class="hljs-number">30</span>);&#125;</code></pre><p>è¿™é‡Œåˆ¤æ–­ä¸¤æ•°ç›¸åŠ ä¹‹åæ˜¯å¦è¿›ä½ï¼Œå¦‚æœè¿›ä½å°±åœ¨é˜¶ç å¤„+1ï¼Œå°†å°¾æ•°å·¦ç§»ä¸€ä½ã€‚æ­¤å¤„åº”è¯¥åˆ¤æ–­ç»“æœæ˜¯å¦ä¼šæº¢å‡ºï¼Œè‹¥æº¢å‡ºåˆ™è¿”å›æ— ç©·ã€‚å› ä¸ºæ­¤æ—¶æˆ‘çš„å°æ•°éƒ¨åˆ†æ˜¯30ä½ï¼ˆ2ä½è¡¥å……çš„â€œ00â€+1ä½è§„æ ¼åŒ–çš„0/1+23ä½å°¾æ•°+4ä½ä¿æŠ¤ä½ï¼‰ï¼Œå› æ­¤å–ç›¸åº”çš„1åˆ°28ä½ï¼ˆå·¦ç§»ï¼‰æˆ–2åˆ°30ä½ï¼ˆæ— å·¦ç§»ï¼‰ï¼›</p><pre><code class="hljs java"><span class="hljs-keyword">while</span> (ansFriction.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span>)&#123;  aExp = alu.sub(<span class="hljs-string">&quot;00000001&quot;</span>, aExp);  ansFriction = ansFriction + <span class="hljs-string">&quot;0&quot;</span>;  ansFriction = ansFriction.substring(<span class="hljs-number">1</span>, <span class="hljs-number">28</span>);&#125;</code></pre><p>æ¯å½“ç›®å‰çš„å°¾æ•°çš„ç¬¬ä¸€ä½ä¸ä¸º1ï¼Œåˆ™éœ€è¦è¿›è¡Œè§„æ ¼åŒ–æ“ä½œï¼›ï¼ˆå› ä¸ºå‰é¢å·²ç»å¤„ç†è¿‡å…¨ä¸º0çš„æƒ…å†µï¼Œå› æ­¤è¯¥å¾ªç¯å¯ä»¥ç»ˆæ­¢ï¼‰</p><pre><code class="hljs java">ansFriction = ansFriction.substring(<span class="hljs-number">0</span>, <span class="hljs-number">24</span>);ansBuilder.append(aExp);ansBuilder.append(ansFriction, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>);<span class="hljs-keyword">return</span> ansBuilder.toString();</code></pre><p>å®Œæˆç­”æ¡ˆã€‚</p><h3 id="è¾…åŠ©å‡½æ•°ä¸€è§ˆ"><a href="#è¾…åŠ©å‡½æ•°ä¸€è§ˆ" class="headerlink" title="è¾…åŠ©å‡½æ•°ä¸€è§ˆ"></a>è¾…åŠ©å‡½æ•°ä¸€è§ˆ</h3><ol><li>è®¡ç®—ä¸€ä¸²01åºåˆ—çš„æ— ç¬¦å·æ•´æ•°å€¼ï¼›</li></ol><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">unsignedVal</span><span class="hljs-params">(String str)</span></span>&#123;  <span class="hljs-keyword">int</span> ret = <span class="hljs-number">0</span>;  <span class="hljs-keyword">int</span> len = str.length();  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=len-<span class="hljs-number">1</span>; i&gt;=<span class="hljs-number">0</span>; i--)&#123;    <span class="hljs-keyword">if</span> (str.charAt(i) == <span class="hljs-string">&#x27;1&#x27;</span>) &#123;      ret += (<span class="hljs-number">1</span>&lt;&lt;(len-<span class="hljs-number">1</span>-i));    &#125;  &#125;  <span class="hljs-keyword">return</span> ret;&#125;</code></pre><ol><li>å¯¹å¸¦ç¬¦å·æ•´æ•°å–åï¼›</li></ol><pre><code class="hljs java"><span class="hljs-function">String <span class="hljs-title">Neg</span><span class="hljs-params">(String src)</span></span>&#123;  <span class="hljs-keyword">char</span>[] binaryStr = src.toCharArray();  <span class="hljs-keyword">int</span> index = src.length()-<span class="hljs-number">1</span>;  <span class="hljs-keyword">int</span> flg = <span class="hljs-number">0</span>;  <span class="hljs-keyword">for</span>(; index&gt;=<span class="hljs-number">0</span>; index--)&#123;    <span class="hljs-keyword">if</span> (flg == <span class="hljs-number">1</span>)&#123;      binaryStr[index] = (binaryStr[index]==<span class="hljs-string">&#x27;1&#x27;</span>)? <span class="hljs-string">&#x27;0&#x27;</span>:<span class="hljs-string">&#x27;1&#x27;</span>;    &#125;    <span class="hljs-keyword">if</span>(binaryStr[index]==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;      flg = <span class="hljs-number">1</span>;    &#125;  &#125;  <span class="hljs-keyword">return</span> String.valueOf(binaryStr);&#125;</code></pre><h3 id="å®Œæ•´çš„ADDå‡½æ•°"><a href="#å®Œæ•´çš„ADDå‡½æ•°" class="headerlink" title="å®Œæ•´çš„ADDå‡½æ•°"></a>å®Œæ•´çš„ADDå‡½æ•°</h3><pre><code class="hljs java"><span class="hljs-function">String <span class="hljs-title">add</span><span class="hljs-params">(String a,String b)</span></span>&#123;  <span class="hljs-comment">// TODO</span>  <span class="hljs-keyword">if</span>(a.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> b;  <span class="hljs-keyword">if</span>(b.startsWith(<span class="hljs-string">&quot;0000000000000000000000000000000&quot;</span>, <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> a;  String aExp = a.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);  String bExp = b.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);  <span class="hljs-keyword">char</span> aSign = a.charAt(<span class="hljs-number">0</span>);  <span class="hljs-keyword">char</span> bSign = b.charAt(<span class="hljs-number">0</span>);  String aFriction = a.substring(<span class="hljs-number">9</span>);  String bFriction = b.substring(<span class="hljs-number">9</span>);  <span class="hljs-keyword">int</span> expA = unsignedVal(aExp);  <span class="hljs-keyword">int</span> expB = unsignedVal(bExp);  aFriction = (expA == <span class="hljs-number">0</span>)? (<span class="hljs-string">&quot;0&quot;</span>+aFriction):(<span class="hljs-string">&quot;1&quot;</span>+aFriction);  bFriction = (expB == <span class="hljs-number">0</span>)? (<span class="hljs-string">&quot;0&quot;</span>+bFriction):(<span class="hljs-string">&quot;1&quot;</span>+bFriction);  aFriction = aFriction + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//guardBits!</span>  bFriction = bFriction + <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-comment">//guardBits!</span>  <span class="hljs-keyword">int</span> flg = <span class="hljs-number">0</span>;  <span class="hljs-keyword">while</span> (expA &lt; expB)&#123;    flg = <span class="hljs-number">1</span>;    aExp = alu.add(<span class="hljs-string">&quot;00000001&quot;</span>, aExp);    expA++;    aFriction = <span class="hljs-string">&quot;0&quot;</span> + aFriction;  &#125;  <span class="hljs-keyword">while</span> (expB &lt; expA)&#123;    flg = <span class="hljs-number">2</span>;    bExp = alu.add(<span class="hljs-string">&quot;00000001&quot;</span>, bExp);    expB++;    bFriction = <span class="hljs-string">&quot;0&quot;</span> + bFriction;  &#125;  <span class="hljs-keyword">if</span>(flg == <span class="hljs-number">1</span>)&#123;    <span class="hljs-keyword">if</span>(aFriction.startsWith(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>, <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> b;  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(flg == <span class="hljs-number">2</span>)&#123;    <span class="hljs-keyword">if</span>(bFriction.startsWith(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>, <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> a;  &#125;  aFriction = aFriction.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);  bFriction = bFriction.substring(<span class="hljs-number">0</span>, <span class="hljs-number">28</span>);  <span class="hljs-comment">//Sign them!</span>  aFriction = <span class="hljs-string">&quot;00&quot;</span> + aFriction;  bFriction = <span class="hljs-string">&quot;00&quot;</span> + bFriction;  StringBuilder ansBuilder = <span class="hljs-keyword">new</span> StringBuilder();  String ansFriction;  <span class="hljs-keyword">if</span>(aSign == bSign)&#123;    ansFriction = alu.add(aFriction, bFriction);  &#125; <span class="hljs-keyword">else</span> &#123;    ansFriction = alu.sub(bFriction, aFriction); <span class="hljs-comment">//b+ a-</span>  &#125;  <span class="hljs-keyword">if</span>(ansFriction.equals(<span class="hljs-string">&quot;000000000000000000000000000000&quot;</span>))&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;00000000000000000000000000000000&quot;</span>;  &#125;  <span class="hljs-keyword">if</span>(aSign == bSign)&#123;    ansBuilder.append(aSign);  &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-keyword">if</span>(ansFriction.charAt(<span class="hljs-number">0</span>)==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;      <span class="hljs-comment">//a + b</span>      <span class="hljs-keyword">if</span>(aSign == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;        ansBuilder.append(<span class="hljs-string">&quot;0&quot;</span>);      &#125; <span class="hljs-keyword">else</span> &#123;        ansBuilder.append(<span class="hljs-string">&quot;1&quot;</span>);      &#125;      ansFriction = Neg(ansFriction);    &#125; <span class="hljs-keyword">else</span> &#123;      ansBuilder.append(aSign);    &#125;  &#125;  <span class="hljs-comment">/*</span><span class="hljs-comment">        if(unsignedVal(ansFriction.substring(26, 30))&gt;7)&#123;</span><span class="hljs-comment">            ansFriction = alu.add(ansFriction, &quot;000000000000000000000000001000&quot;);</span><span class="hljs-comment">        &#125;</span><span class="hljs-comment">         */</span>  <span class="hljs-keyword">if</span>(ansFriction.charAt(<span class="hljs-number">1</span>)==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;    <span class="hljs-keyword">if</span>(aExp.equals(<span class="hljs-string">&quot;11111110&quot;</span>))&#123;      ansBuilder.append(<span class="hljs-string">&quot;1111111100000000000000000000000&quot;</span>);      <span class="hljs-keyword">return</span> ansBuilder.toString();    &#125;    aExp = alu.add(aExp, <span class="hljs-string">&quot;00000001&quot;</span>);    ansFriction = ansFriction.substring(<span class="hljs-number">1</span>, <span class="hljs-number">29</span>);  &#125; <span class="hljs-keyword">else</span> &#123;    ansFriction = ansFriction.substring(<span class="hljs-number">2</span>, <span class="hljs-number">30</span>);  &#125;  <span class="hljs-comment">//normalize</span>  <span class="hljs-keyword">while</span> (ansFriction.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span>)&#123;    aExp = alu.sub(<span class="hljs-string">&quot;00000001&quot;</span>, aExp);    ansFriction = ansFriction + <span class="hljs-string">&quot;0&quot;</span>;    ansFriction = ansFriction.substring(<span class="hljs-number">1</span>, <span class="hljs-number">28</span>);  &#125;  ansFriction = ansFriction.substring(<span class="hljs-number">0</span>, <span class="hljs-number">24</span>);  ansBuilder.append(aExp);  ansBuilder.append(ansFriction, <span class="hljs-number">1</span>, <span class="hljs-number">24</span>);  <span class="hljs-keyword">return</span> ansBuilder.toString();&#125;</code></pre>]]></content>
    
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>Integer</tag>
      
      <tag>COA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>week6-Grade2-fall</title>
    <link href="/2020/11/02/week6-Grade2-fall/"/>
    <url>/2020/11/02/week6-Grade2-fall/</url>
    
    <content type="html"><![CDATA[<h2 id="ç®—æ³•åˆ†æä¸è®¾è®¡"><a href="#ç®—æ³•åˆ†æä¸è®¾è®¡" class="headerlink" title="ç®—æ³•åˆ†æä¸è®¾è®¡"></a>ç®—æ³•åˆ†æä¸è®¾è®¡</h2><h2 id="è®¡ç®—æœºç»„æˆä¸ç»“æ„"><a href="#è®¡ç®—æœºç»„æˆä¸ç»“æ„" class="headerlink" title="è®¡ç®—æœºç»„æˆä¸ç»“æ„"></a>è®¡ç®—æœºç»„æˆä¸ç»“æ„</h2><h3 id="ç£ç›˜"><a href="#ç£ç›˜" class="headerlink" title="ç£ç›˜"></a>ç£ç›˜</h3><ul><li><p>æœ¬èº«ç›˜ä¸å¸¦æœ‰ç£æ€§ï¼Œç£æ€§ç‰©è´¨è¢«æ´’åœ¨ç›˜é¢ä¸Šï¼›</p></li><li><p>ä¸€ä¸ªæ‰‡åŒºçš„å­˜å‚¨å®¹é‡ç»å¸¸æ˜¯512Bï¼›</p></li><li><p>å†…å¤–åœˆè¯»512Bçš„æ—¶é—´éƒ½æ˜¯ä¸€æ ·çš„ã€‚åªè¦ä¿è¯ä¸€ä¸ªè§’åº¦ï¼ˆå†…åœˆï¼‰å³å¯ã€‚æ¯ä¸€åœˆéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¾ˆå®¹æ˜“ç®—å‡ºæ¥å®ƒåœ¨å“ªä¸ªä½ç½®ã€‚</p></li><li><p>å¤šåˆ’åˆ†ï¼ˆmultiple zone recordingï¼‰ï¼šæ¯å¤šä¸€æ¬¡æ‰‡åŒºå°±è¦è°ƒæ•´ä¸€æ¬¡ç£å¤´çš„è½¬é€Ÿã€æˆæœ¬é«˜ï¼Œå®¹æ˜“åã€‘ï¼›æé«˜äº†ç£ç›˜çš„åˆ©ç”¨æ•ˆç‡å¯ä»¥å¤šæ”¾å‡ ä¸ª512Bï¼›</p></li><li><p>ç›¸åŒç£é“åˆèµ·æ¥æ˜¯ä¸€ä¸ªæŸ±é¢ï¼›åŒä¸€ä¸ªæŸ±é¢çš„æ•°æ®æ¯æ¬¡ä¸€èµ·å†™ï¼›</p></li><li><p>æ ¼å¼åŒ–</p><ul><li>gapå¤šä½™â€”â€”æä¾›ååº”æ—¶é—´ã€‚ä¸èƒ½å¤Ÿå¤ªçŸ­ã€‚</li></ul></li><li><p>è¯»å†™æ•°æ®</p><ul><li><p>å¯»é“æ—¶é—´+æ—‹è½¬å»¶è¿Ÿ+è¯»å†™æ—¶é—´ï¼›</p></li><li><script type="math/tex; mode=display">T_a=T_s+\frac{1}{2r}+\frac{b}{rN}</script></li><li><p>rè¡¨ç¤ºè½¬é€Ÿï¼›</p></li></ul></li><li><p>ç£å¤´æ‰«æç®—æ³•</p><ul><li>FCFSï¼š</li><li>SSTFï¼šç§»åŠ¨åˆ°è·ç¦»å½“å‰ç£é“æœ€è¿‘çš„ã€‚</li><li>SCANï¼šä»0ç£é“åˆ°Nï¼›</li><li>C-SCANï¼šä»Nç£é“åˆ°0ï¼›</li><li>ä¸ºä»€ä¹ˆä¸æ¥å›æ‰«å‘¢ï¼Ÿæœ€åç­‰å¾…æ—¶é—´ä¼šå˜çŸ­ï¼</li></ul></li><li><p>ç£é“å·ã€ç£å¤´å·ã€‚</p><ul><li>åŒæ­¥å­—èŠ‚â€”â€”æé†’éœ€è¦å¼€å§‹è¯»äº†ã€‚</li><li>ä¸ºä»€ä¹ˆè¦åŠ ä¸€ä¸ªgapï¼Ÿâ€”â€”è¶³å¤Ÿé•¿çš„ç­‰å¾…æ—¶é—´æ–¹ä¾¿åé¢æ“ä½œã€‚é¿å…æ‰€æœ‰çš„æ‰‡åŒºåˆ’åˆ†åœ¨ä¸€èµ·ã€‚</li></ul></li><li><p>å†™ï¼š</p><ul><li>ç”µæµâ€”â€”ç£åœºâ€”â€”ç£æ€§ç‰©è´¨ä¸åŒæ’åˆ—â€”â€”ç”µé˜»å˜åŒ–â€”â€”æ’å®šç”µæµ</li></ul></li><li>å¯»é“æ—¶é—´ï¼šç£å¤´ç§»åŠ¨åˆ°ç›®æ ‡ç£é“çš„æ—¶é—´ï¼›</li><li>CD<ul><li>ä¸€æ¡çº¿çŠ¶å‡åŒ€åˆ†å¸ƒ</li><li>CDç›˜çš„å‡¹å‡¸ä¸å¹³æ˜¯å‹å‡ºæ¥çš„â€”â€”æ¯ç›˜ã€‚</li><li>åˆ»å½•â€”â€”é«˜å¼ºåº¦æ¿€å…‰ï¼ˆåå°„æ—¶æ‰¿æ‹…çš„ä¸¤ç§çŠ¶æ€ pit å’Œ landï¼‰ </li></ul></li></ul><h3 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h3><ul><li>æµ·æ˜ç <ul><li>æ•…éšœå­—ï¼ˆsyndrome wordï¼‰</li><li>æ€»å…±æœ‰M+K+1ç§æƒ…å†µï¼›</li></ul></li><li>åªæœ‰ä¸€ä½å‡ºé”™çš„æ—¶å€™è¡¨ç¤ºCå‡ºé”™</li><li>æ•…éšœå­—çš„ç»„åˆæƒ…å†µæ˜¯å”¯ä¸€çš„ã€‚</li><li>ç”Ÿæˆå¤šé¡¹å¼â€”â€”f</li><li></li></ul>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>DFS</tag>
      
      <tag>BFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NBCD-Review</title>
    <link href="/2020/10/23/NBCD-Review/"/>
    <url>/2020/10/23/NBCD-Review/</url>
    
    <content type="html"><![CDATA[<p>å› ä¸ºNBCDåœ¨ç¼–ç¨‹ä½œä¸šä¸­çš„å¤´ç–¼ç¨‹åº¦ï¼Œå†³å®šå¯¹ä»–è¿›è¡Œä¸€ä¸ªå•ç‹¬çš„ç¯‡ç« è¿›è¡Œæ€»ç»“ï¼ˆä½†æˆ–è®¸è¿™ä¸ªçŸ¥è¯†ç‚¹æœ¬èº«å¹¶ä¸æ˜¯ç‰¹åˆ«é‡è¦ï¼‰ã€‚</p><h2 id="NBCD"><a href="#NBCD" class="headerlink" title="NBCD"></a>NBCD</h2><p>BCD(a.k.a. Binary-Coded Decimal)ã€‚NBCDç ï¼Œä¹Ÿç§°8421ç ã€‚å°†0ï½9è¡¨ç¤ºæˆå››ä½0000ï½1001ã€‚ç¼–ç¨‹ä½œä¸šä¸­çš„NBCDç å›ºå®šä¸º32ä½ï¼Œè¡¨ç¤º1ä¸ªç¬¦å·å’Œ7ä¸ªæ•°å­—ã€‚è€Œå®é™…è¡¨ç¤ºä¸­ï¼ŒNBCDå¯ä»¥è¡¨ç¤ºæ— é™ä½çš„åè¿›åˆ¶æ•´æ•°ã€‚æ­£å·è¡¨ç¤ºä¸ºâ€œ1100â€ï¼Œè´Ÿå·è¡¨ç¤ºä¸ºâ€œ1101â€ã€‚</p><ul><li>æ³¨ï¼š0åœ¨NBCDç ä¸­åªæœ‰æ­£0ï¼Œéœ€è¦æ³¨æ„ã€‚ï¼ˆä¹Ÿè®¸è¿™åªæ˜¯ç¼–ç¨‹ä½œä¸šçš„featureï¼‰</li><li>32ä½çš„NBCDç ä¸­ï¼Œè‹¥è¯¥ä½æ²¡æœ‰æ•°å­—åˆ™ç”¨â€œ0000â€è¡¥å……ã€‚</li></ul><h2 id="NBCDçš„åŠ æ³•"><a href="#NBCDçš„åŠ æ³•" class="headerlink" title="NBCDçš„åŠ æ³•"></a>NBCDçš„åŠ æ³•</h2><ul><li>ç¬¦å·ç³»ç»Ÿæœ‰ä¸€äº›å¤æ‚ï¼Œæ‰€ä»¥æˆ‘åšäº†è¿™æ ·çš„å¤„ç†ï¼š<ul><li>1âƒ£ï¸å¯¹äºåŠ æ³•ï¼ŒåŒå·ç»§ç»­ï¼Œå¼‚å·è°ƒç”¨å‡æ³•ï¼›</li><li>2âƒ£ï¸å¯¹äºå‡æ³•ï¼ŒåŒå·ç»§ç»­ï¼Œå¼‚å·è°ƒç”¨åŠ æ³•ï¼›</li><li>æ³¨ï¼šè¿™æ ·çš„è°ƒç”¨ä¼šå¢åŠ ç¨‹åºçš„è€¦åˆæ€§ï¼Œæ˜¯ä¸€ç§ä¸å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼</li></ul></li><li>NBCDçš„åŠ æ³•æ˜¯å•æ¬¡å››ä½æ“ä½œçš„ï¼Œæ¯æ¬¡ä½¿ç”¨ä½çº§åŠ æ³•ã€‚ä½†è¿™æ ·ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼šç»“æœäº§ç”Ÿåœ¨èŒƒå›´1010ï½1111ï¼Œæˆ–äº§ç”Ÿäº†è¿›ä½ã€‚å› ä¸ºåå…­è¿›åˆ¶è¡¨ç¤ºçš„åŸå› ï¼Œä½çº§åŠ å‡å¾—åˆ°çš„ç»“æœä¸€æ—¦éœ€è¦è¿›ä½ï¼Œä¼šæ¯”æ­£å¸¸å¾—åˆ°çš„ç»“æœå°‘6ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨éœ€è¦è¿›ä½çš„æ—¶å€™è®¾ç½®è¿›ä½CFä¸º1ï¼Œå¹¶ä¸”ä¸ºä½çº§è®¡ç®—çš„ç»“æœåŠ ä¸Šâ€œ0110â€ã€‚</li><li>åˆ«å¿˜äº†åœ¨æ²¡æœ‰è¿›ä½çš„æ—¶å€™è®¾ç½®è¿›ä½Carryä¸º0ï¼›</li><li>å› ä¸ºåœ¨æˆ‘çš„è®¾è®¡ä¸­ï¼ŒåŠ æ³•å¤„ç†çš„æ˜¯åŒå·çš„æƒ…å†µï¼Œæ‰€ä»¥è®¡ç®—ç»“æœåº”å½“å’Œä½çº§è®¡ç®—çš„ç»“æœåŒå·ï¼›æ‰€ä»¥è®¡ç®—ç»“æœçš„ç¬¦å·å’Œaçš„ç¬¦å·ç›¸åŒå³å¯ï¼</li><li>è°ƒç”¨å‡æ³•çš„æ—¶å€™éœ€è¦æ³¨æ„æ›¿æ¢ç¬¦å·ï¼Œæ¯”å¦‚aå’Œ-bçš„æƒ…å†µï¼ˆè¿™é‡Œaå’Œbéƒ½æ˜¯ç»å¯¹å€¼ï¼‰ï¼Œa+(-b)è½¬åŒ–ä¸ºa-bå³å¯ï¼Œä¹Ÿå°±æ˜¯å°†bçš„ç¬¦å·â€œ1101â€æ¢æˆâ€œ1100â€å°±å¯ä»¥äº†ã€‚</li></ul><pre><code class="hljs java"><span class="hljs-function">String <span class="hljs-title">add</span><span class="hljs-params">(String a, String b)</span> </span>&#123;  <span class="hljs-comment">// TODO</span>  <span class="hljs-comment">//invoke cutStr to get slices;</span>  String[] aStr = cutStr(a);  String[] bStr = cutStr(b);  <span class="hljs-comment">//Accorrding to the sign, select which operation to take;</span>  String aSign = aStr[<span class="hljs-number">0</span>];  String bSign = bStr[<span class="hljs-number">0</span>];  <span class="hljs-keyword">if</span>(!aSign.equals(bSign))&#123;    <span class="hljs-keyword">if</span>(aSign.equals(<span class="hljs-string">&quot;1100&quot;</span>))&#123;      b = b.replace(<span class="hljs-string">&quot;1101&quot;</span>, <span class="hljs-string">&quot;1100&quot;</span>);      <span class="hljs-keyword">return</span> sub(b, a);    &#125; <span class="hljs-keyword">else</span> &#123;      a = a.replace(<span class="hljs-string">&quot;1101&quot;</span>, <span class="hljs-string">&quot;1100&quot;</span>);      <span class="hljs-keyword">return</span> sub(a, b);    &#125;  &#125;  String tmp;  StringBuilder ret = <span class="hljs-keyword">new</span> StringBuilder();    <span class="hljs-comment">//Carry Flag!</span>  <span class="hljs-keyword">int</span> carry = <span class="hljs-number">0</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">7</span>; i&gt;<span class="hljs-number">0</span>; i--)&#123;    <span class="hljs-comment">//Invoke alu.add to calculate the result of a and b;</span>    tmp = alu.add(aStr[i], bStr[i]);    <span class="hljs-keyword">if</span>(carry == <span class="hljs-number">1</span>)&#123;      tmp = alu.add(tmp, <span class="hljs-string">&quot;0001&quot;</span>); <span class="hljs-comment">//Carry One;</span>    &#125;    <span class="hljs-keyword">if</span>((aStr[i].charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;1&#x27;</span> || bStr[i].charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;1&#x27;</span>)&amp;&amp;(tmp.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span>)       || valOfNBCD(tmp)&gt;<span class="hljs-number">9</span>)&#123;         <span class="hljs-comment">// 1001 + 1000 = 0001 ? check overflow! if 1010 ~ 1111, overflow as well.</span>      carry = <span class="hljs-number">1</span>;      tmp = alu.add(tmp, <span class="hljs-string">&quot;0110&quot;</span>);    &#125; <span class="hljs-keyword">else</span> &#123;      <span class="hljs-comment">//Case: not overflow</span>      carry = <span class="hljs-number">0</span>;    &#125;    ret.insert(<span class="hljs-number">0</span>, tmp);  &#125;  <span class="hljs-comment">//Same as the two args;</span>  ret.insert(<span class="hljs-number">0</span>, aSign);  <span class="hljs-keyword">return</span> ret.toString();&#125;</code></pre><h2 id="NBCDçš„å‡æ³•"><a href="#NBCDçš„å‡æ³•" class="headerlink" title="NBCDçš„å‡æ³•"></a>NBCDçš„å‡æ³•</h2><p>æ•´ç†ï¼ˆè°ƒç”¨ï¼‰çš„åŠ æ³•ä¹‹æ‰€ä»¥ç›¸å¯¹ç®€å•æ˜¯å› ä¸ºåŠ æ³•ä¸ä¼šäº§ç”Ÿå˜å·çš„ç°è±¡ã€‚ä»£ç ç»†èŠ‚éœ€è¦æ³¨æ„ï¼šbï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰ä¸ºè¢«å‡æ•°ï¼Œè€Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå‡æ•°ã€‚</p><ul><li><p>åŒç†äºåŠ æ³•ï¼Œå¯¹äºbå’Œaå¼‚å·çš„æƒ…å†µï¼Œè°ƒç”¨åŠ æ³•è¿›è¡Œè®¡ç®—ã€‚å½“bä¸ºè´Ÿæ•°aä¸ºæ­£æ•°çš„æ—¶å€™ï¼Œè½¬æ¢ä¸ºbå’Œ-aä½œåŠ æ³•ã€‚å½“bä¸ºæ­£æ•°aä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼Œè½¬åŒ–ä¸ºbå’Œ-aï¼ˆæ­£æ•°ï¼‰ä½œåŠ æ³•ã€‚</p></li><li><p>å‡æ³•çš„å®è´¨ä»ç„¶æ˜¯åŠ æ³•ï¼š</p></li><li><script type="math/tex; mode=display">A - B=A+(10^n-B)</script></li><li><p>å› æ­¤åœ¨åè¿›åˆ¶ä¸­ï¼Œæˆ‘ä»¬<strong>å¯¹æ¯ä¸€ä½æ•°å­—å–è¡¥ï¼ˆä»å³å¾€å·¦èµ·çš„ç¬¬ä¸€ä¸ªé0ä½å»å‡10ï¼ˆéœ€è¦å€Ÿä½ï¼‰ï¼Œåç»­çš„å»å‡9ã€‚ï¼‰</strong>ã€‚å¾—åˆ°çš„ç»“æœä¸bï¼ˆè¢«å‡æ•°ï¼‰ç›¸åŠ ã€‚è¿™é‡ŒåŠ æ³•çš„è¿‡ç¨‹å’ŒåŠ æ³•æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼›è‹¥å¯¹7ä½å‡è¿›è¡Œæ“ä½œï¼Œå°±ä¸éœ€è¦å†â€œå‡æ‰â€è¿™ä¸ªæ“ä½œäº†ï¼Œå› ä¸ºåŠ ä¸Šçš„10<sup>n</sup>ä¼šç›´æ¥æº¢å‡ºã€‚</p></li><li><p>å› ä¸ºè¿™é‡ŒåŠ ä¸Šäº†10<sup>n</sup>ï¼ˆn&lt;7ï¼‰ï¼Œæ‰€ä»¥åé¢éœ€è¦æŠŠä»–å‡æ‰ã€‚ä¸ºäº†ä¸å½±å“åŸæœ¬ä¸º0çš„ä½ï¼Œæˆ‘ä»¬å…ˆæŠŠâ€œ0000â€å…¨éƒ¨è¡¥ä¸Šã€‚</p><ul><li>å…³äºè¿™é‡Œéœ€è¦åˆ¤æ–­ä¸€ä¸‹carryçš„é—®é¢˜ï¼šè¿™é‡Œå…¶å®åˆ¤æ–­çš„æ˜¯æº¢å‡ºæƒ…å†µã€‚æ¯”å¦‚è¯´ 333 - 300 = 33ï¼ˆå‡è®¾è¿™é‡Œåªæœ‰3ä½ï¼‰ï¼Œæ ¹æ®ä¸Šé¢çš„æ“ä½œï¼Œç­‰æ•ˆå˜æˆäº† 333 + 700 = 1033ï¼Œè¿™é‡Œå°±æœ‰ä¸€ä½çš„è¿›ä½ï¼ˆè¿›ä½åˆ°äº†åƒä½ï¼‰ã€‚è€Œæˆ‘ä»¬è¿™é‡Œåªæœ‰ä¸‰ä½ï¼Œè¿™ä¸€ä½è¿›ä½å°±ä¼šè¢«è‡ªåŠ¨èˆå¼ƒï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šè‡ªåŠ¨å‡å»ä¸€ä¸ª1000ï¼Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼š33ã€‚æ‰€ä»¥ï¼Œåœ¨<strong>æ•´ä½“è®¡ç®—</strong>ï¼ˆå³7ä½å…¨éƒ¨å‚ä¸è¿ç®—ï¼‰ä¹‹åï¼Œè¿˜æœ‰ä¸€ä½è¿›ä½çš„æƒ…å†µä¸‹ï¼Œä¸éœ€è¦è¿™ä¸ª-10<sup>n</sup>çš„æ“ä½œã€‚</li><li>å¯¹äºä¸éœ€è¦è¿›ä½çš„æƒ…å†µï¼Œæˆ‘ä»¬æ ¹æ®åˆšæ‰å–è¡¥çš„æ–¹å¼ï¼šæœ€ä½é0ä½å»å‡10ï¼ˆ10 - æœ€ä½éé›¶ä½ï¼‰ï¼Œä»å³èµ·åç»­çš„æ¯ä½å»å‡9ï¼Œå°±å¯ä»¥å¾—åˆ°å‡å»10ä¹‹åçš„ç»“æœäº†ã€‚</li></ul></li><li><p>æœ€åçš„ä¸€ä¸ªé‡éš¾ç‚¹â€”â€”<strong>åˆ¤æ–­ç¬¦å·</strong>ã€‚</p><ul><li><p>NBCDä¸­æ²¡æœ‰è´Ÿ0ï¼Œæ‰€ä»¥0æˆ‘ä»¬è¦ç‰¹åˆ¤ä¸€ä¸‹ã€‚</p></li><li><p>è´Ÿæ•°-è´Ÿæ•°çš„æƒ…å†µå’Œæ­£æ•°-æ­£æ•°çš„æƒ…å†µç›¸åï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚æ¯”å¦‚(-3-(-4))ä¸éœ€è¦å€Ÿä½ï¼Œä½†æ˜¯å®ƒå¾—åˆ°çš„æ˜¯æ­£æ•°çš„ç»“æœï¼›(1-2)åŒæ ·æ˜¯ä¸éœ€è¦å€Ÿä½çš„ï¼Œä½†ä»–å¾—åˆ°çš„æ˜¯è´Ÿæ•°çš„ç»“æœã€‚</p></li><li><p>å¦‚æœæœ‰è¿›ä½ï¼ˆå€Ÿä½ï¼‰ï¼šåœ¨æ­£æ•°ç›¸å‡ä¸­ï¼Œæœ‰è¿›ä½è¯´æ˜ï¼šè¢«å‡æ•°å¤§äºå‡æ•°ã€‚æˆ‘ä»¬å›å¤´å»çœ‹ä¸€éæ•°å­¦æ¨å¯¼ï¼š</p><script type="math/tex; mode=display">A - B=A+(10^n-B)</script><p>å¦‚æœæœ‰è¿›ä½çš„è¯ï¼Œè¯´æ˜ï¼š</p><script type="math/tex; mode=display">A - B=A+(10^n-B)>10^n</script><p>é‚£ä¹ˆï¼š</p><script type="math/tex; mode=display">A>B</script><p>è¯´æ˜äº†è¢«å‡æ•°å¤§äºå‡æ•°ï¼Œå·®åº”è¯¥å’Œè¢«å‡æ•°åŒå·ï¼</p><p>å¦‚æœæ²¡è¿›ä½çš„è¯ï¼Œç»“æœå°±å’Œä¸Šé¢æ­£å¥½ç›¸åï¼š</p><script type="math/tex; mode=display">A<B</script><p>å·®åº”è¯¥å’Œè¢«å‡æ•°å¼‚å·ï¼</p></li></ul></li></ul><p>ä»¥ä¸‹å°±æ˜¯ä¸€å †ç³Ÿå¿ƒçš„ä»£ç ï¼Œå¯è¯»æ€§å¹¶ä¸é«˜ï¼Œä½†å¯ä»¥æ ¹æ®ä¸Šé¢çš„è¯´æ˜é˜…è¯»ä¸€ä¸‹ã€‚ç†è®ºä¸Šè¿˜éœ€è¦è¯æ˜ä¸€ä¸‹ä»£ç çš„æ­£ç¡®æ€§ï¼Œä½†æ˜¯å¤ªå›°äº†å°±ç®—äº†å§QAQ</p><pre><code class="hljs java"><span class="hljs-comment">/***</span><span class="hljs-comment"> *</span><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> a A 32-bits NBCD String</span><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> b A 32-bits NBCD String</span><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> b - a</span><span class="hljs-comment"> */</span><span class="hljs-function">String <span class="hljs-title">sub</span><span class="hljs-params">(String a, String b)</span> </span>&#123;  <span class="hljs-comment">// TODO</span>  String[] aStr = cutStr(a);  String[] bStr = cutStr(b);  String aSign = aStr[<span class="hljs-number">0</span>];  String bSign = bStr[<span class="hljs-number">0</span>];  <span class="hljs-comment">//adjust sign bit;</span>  <span class="hljs-keyword">if</span>(!aSign.equals(bSign))&#123;    <span class="hljs-keyword">if</span>(aSign.equals(<span class="hljs-string">&quot;1100&quot;</span>))&#123;      a = a.replace(<span class="hljs-string">&quot;1100&quot;</span>, <span class="hljs-string">&quot;1101&quot;</span>);      <span class="hljs-keyword">return</span> add(a, b);    &#125; <span class="hljs-keyword">else</span> &#123;      a = a.replace(<span class="hljs-string">&quot;1101&quot;</span>, <span class="hljs-string">&quot;1100&quot;</span>);      <span class="hljs-keyword">return</span> add(a, b);    &#125;  &#125;  String tmpStr;  String[] ans = <span class="hljs-keyword">new</span> String[<span class="hljs-number">8</span>];  StringBuilder nTmp = <span class="hljs-keyword">new</span> StringBuilder();  <span class="hljs-keyword">int</span> i=<span class="hljs-number">7</span>;  <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;  <span class="hljs-keyword">int</span> carry = <span class="hljs-number">0</span>;  <span class="hljs-keyword">for</span>(; i&gt;<span class="hljs-number">0</span>; i--)&#123;    <span class="hljs-keyword">if</span>(aStr[i].equals(<span class="hljs-string">&quot;0000&quot;</span>) &amp;&amp; bStr[i].equals(<span class="hljs-string">&quot;0000&quot;</span>)) <span class="hljs-keyword">break</span>;    tmpStr = alu.sub(aStr[i],<span class="hljs-string">&quot;1001&quot;</span>);    <span class="hljs-keyword">if</span>(i == <span class="hljs-number">7</span>) tmpStr = alu.add(tmpStr, <span class="hljs-string">&quot;0001&quot;</span>);   <span class="hljs-comment">//å€Ÿä½</span>    String tmp = tmpStr;    tmpStr = alu.add(tmpStr, bStr[i]);    <span class="hljs-keyword">if</span>(carry == <span class="hljs-number">1</span>)&#123;      tmpStr = alu.add(tmpStr, <span class="hljs-string">&quot;0001&quot;</span>);    &#125;    <span class="hljs-keyword">if</span>((tmp.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;1&#x27;</span> || bStr[i].charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;1&#x27;</span>)&amp;&amp;(tmpStr.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27;0&#x27;</span>) ||       valOfNBCD(tmpStr) &gt; <span class="hljs-number">9</span>)&#123;      <span class="hljs-comment">//carryå’Œoverflowè¿˜æ²¡åˆ¤æ–­å‘¢ï¼</span>      carry = <span class="hljs-number">1</span>;      tmpStr = alu.add(tmpStr, <span class="hljs-string">&quot;0110&quot;</span>);    &#125; <span class="hljs-keyword">else</span> &#123;      carry = <span class="hljs-number">0</span>;    &#125;    count++;    ans[i] = tmpStr;  &#125;  <span class="hljs-keyword">while</span> (i&gt;<span class="hljs-number">0</span>)&#123;    ans[i] = <span class="hljs-string">&quot;0000&quot;</span>;    i--;  &#125;  <span class="hljs-keyword">int</span> flg = <span class="hljs-number">0</span>;  <span class="hljs-keyword">if</span>(carry == <span class="hljs-number">0</span>)&#123;    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">7</span>; j&gt;<span class="hljs-number">7</span>-count; j--)&#123;      <span class="hljs-keyword">if</span>(ans[j].equals(<span class="hljs-string">&quot;0000&quot;</span>)) <span class="hljs-keyword">continue</span>;      <span class="hljs-keyword">if</span>(flg == <span class="hljs-number">0</span>)&#123;        ans[j] = alu.sub(ans[j], <span class="hljs-string">&quot;1010&quot;</span>);        flg = <span class="hljs-number">1</span>;      &#125; <span class="hljs-keyword">else</span> &#123;        ans[j] = alu.sub(ans[j], <span class="hljs-string">&quot;1001&quot;</span>);      &#125;    &#125;  &#125;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">7</span>; j&gt;<span class="hljs-number">0</span>; j--)&#123;    nTmp.insert(<span class="hljs-number">0</span>, ans[j]);  &#125;  String ret = nTmp.toString();  <span class="hljs-keyword">if</span> (ret.equals(<span class="hljs-string">&quot;0000000000000000000000000000&quot;</span>)) &#123; <span class="hljs-comment">//ä¹‹å‰åˆ¤æ–­&quot;0&quot;æœ‰é—®é¢˜ï¼›</span>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;1100&quot;</span> + ret;  &#125;  <span class="hljs-keyword">if</span>(aSign.equals(<span class="hljs-string">&quot;1100&quot;</span>))&#123;    <span class="hljs-keyword">return</span> ((carry==<span class="hljs-number">1</span>)? <span class="hljs-string">&quot;1100&quot;</span>:<span class="hljs-string">&quot;1101&quot;</span>) + ret;  &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-keyword">return</span> ((carry==<span class="hljs-number">1</span>)? <span class="hljs-string">&quot;1101&quot;</span>:<span class="hljs-string">&quot;1100&quot;</span>) + ret;  &#125;&#125;</code></pre><h2 id="è¾…åŠ©å‡½æ•°ä¸€è§ˆ"><a href="#è¾…åŠ©å‡½æ•°ä¸€è§ˆ" class="headerlink" title="è¾…åŠ©å‡½æ•°ä¸€è§ˆ"></a>è¾…åŠ©å‡½æ•°ä¸€è§ˆ</h2><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">valOfNBCD</span><span class="hljs-params">(String a)</span></span>&#123;  <span class="hljs-keyword">char</span>[] aLst = a.toCharArray();  <span class="hljs-keyword">int</span> ret = <span class="hljs-number">0</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">4</span>; i++)&#123;    ret &lt;&lt;= <span class="hljs-number">1</span>;    ret += (aLst[i]==<span class="hljs-string">&#x27;1&#x27;</span>)? <span class="hljs-number">1</span>:<span class="hljs-number">0</span>;  &#125;  <span class="hljs-keyword">return</span> ret;&#125;</code></pre><p>è®¡ç®—å››ä½BCDçš„å€¼ï¼Œå³å¯¹åº”çš„0ï½9ã€‚</p><pre><code class="hljs java"><span class="hljs-keyword">static</span> String[] cutStr(String str)&#123;  String[] strArr = <span class="hljs-keyword">new</span> String[<span class="hljs-number">8</span>];  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">8</span>; i++)&#123;    strArr[i] = str.substring(<span class="hljs-number">4</span>*i, <span class="hljs-number">4</span>*(i + <span class="hljs-number">1</span>));  &#125;  <span class="hljs-keyword">return</span> strArr;&#125;</code></pre><p>å°†å­—ç¬¦ä¸²ä»¥å››ä¸ªä¸€ç»„åˆ‡åˆ†ï¼›</p><p>è¿‡ç¨‹ä¸­è¿˜æœ‰è°ƒç”¨ALUä¸­çš„ä½çº§åŠ å‡æ³•ï¼Œç†è§£æˆæ•´æ•°ç›¸åŠ å‡å³å¯ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>NBCD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸“ä¸šè¯æ±‡</title>
    <link href="/2020/10/21/%E4%B8%93%E4%B8%9A%E8%AF%8D%E6%B1%87/"/>
    <url>/2020/10/21/%E4%B8%93%E4%B8%9A%E8%AF%8D%E6%B1%87/</url>
    
    <content type="html"><![CDATA[<h3 id="ç”Ÿç‰©"><a href="#ç”Ÿç‰©" class="headerlink" title="ç”Ÿç‰©"></a>ç”Ÿç‰©</h3><ul><li>invertebrate æ— è„Šæ¤çš„ï¼› vertebrate æœ‰è„Šæ¤çš„ï¼›</li><li>primates çµé•¿ç±»ï¼›</li><li>mollusk è½¯ä½“åŠ¨ç‰©ï¼›</li><li>coelenterate è…”è‚ åŠ¨ç‰©ï¼›</li><li>spineless æ— è„Šæ¤çš„ï¼›æ²¡éª¨æ°”çš„ï¼›Sipne è„Šæ¤ï¼›</li><li>reproduce ç¹æ®–ï¼›</li><li>recessive gene éšæ€§åŸºå› ï¼›</li></ul><h3 id="åœ°è´¨"><a href="#åœ°è´¨" class="headerlink" title="åœ°è´¨"></a>åœ°è´¨</h3><ul><li>sedimentation æ²‰æ·€ï¼ˆè¿‡ç¨‹ï¼‰ï¼›sediment æ²‰æ·€ç‰©ï¼›<ul><li>åŒä¹‰æ›¿æ¢ï¼šdeposit æ²‰æ·€ï¼›accumulationï¼›</li></ul></li><li>grains é¢—ç²’ï¼›çº¹ç†ï¼›</li><li>molten ç†”åŒ–çš„ï¼›é“¸é€ çš„ï¼›</li><li>magma å²©æµ†ï¼›</li><li>lava ç«å±±å²©æµ†ï¼›</li><li>grantie èŠ±å²—å²©ï¼›</li><li>lead é“…ï¼›</li><li>dating ç¡®å®šå¹´ä»£ï¼›</li></ul><h4 id="å•†ç§‘"><a href="#å•†ç§‘" class="headerlink" title="å•†ç§‘"></a>å•†ç§‘</h4><ul><li>commodity/products/goods/merchandise å•†å“ï¼›<ul><li>commoditize å•†å“åŒ–ï¼›</li></ul></li><li>merchant å•†ä¸šçš„ï¼›</li></ul>]]></content>
    
    
    <categories>
      
      <category>TOEFL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TOEFL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TOEFL-writing-notes</title>
    <link href="/2020/10/20/TOEFL-writing-notes/"/>
    <url>/2020/10/20/TOEFL-writing-notes/</url>
    
    <content type="html"><![CDATA[<h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><div class="table-container"><table><thead><tr><th style="text-align:center">æ³¨æ„äº‹é¡¹</th><th style="text-align:center">ç»¼åˆå†™ä½œ</th><th style="text-align:center">ç‹¬ç«‹å†™ä½œ</th></tr></thead><tbody><tr><td style="text-align:center">å½¢å¼</td><td style="text-align:center">è¯»+å¬+å†™</td><td style="text-align:center">å†™</td></tr><tr><td style="text-align:center">æ—¶é—´</td><td style="text-align:center">20min</td><td style="text-align:center">30min</td></tr><tr><td style="text-align:center">å­—æ•°</td><td style="text-align:center">150~225</td><td style="text-align:center">&gt;300</td></tr><tr><td style="text-align:center">é¢˜æ</td><td style="text-align:center">Academic</td><td style="text-align:center">Non-Academic</td></tr><tr><td style="text-align:center">è§‚ç‚¹</td><td style="text-align:center">Objective</td><td style="text-align:center">Subjective</td></tr></tbody></table></div><h3 id="1-ç»¼åˆå†™ä½œè€ƒè¯•æµç¨‹"><a href="#1-ç»¼åˆå†™ä½œè€ƒè¯•æµç¨‹" class="headerlink" title="1. ç»¼åˆå†™ä½œè€ƒè¯•æµç¨‹"></a>1. ç»¼åˆå†™ä½œè€ƒè¯•æµç¨‹</h3><p>Wrting Based on reading and listening.</p><p>Step1: You will have <strong>3</strong> minute to read a passage.</p><ul><li>Structure: æ€»åˆ†ç»“æ„ï¼Œå››æ®µå¼<ul><li>ä¸€ä¸ªæ€»è®ºç‚¹+ä¸‰ä¸ªåˆ†è®ºç‚¹+ç†ç”±ç»†èŠ‚</li></ul></li></ul><p>Step2: listening (é˜…è¯»æ¶ˆå¤±)</p><ul><li><p>You will hear a lecture for 2 minutes.</p></li><li><p>Tips: å¬åŠ›ä¸é˜…è¯»çš„å…³ç³»</p><ol><li>è¯é¢˜ç›¸åŒï¼Œè§‚ç‚¹ç›¸å</li><li>ä¸€ä¸€å¯¹åº”çš„åé©³</li></ol></li></ul><p>Step3: Writing ï¼ˆé˜…è¯»é‡ç°ï¼‰</p><ul><li>Finish your essay in 20 minutes.</li><li>å­—æ•°è¦æ±‚ï¼š150ï½225</li></ul><p>æ€ä¹ˆå†™ï¼Ÿ</p><ul><li>ç¬¬ä¸€æ®µï¼šé˜…è¯»è¯´äº†ä»€ä¹ˆï¼Œå¬åŠ›ä¸åŒæ„ï¼›</li><li>ç¬¬äºŒæ®µï¼šå¬åŠ›ä¸åŒæ„é˜…è¯»çš„ç¬¬ä¸€ä¸ªç†ç”± + å¬åŠ›ç»†èŠ‚ï¼›</li><li>ç¬¬ä¸‰æ®µï¼šå¬åŠ›ä¸åŒæ„é˜…è¯»çš„ç¬¬äºŒä¸ªç†ç”± + å¬åŠ›ç»†èŠ‚ï¼›</li><li>ç¬¬å››æ®µï¼šå¬åŠ›ä¸åŒæ„é˜…è¯»çš„ç¬¬ä¸‰ä¸ªç†ç”± + å¬åŠ›ç»†èŠ‚ï¼›</li></ul><h3 id="2-ç‹¬ç«‹å†™ä½œ"><a href="#2-ç‹¬ç«‹å†™ä½œ" class="headerlink" title="2. ç‹¬ç«‹å†™ä½œ"></a>2. ç‹¬ç«‹å†™ä½œ</h3><p>Writing Based on Knowledge and experience.</p><p>Finish your essay in 30 minutes.</p><p>å­—æ•°è¦æ±‚ï¼š300+</p><h3 id="3-æ®µé—´ç»“æ„çš„ä¸‰ç§å±•å¼€æ–¹å¼"><a href="#3-æ®µé—´ç»“æ„çš„ä¸‰ç§å±•å¼€æ–¹å¼" class="headerlink" title="3. æ®µé—´ç»“æ„çš„ä¸‰ç§å±•å¼€æ–¹å¼"></a>3. æ®µé—´ç»“æ„çš„ä¸‰ç§å±•å¼€æ–¹å¼</h3><h4 id="1-ä¸€è¾¹å€’â€”â€”æœ‰å€¾å‘æ€§çš„è§‚ç‚¹ã€‚"><a href="#1-ä¸€è¾¹å€’â€”â€”æœ‰å€¾å‘æ€§çš„è§‚ç‚¹ã€‚" class="headerlink" title="1. ä¸€è¾¹å€’â€”â€”æœ‰å€¾å‘æ€§çš„è§‚ç‚¹ã€‚"></a>1. <strong>ä¸€è¾¹å€’</strong>â€”â€”æœ‰å€¾å‘æ€§çš„è§‚ç‚¹ã€‚</h4><div class="table-container"><table><thead><tr><th style="text-align:center">Introduction</th></tr></thead><tbody><tr><td style="text-align:center">A+/A&gt;B</td></tr><tr><td style="text-align:center">A+/A&gt;B</td></tr><tr><td style="text-align:center">A+/A&gt;B</td></tr><tr><td style="text-align:center">Conclusion</td></tr></tbody></table></div><h4 id="2-è®©æ­¥â€”â€”ä»ç„¶æœ‰è‡ªå·±æ˜ç¡®æ®µå€¾å‘æ€§è§‚ç‚¹"><a href="#2-è®©æ­¥â€”â€”ä»ç„¶æœ‰è‡ªå·±æ˜ç¡®æ®µå€¾å‘æ€§è§‚ç‚¹" class="headerlink" title="2. è®©æ­¥â€”â€”ä»ç„¶æœ‰è‡ªå·±æ˜ç¡®æ®µå€¾å‘æ€§è§‚ç‚¹"></a>2. è®©æ­¥â€”â€”ä»ç„¶æœ‰è‡ªå·±æ˜ç¡®æ®µå€¾å‘æ€§è§‚ç‚¹</h4><div class="table-container"><table><thead><tr><th style="text-align:center">Introduction</th></tr></thead><tbody><tr><td style="text-align:center">A+</td></tr><tr><td style="text-align:center">A+</td></tr><tr><td style="text-align:center">-(A-/B+)</td></tr><tr><td style="text-align:center">Conclusion</td></tr></tbody></table></div><ul><li>ä»€ä¹ˆæ˜¯è®©æ­¥æ®µï¼šä¸éœ€è¦å†å»æƒ³å‡ºä¸€ä¸ªæ–°çš„åˆ†è®ºç‚¹å»æ”¯æŒæˆ‘æ–¹è§‚ç‚¹ï¼Œè€Œæ˜¯ä¹Ÿè€ƒè™‘åˆ°å¯¹ç«‹é¢çš„è§‚ç‚¹ï¼Œæ‰¿è®¤æˆ‘æ–¹è§‚ç‚¹ä¹Ÿæœ‰ä¸€å®šç¼ºé™·ï¼Œä½†æ˜¯ä¸€å®šè¦<strong>è½¬æŠ˜å›æ¥ï¼ˆè™šå‡å¦¥åï¼‰ã€‚</strong><ul><li>ä½¿ç”¨æ¡ä»¶ï¼š<ul><li>æƒ³ä¸å‡ºè¶³å¤Ÿç†ç”±çš„æ—¶å€™ï¼›</li><li>äºŒé€‰ä¸€é¢˜ç›®ä¸­ä¸¤è€…äº‹ç‰©æ²¡æœ‰ç›´æ¥å…³è”ï¼Œæ— æ³•ç›´æ¥æ¯”è¾ƒæ—¶ï¼›</li><li>åœ¨ç»å¯¹è¯é¢˜ç›®ä¸­ï¼šæ‰¿åˆæ®µçš„æœ¬è´¨æ˜¯è®©æ­¥æ®µï¼›</li></ul></li></ul></li></ul><h4 id="3-Case-by-case"><a href="#3-Case-by-case" class="headerlink" title="3. Case-by-case"></a>3. Case-by-case</h4><p>æ— å€¾å‘æ€§çš„è§‚ç‚¹ã€‚åˆ†åˆ«è®ºè¿°ä¸¤æ–¹è§‚ç‚¹ä½¿ç”¨æƒ…å†µã€‚</p><div class="table-container"><table><thead><tr><th style="text-align:center">Introduction</th></tr></thead><tbody><tr><td style="text-align:center">A+</td></tr><tr><td style="text-align:center">A-/B+</td></tr><tr><td style="text-align:center">Conclusion</td></tr></tbody></table></div><p>ä½¿ç”¨æ¡ä»¶ï¼š å½“æˆ‘ä»¬å‘ç°è¯é¢˜çš„å¯¹ç«‹ä¸¤é¢æ˜æ˜¾åœ¨ä¸–ç•Œä¸­éƒ½å­˜åœ¨ä¸”éƒ½æ˜æ˜¾ä¸å¯æˆ–ç¼ºæ—¶ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘ç”¨è¿™ç§å†™æ³•ã€‚</p><p><strong><em>Tipsï¼š</em></strong>æ®µè½ä¸æ®µè½ä¹‹é—´åº”è¯¥æ»¡è¶³ä»€ä¹ˆè¦æ±‚ï¼Ÿ</p><ul><li>äº’æ–¥ï¼šäº’ä¸åŒ…å«ï¼Œäº’ä¸å› æœ</li><li>ä¸€ä¸ªè¦ç‚¹æ°¸è¿œè¦è‡ªæˆä¸€æ®µï¼Œæ¯ä¸ªæ®µè½éƒ½å¿…é¡»å……åˆ†å±•å¼€ï¼Œä¸èƒ½å’Œå…¶ä»–æ®µè½æœ‰é‡åˆçš„éƒ¨åˆ†ã€‚         </li></ul><p>è¾©è¯åˆ‡å…¥ç‚¹ï¼š</p><ul><li>æœ‰æ—¶å€™ï¼Œä¸ºäº†é¿å…ä¸‰ä¸ªç†ç”±ç›¸åŒæˆ–ç›¸ä¼¼ï¼Œå¯ä»¥æ‰¾ä¸åŒæ®µæ”¶ç›Šæ–¹æˆ–å—æŸæ–¹ã€‚</li></ul><h3 id="4-æ‰˜ç¦ç‹¬ç«‹å†™ä½œè¯„åˆ†æ ‡å‡†"><a href="#4-æ‰˜ç¦ç‹¬ç«‹å†™ä½œè¯„åˆ†æ ‡å‡†" class="headerlink" title="4. æ‰˜ç¦ç‹¬ç«‹å†™ä½œè¯„åˆ†æ ‡å‡†"></a>4. æ‰˜ç¦ç‹¬ç«‹å†™ä½œè¯„åˆ†æ ‡å‡†</h3><ol><li>Effectively <strong>addresses</strong> the topic and task. åˆ‡é¢˜</li><li>Is well organized and well developed, using clearly appropriate explanations, exemplifications, and/or details. ç»„ç»‡è‰¯å¥½ï¼Œå±•å¼€å……åˆ†ï¼ˆäº‹å®æ€§è¯­è¨€ï¼›å…·ä½“æœ‰ç”»é¢æ„Ÿï¼‰</li><li>Displays unity, progression, and coherenceï¼ˆç»Ÿä¸€æ€§ã€é€’è¿›æ€§ã€è¿è´¯æ€§ï¼‰</li><li>Displays consistent facility in the use of language, demonstrating syntactic variety, appropriate word choice, and idiomaticity, though it may have minor lexical or grammatical errors.</li></ol>]]></content>
    
    
    <categories>
      
      <category>TOEFL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TOEFL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>week5-Grade2-fall</title>
    <link href="/2020/10/19/week5-Grade2-fall/"/>
    <url>/2020/10/19/week5-Grade2-fall/</url>
    
    <content type="html"><![CDATA[<h2 id="ç®—æ³•åˆ†æä¸è®¾è®¡"><a href="#ç®—æ³•åˆ†æä¸è®¾è®¡" class="headerlink" title="ç®—æ³•åˆ†æä¸è®¾è®¡"></a>ç®—æ³•åˆ†æä¸è®¾è®¡</h2><h3 id="1-å¹¶æŸ¥é›†"><a href="#1-å¹¶æŸ¥é›†" class="headerlink" title="1. å¹¶æŸ¥é›†"></a>1. å¹¶æŸ¥é›†</h3><h4 id="1-0-ç­‰ä»·å…³ç³»"><a href="#1-0-ç­‰ä»·å…³ç³»" class="headerlink" title="1.0 ç­‰ä»·å…³ç³»"></a>1.0 ç­‰ä»·å…³ç³»</h4><ul><li><p>è‡ªåæ€§</p><script type="math/tex; mode=display">a \equiv a</script></li><li><p>å¯¹ç§°æ€§</p><script type="math/tex; mode=display">a \equiv b \Rightarrow b \equiv a</script></li><li><p>ä¼ é€’æ€§</p><script type="math/tex; mode=display">a \equiv b, b \equiv c \Rightarrow a \equiv c</script></li><li><p>ç­‰ä»·å…³ç³»å½¢æˆäº†ä¸€ä¸ªåˆ’åˆ†â€”â€”äº’ä¸ç›¸äº¤ã€‚</p></li></ul><h4 id="1-1-åŠ¨æ€ç­‰ä»·å…³ç³»"><a href="#1-1-åŠ¨æ€ç­‰ä»·å…³ç³»" class="headerlink" title="1.1 åŠ¨æ€ç­‰ä»·å…³ç³»"></a>1.1 åŠ¨æ€ç­‰ä»·å…³ç³»</h4><ul><li>åˆ¤æ–­æ˜¯å¦ç­‰ä»·ï¼›</li><li>åˆå¹¶ä¸¤ä¸ªç­‰ä»·å…³ç³»ï¼›</li></ul><h3 id="1-2-Union-Find-çš„æ•°æ®ç»“æ„"><a href="#1-2-Union-Find-çš„æ•°æ®ç»“æ„" class="headerlink" title="1.2 Union-Find çš„æ•°æ®ç»“æ„"></a>1.2 Union-Find çš„æ•°æ®ç»“æ„</h3><ul><li>ä½¿ç”¨ä¸€æ£µæ ‘è¡¨ç¤ºä¸€ä¸ªå­é›†ï¼Œå­é›†ä¸­çš„å…ƒç´ äº’ç›¸ç­‰ä»·ã€‚</li><li>çœŸä¸ªé›†åˆåˆ’åˆ†ç§°ä¸ºäº’ä¸ç›¸äº¤çš„å­é›†ã€‚</li><li>å®ç°ä¸Šï¼š<ul><li>ä½¿ç”¨æ•°ç»„è®°ä½æ¯ä¸ªå…ƒç´ ï¼ˆç»“ç‚¹ï¼‰çš„çˆ¶äº²ç»“ç‚¹ï¼ˆçš„ç¼–å·ï¼‰ã€‚</li><li>æ ‘çš„æ ¹ç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹ä¸º-1ã€‚</li></ul></li></ul><h3 id="1-3-è·¯ç»å‹ç¼©"><a href="#1-3-è·¯ç»å‹ç¼©" class="headerlink" title="1.3 è·¯ç»å‹ç¼©"></a>1.3 è·¯ç»å‹ç¼©</h3><ul><li>æ ‘çš„å½¢çŠ¶è¶ŠçŸ®è¶Šå¥½ï¼›</li><li>åœ¨ä¸€æ¬¡findåˆ°è¿‡ç¨‹ä¸­ï¼Œå°†è·¯å¾„ä¸Šæ‰€æœ‰çš„ç»“ç‚¹ç›´æ¥ä¸æ ¹ç»“ç‚¹ç›¸è¿ï¼›</li><li>cFindèŠ±äº†ä¸¤å€äºfindçš„æ—¶é—´ï¼ˆæ“ä½œï¼‰ï¼›</li></ul><h3 id="wUnion-å’Œ-cFind-å…±åŒä½¿ç”¨çš„å¼€é”€"><a href="#wUnion-å’Œ-cFind-å…±åŒä½¿ç”¨çš„å¼€é”€" class="headerlink" title="wUnion å’Œ cFind å…±åŒä½¿ç”¨çš„å¼€é”€"></a>wUnion å’Œ cFind å…±åŒä½¿ç”¨çš„å¼€é”€</h3><ul><li><p><em>O</em>((<em>n</em>+<em>m</em>)<em>log<sup>\</em>&lt;/sup&gt;(n)*)</p><ul><li><p>worst case;</p></li><li><script type="math/tex; mode=display">H(0)=1</script><script type="math/tex; mode=display">H(i)=2^{H(i-1)}</script><p><em>log<sup>\</em>&lt;/sup&gt;(n)<em> = min{ </em>k<em> | H(</em>k<em>) &gt;= </em>j* }</p></li></ul></li></ul><p>æœ‰å‡ æ¡åˆ†ç•Œçº¿ï¼Œæœ‰å‡ æ¬¡å¼€é”€ã€‚</p><h2 id="è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„"><a href="#è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„" class="headerlink" title="è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„"></a>è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„</h2><h3 id="1-å†…å­˜"><a href="#1-å†…å­˜" class="headerlink" title="1. å†…å­˜"></a>1. å†…å­˜</h3><ul><li>èƒ½å­˜ï¼›</li><li>èƒ½åˆå§‹åŒ–ï¼›</li><li>èƒ½å¤Ÿè¯»å‡ºï¼›</li></ul><h4 id="1-1-RAM"><a href="#1-1-RAM" class="headerlink" title="1.1 RAM"></a>1.1 RAM</h4><ul><li>è¯»å†™éƒ½æ˜¯ç®€å•ä¸”å¿«é€Ÿçš„ï¼›</li><li>ä½†æ˜¯æœ‰æ˜“å¤±æ€§ï¼ˆæ–­ç”µåä¸ä¿å­˜ï¼‰ï¼›</li></ul><h5 id="1-1-1-DRAM"><a href="#1-1-1-DRAM" class="headerlink" title="1.1.1 DRAM"></a>1.1.1 DRAM</h5><ul><li>åŠ¨æ€æŒ‡çš„æ˜¯ï¼šç”µå®¹ä¼šæœ‰æ¼ç”µçš„ç°è±¡ï¼Œéœ€è¦åˆ·æ–°å­˜å‚¨å™¨ä¸­çš„å†…å®¹ï¼Œå› æ­¤è¯»å†™ä¸èƒ½åŒæ—¶è¿›è¡Œï¼›</li><li>æœ‰ç‚¹ï¼šæˆæœ¬ä½ï¼Œé›†æˆåº¦é«˜ï¼›</li><li>ç¼ºç‚¹ï¼šä¸ç¨³å®šï¼Œé€Ÿåº¦æ…¢ï¼›</li><li>ç”¨ä½œä¸»å­˜å‚¨å™¨ï¼›</li></ul><h5 id="1-1-2-SRAM"><a href="#1-1-2-SRAM" class="headerlink" title="1.1.2 SRAM"></a>1.1.2 SRAM</h5><ul><li>ç¼ºç‚¹ï¼šé›†æˆåº¦ä½ï¼Œå ç©ºé—´ï¼›</li><li>ç”¨ä½œCacheï¼›</li></ul><h4 id="1-2-ROM"><a href="#1-2-ROM" class="headerlink" title="1.2 ROM"></a>1.2 ROM</h4><ul><li>åªè¯»å­˜å‚¨å™¨ï¼›</li><li>ä¸éœ€è¦èƒ½é‡æ¥ç»´æŒå­˜å‚¨çš„ä¿¡æ¯ï¼›éæ˜“å¤±ï¼›</li><li>åªèƒ½å†™ä¸€æ¬¡ï¼›é€šè¿‡å‡ºåœºè®¾ç½®æ¥è¿›è¡Œå†™ï¼›</li><li>å®‰å…¨æ€§æ›´å¥½ï¼›</li></ul><h4 id="1-3-PROM"><a href="#1-3-PROM" class="headerlink" title="1.3 PROM"></a>1.3 PROM</h4><ul><li>å¤§æ‰¹é‡ç”Ÿäº§æ—¶ï¼Œæ•ˆç‡æ²¡æœ‰ROMé«˜ï¼›</li><li>å¯ç¼–ç¨‹ROMï¼›</li><li>æ›´åŠ çµæ´»å’Œæ–¹ä¾¿â€”â€”ä¸ªäººä½¿ç”¨ï¼›</li></ul><h4 id="1-4-Read-Mostly-Memory"><a href="#1-4-Read-Mostly-Memory" class="headerlink" title="1.4 Read-Mostly Memory"></a>1.4 Read-Mostly Memory</h4><ul><li>è¯»æ“ä½œè¿œé¢‘ç¹äºå†™æ“ä½œï¼›</li><li>éæ˜“å¤±æ€§å­˜å‚¨ï¼›</li></ul><h5 id="1-4-1-EPROM"><a href="#1-4-1-EPROM" class="headerlink" title="1.4.1 EPROM"></a>1.4.1 EPROM</h5><ul><li>å¯æ“¦é™¤å¯ç¼–ç¨‹åªè¯»å­˜å‚¨å™¨ï¼›</li><li>ç›¸æ¯”äºPROMæ›´è´µï¼Œä½†æ˜¯å¯ä»¥å¤šæ¬¡ä½¿ç”¨ï¼›</li><li>ä¸€æ¬¡æ€§æ“¦é™¤ä¸€æ•´ä¸ªèŠ¯ç‰‡ï¼Œæ“¦é™¤æ—¶é—´20åˆ†é’Ÿï¼›</li></ul><h5 id="1-4-2-EEPROM"><a href="#1-4-2-EEPROM" class="headerlink" title="1.4.2 EEPROM"></a>1.4.2 EEPROM</h5><ul><li>ç”µå¯æ“¦é™¤å¯ç¼–ç¨‹åªè¯»å­˜å‚¨å™¨ï¼›</li><li>æ¯æ¬¡é‡å†™ä¸€ä¸ªå­—èŠ‚ï¼›</li><li>æ¯”EPROMæ›´è´µï¼Œä½†ä¹Ÿæœ‰æ›´ä½çš„é›†æˆåº¦ï¼›</li><li>æ¯æ¬¡å†™æ“ä½œéœ€è¦å‡ ç™¾å¾®ç§’ï¼Œå†™æ“ä½œå¾ˆæ…¢ï¼›</li></ul><h4 id="1-5-Flash-Memory"><a href="#1-5-Flash-Memory" class="headerlink" title="1.5 Flash Memory"></a>1.5 Flash Memory</h4><ul><li>é—ªå­˜ï¼Œç”¨äºUç›˜ã€‚</li><li>åŠŸèƒ½æ€§å’Œç¨³å®šæ€§ä»‹äºEPROMå’ŒEEPROMä¹‹é—´ï¼›</li><li>å’ŒEPROMä¸€æ ·çš„é«˜é›†æˆåº¦ï¼›</li><li>å¯ä»¥åœ¨å—çº§æ“¦é™¤ï¼Œä½†å­—èŠ‚ä¸è¡Œï¼›</li></ul><h4 id="1-6-Refreshing"><a href="#1-6-Refreshing" class="headerlink" title="1.6 Refreshing"></a>1.6 Refreshing</h4><h5 id="é›†ä¸­å¼åˆ·æ–°"><a href="#é›†ä¸­å¼åˆ·æ–°" class="headerlink" title="é›†ä¸­å¼åˆ·æ–°"></a>é›†ä¸­å¼åˆ·æ–°</h5><ul><li>åˆ·æ–°çš„è¿‡ç¨‹ä¸­ä¸èƒ½å¯¹å­˜å‚¨å™¨è¿›è¡Œæ“ä½œï¼›</li><li>åœæ­¢è¯»å†™æ“ä½œï¼Œé›†ä¸­åˆ·æ–°</li></ul><h5 id="éé›†ä¸­å¼åˆ·æ–°"><a href="#éé›†ä¸­å¼åˆ·æ–°" class="headerlink" title="éé›†ä¸­å¼åˆ·æ–°"></a>éé›†ä¸­å¼åˆ·æ–°</h5><ul><li>æ¯æ¬¡å­˜å‚¨å‘¨æœŸéƒ½åˆ·æ–°â€”â€”è¯»å†™å‘¨æœŸä¼šå»¶é•¿ï¼›</li></ul><h5 id="å¼‚æ­¥åˆ·æ–°"><a href="#å¼‚æ­¥åˆ·æ–°" class="headerlink" title="å¼‚æ­¥åˆ·æ–°"></a>å¼‚æ­¥åˆ·æ–°</h5><ul><li>é¿å¼€ç°åœ¨æ­£åœ¨ä½¿ç”¨çš„ä¸€è¡Œï¼Œè‹¥æœ‰ä¸€è¡Œä¸€ç›´éƒ½æ²¡æœ‰åˆ·æ–°ï¼Œå¿«åˆ°64mséƒ½è¦å¼ºåˆ¶åˆ·æ–°ï¼›</li></ul><h4 id="1-7"><a href="#1-7" class="headerlink" title="1.7"></a>1.7</h4><h5 id="1-7-1-ä½æ‰©å±•"><a href="#1-7-1-ä½æ‰©å±•" class="headerlink" title="1.7.1 ä½æ‰©å±•"></a>1.7.1 ä½æ‰©å±•</h5><ul><li>åœ°å€çº¿æ²¡æœ‰å˜æ¢ï¼›</li><li>æ‰©å±•å¯»å€å•å…ƒä¸ªæ•°â€”â€”æ•°æ®çº¿å¢åŠ ï¼›</li><li>ç”¨å…«å—4K<em>1bitçš„èŠ¯ç‰‡æ„æˆ4K\</em>8çš„å†…å­˜</li></ul><h5 id="1-7-2-å¢åŠ å¯»å€å•å…ƒä¸ªæ•°ï¼ˆå­—æ‰©å±•ï¼‰"><a href="#1-7-2-å¢åŠ å¯»å€å•å…ƒä¸ªæ•°ï¼ˆå­—æ‰©å±•ï¼‰" class="headerlink" title="1.7.2 å¢åŠ å¯»å€å•å…ƒä¸ªæ•°ï¼ˆå­—æ‰©å±•ï¼‰"></a>1.7.2 å¢åŠ å¯»å€å•å…ƒä¸ªæ•°ï¼ˆå­—æ‰©å±•ï¼‰</h5><ul><li><p>åœ°å€çº¿å¢åŠ ï¼›ï¼ˆ2å€å¤šä¸€æ ¹ï¼‰</p></li><li><script type="math/tex; mode=display">\lceil log_2(n) \rceil</script></li><li><p>æ•°æ®çº¿ä¸å˜ï¼›</p></li><li><p>ç”¨å››å—16K<em>8bitçš„èŠ¯ç‰‡æ¥æ„æˆ 64K\</em>8bitçš„èŠ¯ç‰‡</p></li></ul><h5 id="1-73-åŒæ—¶æ‰©å±•"><a href="#1-73-åŒæ—¶æ‰©å±•" class="headerlink" title="1.73 åŒæ—¶æ‰©å±•"></a>1.73 åŒæ—¶æ‰©å±•</h5><ul><li>åœ°å€çº¿å¢åŠ ï¼›</li><li>æ•°æ®çº¿å¢åŠ ï¼›</li><li>ç”¨8å—16K<em>4bitçš„èŠ¯ç‰‡æ¥æ„æˆ 64K\</em>8bitçš„èŠ¯ç‰‡</li></ul><h3 id="1-8"><a href="#1-8" class="headerlink" title="1.8"></a>1.8</h3><ul><li>è¡Œåˆ—é€‰æ‹©ï¼šé€‰æ‹©çº¿å‡å°‘ï¼›</li><li>åœ°å€è¯‘ç å™¨ï¼›</li></ul><h3 id="2-Cache"><a href="#2-Cache" class="headerlink" title="2. Cache"></a>2. Cache</h3><h4 id="2-1-How-Cache-Works"><a href="#2-1-How-Cache-Works" class="headerlink" title="2.1 How Cache Works?"></a>2.1 How Cache Works?</h4><ul><li>Check</li><li>Hit</li><li>Miss</li></ul><h4 id="2-2-å±€éƒ¨æ€§åŸç†"><a href="#2-2-å±€éƒ¨æ€§åŸç†" class="headerlink" title="2.2 å±€éƒ¨æ€§åŸç†"></a>2.2 å±€éƒ¨æ€§åŸç†</h4><ul><li>ç©ºé—´å±€éƒ¨æ€§ï¼›</li><li>æ—¶é—´å±€éƒ¨æ€§ï¼›</li></ul><h4 id="2-3-Average-Access-Time"><a href="#2-3-Average-Access-Time" class="headerlink" title="2.3 Average Access Time"></a>2.3 Average Access Time</h4><ul><li><script type="math/tex; mode=display">T_A = p Ã—T_C+(1-p)Ã—(T_C + T_M)</script></li><li><script type="math/tex; mode=display">T_A = T_C + (1-p)Ã—T_M</script></li><li><script type="math/tex; mode=display">T_A < T_Mï¼Œ p>\frac{T_C}{T_M}</script></li></ul><h4 id="2-4-Elements-of-Cache-Design"><a href="#2-4-Elements-of-Cache-Design" class="headerlink" title="2.4 Elements of Cache Design"></a>2.4 Elements of Cache Design</h4><ul><li><p>Cache Size è¶Šå¤§è¶Šå¥½ï¼Ÿ</p><ul><li>ä¸æ˜¯ï¼Œå˜å¥½çš„å¹…åº¦ä¼šè¶Šæ¥è¶Šå°ã€‚â€œå±€éƒ¨æ€§â€ï¼Œå¹¶ä¸ä¼šç‰µæ‰¯åˆ°å¤ªå¤§çš„èŒƒå›´ï¼Œå¹¶ä¸”å—è¶Šå¤§å—å†…å¯»æ‰¾çš„æˆæœ¬å°±ä¼šè¶Šé«˜ã€‚å—å¤ªå¤§äº†ä¹‹åï¼Œå¸¦æ¥çš„æ•°æ®æ˜¯å±€éƒ¨æ€§æ¯”è¾ƒå·®çš„ã€æ¯”è¾ƒè€çš„æ•°æ®ã€‚</li></ul></li><li><p>Mapping Function</p><ul><li>Cache line</li><li>ç›´æ¥æ˜ å°„ Direct Mapping<ul><li>åœ°å€ = Tag + è¡Œå· + å—å†…åœ°å€ï¼›<ul><li>å…ˆæ ¹æ®è¡Œå·æ‰¾åˆ°Cacheå¯¹åº”çš„è¡Œï¼Œç„¶åæ¯”å¯¹tagï¼Œè‹¥ä¸ç›¸åŒåˆ™missï¼Œå¦åˆ™æ ¹æ®å—å†…åœ°å€é€‰æ‹©å¯¹åº”çš„å­—èŠ‚ã€‚è‹¥missï¼Œæ ¹æ®tag+è¡Œå·æ‰¾åˆ°ä¸»å­˜å‚¨å™¨ä¸­çš„å†…å®¹ï¼ˆä½å‡ ä½ï¼‰ç›¸åŒï¼Œå°†å†…å®¹æ”¾å…¥cacheå¹¶ä¸”é‡å†™tagï¼Œå°†æ”¾å…¥å†…å®¹ï¼ˆæ ¹æ®å—å†…åœ°å€æŸ¥æ‰¾ï¼‰é€å…¥cpuã€‚</li></ul></li><li>æ¯ä¸ªå—åªèƒ½å­˜å…¥ä¸€ä¸ªåœ°æ–¹ã€‚æŸ¥æ‰¾å¾ˆå¿«ã€‚æ˜ å°„çš„æ—¶å€™ä¹Ÿå¾ˆå¿«ï¼Œæ¯ä¸ªå—åªæœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥å»ã€‚æ¢çš„ä¹Ÿå¿«ã€‚</li><li>ç¼ºç‚¹ï¼šå¾ˆå®¹æ˜“å¼•èµ·â€œæŠ–åŠ¨ï¼ˆThrashingï¼‰â€ã€‚Cacheå°çš„æ—¶å€™å®¹æ˜“å¼•èµ·æŠ–åŠ¨ã€‚æ¢ä¸€ä¸ªï¼ˆå¾ˆå®¹æ˜“å‡ºç°è¿™ä¸ªæƒ…å†µï¼‰å°±ä¼šæ¢ä¸€æ•´ä¸ªå—ã€‚</li></ul></li><li>å…³è”æ˜ å°„ Associative Mapping<ul><li>åœ°å€ = Tag + å—å†…åœ°å€ï¼›</li><li>æ ¹æ®tagå¯»æ‰¾ï¼ˆéå†ï¼‰</li><li>é¿å…äº†æŠ–åŠ¨ï¼Œä½†æ˜¯å®ç°ç›¸å¯¹å¤æ‚ï¼Œå¯»æ‰¾çš„æˆæœ¬æ¯”è¾ƒé«˜ã€‚</li></ul></li><li>ç›´æ¥æ˜ å°„é€‚åˆå¤§å®¹é‡cacheï¼Œå…³è”æ˜ å°„é€‚åˆå°çš„ï¼›<ul><li>å¤§å®¹é‡cacheä¸å®¹æ˜“å‡ºç°æŠ–åŠ¨ã€‚</li><li>ç›´æ¥æ˜ å°„æŸ¥æ‰¾å¿«ï¼Œå¤§cacheå½±å“å°ï¼›å…³è”æ˜ å°„éå†æŸ¥æ‰¾ï¼Œå°cacheæ•ˆç‡æ›´é«˜ã€‚</li></ul></li><li>ç»„å…³è” Set Associative Mapping<ul><li>è¡Œçš„å¤§å°å’Œå—çš„å¤§å°ä¸€æ ·å¤§ã€‚</li><li>ä¼˜ç‚¹ï¼šåœ¨å›ºå®šçš„ç»„é‡Œè¿›è¡Œæ“ä½œï¼›</li></ul></li><li>ç›¸å…³æ€§ï¼š<ul><li>ç›´æ¥å…³è”ï¼š1ï¼›</li><li>å…³è”æ˜ å°„ï¼šCï¼›</li><li>ç»„å…³è”ï¼šKï¼›</li><li>ç›¸å…³æ€§è¶Šä½ï¼Œå‘½ä¸­ç‡è¶Šä½ï¼Œcacheè¶ŠçŸ­ã€‚</li></ul></li></ul></li></ul><h4 id="æ›¿æ¢ç®—æ³•"><a href="#æ›¿æ¢ç®—æ³•" class="headerlink" title="æ›¿æ¢ç®—æ³•"></a>æ›¿æ¢ç®—æ³•</h4><ul><li>LRU æœ€è¿‘æœ€å°‘ç”¨ç®—æ³•ï¼›</li><li>FIFO å…ˆè¿›å…ˆå‡ºï¼›</li><li>LFU ä½¿ç”¨é¢‘ç‡æœ€å°‘ï¼›</li><li>Random éšæœºã€‚</li></ul><h4 id="å†™ç­–ç•¥"><a href="#å†™ç­–ç•¥" class="headerlink" title="å†™ç­–ç•¥"></a>å†™ç­–ç•¥</h4><ul><li><p>Write Through</p><ul><li>æ›¿æ¢çš„æ—¶å€™åŒæ—¶å†™ä¸»å­˜å’ŒCacheï¼›</li><li>ä¸€æ”¹å°±è¦è®¿é—®ä¸»å­˜ï¼›</li><li>æé«˜äº†cacheå’Œä¸»å­˜çš„ä¸€è‡´æ€§ï¼›</li></ul></li><li><p>Write Back</p><ul><li>åªä¿®æ”¹Cacheã€‚å½“å—è¢«æ›¿æ¢çš„æ—¶å€™ï¼›</li><li>éœ€è¦ä¸€ä¸ªè„ä½æ¥è¡¨ç¤ºè¿™ä¸€ä¸ªå—æ˜¯å¦è¢«è°ƒæ•´è¿‡ï¼›å¦‚æœæ˜¯1å°±å†™å›å»ï¼Œå¦‚æœæ˜¯0å°±æ›¿æ¢æ‰ï¼›</li><li>ä¼˜ç‚¹ï¼šå‡å°‘å¯¹ä¸»å­˜çš„æ“ä½œåˆ°æœ€å°çš„ç¨‹åº¦ï¼›</li></ul></li></ul><h4 id="è¡Œçš„å¤§å°"><a href="#è¡Œçš„å¤§å°" class="headerlink" title="è¡Œçš„å¤§å°"></a>è¡Œçš„å¤§å°</h4><p>è¡Œçš„å¤§å°ä¼šå½±å“Cacheçš„å‘½ä¸­ç‡ï¼›å—å¤ªå°ï¼Œä¸€æ¬¡æ€§æ‹¿è¿›æ¥çš„ä¸œè¥¿å¤ªå°‘ï¼Œå—å¤ªå¤§ï¼Œæ‹¿è¿›æ¥æ²¡ç”¨çš„ä¸œè¥¿å¤ªå¤šï¼Œå‡å°‘è¡Œæ•°ä¼šé€ æˆæ›´æ¢è¿‡äºé¢‘ç¹ã€‚</p><h4 id="å¤šçº§Cache"><a href="#å¤šçº§Cache" class="headerlink" title="å¤šçº§Cache"></a>å¤šçº§Cache</h4>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>å¹¶æŸ¥é›†</tag>
      
      <tag>å†…å­˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>brief-introduction-of-VM</title>
    <link href="/2020/10/16/brief-introduction-of-VM/"/>
    <url>/2020/10/16/brief-introduction-of-VM/</url>
    
    <content type="html"><![CDATA[<h1 id="Brief-Introduction-of-VM"><a href="#Brief-Introduction-of-VM" class="headerlink" title="Brief Introduction of VM"></a>Brief Introduction of VM</h1><h2 id="1-è™šæ‹Ÿæœºç®€ä»‹"><a href="#1-è™šæ‹Ÿæœºç®€ä»‹" class="headerlink" title="1. è™šæ‹Ÿæœºç®€ä»‹"></a>1. è™šæ‹Ÿæœºç®€ä»‹</h2><p>è™šæ‹Ÿæœºæ˜¯ä¸€ä¸ªè®¡ç®—ç³»ç»Ÿã€‚è®¡ç®—ç³»ç»Ÿçš„æœ€ç»ˆç›®æ ‡æ˜¯æ‰§è¡Œé¢„å…ˆç¼–ç¨‹çš„é€»è¾‘ã€‚</p><h3 id="1-1-è™šæ‹Ÿæœºç±»å‹"><a href="#1-1-è™šæ‹Ÿæœºç±»å‹" class="headerlink" title="1.1 è™šæ‹Ÿæœºç±»å‹"></a>1.1 è™šæ‹Ÿæœºç±»å‹</h3><ul><li>1âƒ£ï¸ <strong>å®Œæ•´æŒ‡ä»¤é›†æ¶æ„ï¼ˆISAï¼‰è™šæ‹Ÿæœº</strong>ï¼Œæä¾›<strong>å®Œæ•´çš„è®¡ç®—æœºç³»ç»ŸISAæ¨¡æ‹Ÿæˆ–è™šæ‹ŸåŒ–</strong>ã€‚ï¼ˆä¾‹å¦‚VitualBoxã€QEMUç­‰ç­‰ï¼‰</li><li>2âƒ£ï¸ <strong>åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ï¼ˆABIï¼‰è™šæ‹Ÿæœº</strong>ï¼Œ<strong>æä¾›å®¢æˆ·è¿›ç¨‹ABIæ¨¡æ‹Ÿ</strong>ã€‚</li><li>3âƒ£ï¸ <strong>è™šæ‹ŸISAè™šæ‹Ÿæœº</strong>ï¼Œæä¾›ä¸€ä¸ªè¿è¡Œæ—¶å¼•æ“ï¼Œä»¥ä¾¿è™šæ‹ŸISAç¼–ç çš„åº”ç”¨ç¨‹åºåœ¨å…¶ä¸Šæ‰§è¡Œã€‚è™šæ‹ŸISAé€šå¸¸å®šä¹‰äº†ä¸€å¥—é«˜å±‚çš„ã€è§„æ¨¡æœ‰é™çš„ISAè¯­ä¹‰ï¼Œæ‰€ä»¥ä¸éœ€è¦è™šæ‹Ÿæœºæ¨¡æ‹Ÿå®Œæ•´çš„è®¡ç®—æœºç³»ç»Ÿã€‚ï¼ˆä¾‹å¦‚JVMç­‰ç­‰ï¼‰</li><li>4âƒ£ï¸ <strong>è¯­è¨€è™šæ‹Ÿæœº</strong>ï¼Œæä¾›ä¸€ä¸ªè¿è¡Œæ—¶å¼•æ“æ¥æ‰§è¡Œä»¥å®¢æˆ·è¯­è¨€ç¼–å†™çš„ç¨‹åºã€‚ç¨‹åºé€šå¸¸ä»¥æºç å½¢å¼æä¾›ç»™è™šæ‹Ÿæœºï¼Œå¹¶æ²¡æœ‰é¢„å…ˆå®Œæˆç¼–è¯‘ä¸ºæœºå™¨ç ã€‚è¿è¡Œæ—¶å¼•æ“éœ€è¦è§£é‡Šæˆ–ç¿»è¯‘ç¨‹åºç­‰ã€‚ï¼ˆä¾‹å¦‚Lispã€Rubyçš„è¿è¡Œæ—¶å¼•æ“ï¼‰</li></ul><p>å‰ä¸¤ç§è™šæ‹Ÿæœºæœ‰æ—¶è¢«ç§°ä¸ºâ€œæ¨¡æ‹Ÿå™¨â€ã€‚å¦å¤–ä¸¤ç§è™šæ‹Ÿæœºæ˜¯è¯­è¨€è¿è¡Œæ—¶å¼•æ“ã€‚</p><h3 id="1-2-ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœº"><a href="#1-2-ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœº" class="headerlink" title="1.2 ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœº"></a>1.2 ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœº</h3><ul><li><p>è™šæ‹Ÿæœºæ”¹å–„äº†ï¼ˆè®¡ç®—æœºï¼‰å®‰å…¨æ€§ã€ï¼ˆç¨‹åºï¼‰æ•ˆç‡å’Œï¼ˆåº”ç”¨ç¨‹åºï¼‰å¯ç§»æ¤æ€§ã€‚</p></li><li><p>å¯¹äºå®‰å…¨è¯­è¨€ï¼ˆæä¾›äº†å†…å­˜å®‰å…¨ã€è¿ç®—å®‰å…¨å’Œæ§åˆ¶å®‰å…¨ç‰¹æ€§ï¼‰ï¼Œè™šæ‹Ÿæœºä¸Šå¿…è¦çš„ã€‚é€šè¿‡å®‰å…¨è¯­è¨€ï¼Œèƒ½å°½æ—©å®‰å…¨åœ°æ•è·ç¨‹åºbugæˆ–è¿è¡Œé”™è¯¯ã€‚</p><ul><li>å†…å­˜å®‰å…¨ï¼šç¡®ä¿å†…å­˜ä¸­æŸç±»å‹çš„æ•°æ®æ€»æ˜¯éµå¾ªå¯¹è¿™ç§ç±»å‹çš„é™åˆ¶ã€‚</li><li>è¿ç®—å®‰å…¨ï¼šç¡®ä¿å¯¹æŸç§ç±»å‹æ•°æ®çš„è¿ç®—æ€»æ˜¯éµå¾ªå¯¹è¿™ç§ç±»å‹çš„é™åˆ¶ã€‚</li><li>æ§åˆ¶å®‰å…¨ï¼šç¡®ä¿ä»£ç æ‰§è¡Œæµæ—¢ä¸ä¼šå¡ä½ä¹Ÿä¸ä¼šè·‘é£ã€‚</li></ul><p>å®‰å…¨è¯­è¨€æœ¬èº«å¹¶ä¸èƒ½æ»¡è¶³æ‰€æœ‰çš„å®‰å…¨éœ€æ±‚ã€‚ï¼ˆä¾‹å¦‚ï¼Œç¨‹åºéœ€è¦è™šæ‹Ÿæœºä¸ºå®ƒåˆ†é…ä¸€å—å¸¦æœ‰ç±»å‹çš„å†…å­˜ï¼Œä¾‹å¦‚æŸç§ç±»å‹çš„å¯¹è±¡ï¼‰å¦‚æœæ²¡æœ‰è™šæ‹Ÿæœºï¼Œå®‰å…¨è¯­è¨€å¿…é¡»å¼•å…¥éå®‰å…¨çš„æ“ä½œæ”¯æŒã€‚</p></li><li><p>è™šæ‹Ÿæœºä¸ºå®‰å…¨è¯­è¨€çš„ä»£ç å’Œæ•°æ®æä¾›â€œæ‰˜ç®¡â€ã€‚</p></li><li><p>å› ä¸ºå®‰å…¨è¯­è¨€èƒ½åœ¨ç¼–è¯‘æ—¶æˆ–è¿è¡Œæ—¶å°½æ—©å®‰å…¨åœ°æ•è·ç¨‹åºä¸­çš„BUGã€‚å› æ­¤ï¼Œæé«˜äº†å¼€å‘è€…çš„ç”Ÿäº§ç‡ã€‚</p></li></ul><h3 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h3><ul><li>åº”ç”¨ç¨‹åºæä¾›ç»™JVMä¹‹åï¼Œ<strong>JVMçš„ç±»åŠ è½½å™¨åŠ è½½å¹¶è§£æåˆå§‹ç±»æ–‡ä»¶ï¼Œç„¶åæŠŠé¡¹ç›®æ”¾åœ¨å†…å­˜ä¸­ç›¸åº”çš„æ•°æ®ç»“æ„ä¸­ã€‚æ¥ä¸‹æ¥ï¼ŒJVMæŠŠæ‰€æœ‰çš„ç¬¦å·é¥®ç”¨è§£æåˆ°ç›´æ¥å¼•ç”¨çš„å†…å­˜åœ°å€ã€‚ç±»åˆå§‹åŒ–ä¹‹åï¼ˆå³è°ƒç”¨åˆå§‹åŒ–å™¨ä¹‹åï¼‰ï¼ŒJVMè°ƒç”¨åˆå§‹ç±»çš„main()æ–¹æ³•æ¥æ‰§è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºã€‚</strong></li></ul><h2 id="JVMè°ƒè¯•â€”â€”OpenJDKçš„å®‰è£…ä»¥åŠClioné…åˆä½¿ç”¨"><a href="#JVMè°ƒè¯•â€”â€”OpenJDKçš„å®‰è£…ä»¥åŠClioné…åˆä½¿ç”¨" class="headerlink" title="JVMè°ƒè¯•â€”â€”OpenJDKçš„å®‰è£…ä»¥åŠClioné…åˆä½¿ç”¨"></a>JVMè°ƒè¯•â€”â€”OpenJDKçš„å®‰è£…ä»¥åŠClioné…åˆä½¿ç”¨</h2><p>ä¸»è¦å‚è€ƒçš„blogæœ‰ï¼š</p><ul><li><a href="https://jishuin.proginn.com/p/763bfbd28c57">åœ¨MacOSç³»ç»Ÿä¸Šç¼–è¯‘OpenJDK12å¹¶ä½¿ç”¨CLionè°ƒè¯•</a></li><li><a href="https://blog.csdn.net/zy353003874/article/details/107555072">è´¹å°½ä¹ç‰›äºŒè™ä¹‹åŠ›ï¼Œç»ˆäºæˆ‘æˆåŠŸç¼–è¯‘å¹¶è°ƒè¯•äº†JVM</a></li><li><a href="https://www.jianshu.com/p/ee7e9176632c">macä¸‹ç¼–è¯‘openjdk1.9åŠé›†æˆclionåŠ¨æ€è°ƒè¯•</a></li><li><a href="https://blog.jetbrains.com/clion/2020/03/openjdk-with-clion/">Clionå®˜æ–¹æ‰‹å†Œï¼šDevelop OpenJDK in CLion with Pleasure</a></li></ul><p>ä¸‹é¢è¦è¿›å…¥çœŸæ­£çš„å­¦ä¹ äº†( Â´â–½` )ï¾‰</p>]]></content>
    
    
    <categories>
      
      <category>VM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>week4_Grade2_fall</title>
    <link href="/2020/10/16/week4-Grade2-fall/"/>
    <url>/2020/10/16/week4-Grade2-fall/</url>
    
    <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„"><a href="#è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„" class="headerlink" title="è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„"></a>è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„</h2><h3 id="1-ç¼–ç¨‹ä½œä¸šåˆ†æã€å°½å¯èƒ½ä¸ä½¿ç”¨APIã€‘"><a href="#1-ç¼–ç¨‹ä½œä¸šåˆ†æã€å°½å¯èƒ½ä¸ä½¿ç”¨APIã€‘" class="headerlink" title="1. ç¼–ç¨‹ä½œä¸šåˆ†æã€å°½å¯èƒ½ä¸ä½¿ç”¨APIã€‘"></a>1. ç¼–ç¨‹ä½œä¸šåˆ†æã€å°½å¯èƒ½ä¸ä½¿ç”¨APIã€‘</h3><h4 id="1-1-æ•´æ•°intè½¬åŒ–ä¸ºäºŒè¿›åˆ¶å½¢å¼"><a href="#1-1-æ•´æ•°intè½¬åŒ–ä¸ºäºŒè¿›åˆ¶å½¢å¼" class="headerlink" title="1.1 æ•´æ•°intè½¬åŒ–ä¸ºäºŒè¿›åˆ¶å½¢å¼"></a>1.1 æ•´æ•°intè½¬åŒ–ä¸ºäºŒè¿›åˆ¶å½¢å¼</h4><ul><li>æ•´æ•°æœ‰32ä½ï¼Œå…¶ä¸­ç¬¬ä¸€ä½ï¼ˆæœ€å·¦ä½ï¼‰ä½ç¬¦å·ä½ã€‚</li><li>è´Ÿæ•°çš„ç¬¦å·ä½ä¸ºâ€œ1â€ï¼Œä¸ç›¸å¯¹åº”çš„æ­£æ•°ä¹‹é—´çš„å…³ç³»ä¸ºâ€œå–ååŠ ä¸€â€ã€‚</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">intToBinary</span><span class="hljs-params">(String numStr)</span> </span>&#123;  <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span></span>  <span class="hljs-keyword">int</span> num = Integer.parseInt(numStr);  <span class="hljs-keyword">int</span> sign = <span class="hljs-number">0</span>;  <span class="hljs-keyword">if</span>(num &lt; <span class="hljs-number">0</span>)&#123;    sign = <span class="hljs-number">1</span>;    num = -num;  &#125;  <span class="hljs-keyword">char</span>[] binaryStr = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[<span class="hljs-number">32</span>];  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">31</span>; i&gt;=<span class="hljs-number">0</span>; i--)&#123;    <span class="hljs-keyword">if</span>(num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)&#123;      binaryStr[i] = <span class="hljs-string">&#x27;0&#x27;</span>;    &#125; <span class="hljs-keyword">else</span> &#123;      binaryStr[i] = <span class="hljs-string">&#x27;1&#x27;</span>;    &#125;    num /= <span class="hljs-number">2</span>;  &#125;  <span class="hljs-comment">//deal with negative numbers</span>  <span class="hljs-keyword">if</span>(sign == <span class="hljs-number">1</span>)&#123;    <span class="hljs-keyword">int</span> index = <span class="hljs-number">31</span>;    <span class="hljs-keyword">int</span> flg = <span class="hljs-number">0</span>;    <span class="hljs-keyword">for</span>(; index&gt;=<span class="hljs-number">0</span>; index--)&#123;      <span class="hljs-keyword">if</span> (flg == <span class="hljs-number">1</span>)&#123;        binaryStr[index] = (binaryStr[index]==<span class="hljs-string">&#x27;1&#x27;</span>)? <span class="hljs-string">&#x27;0&#x27;</span>:<span class="hljs-string">&#x27;1&#x27;</span>;      &#125;      <span class="hljs-keyword">if</span>(binaryStr[index]==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;        flg = <span class="hljs-number">1</span>;      &#125;    &#125;  &#125;  <span class="hljs-keyword">return</span> String.valueOf(binaryStr);&#125;</code></pre><p>â€‹       ä»¥ä¸Šçš„æ“ä½œæ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯æŠŠæ•´æ•°å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œå†è¿›è¡Œâ€œé™¤äºŒå–ä½™â€çš„æ“ä½œã€‚ç‰¹åˆ«çš„ï¼Œå¯¹äºè´Ÿæ•°å†è¿›è¡Œä¸€æ¬¡â€œå–ååŠ ä¸€â€çš„æ“ä½œã€‚è¿™é‡Œæ²¡æœ‰ç›´æ¥ç”¨å–åæ“ä½œç¬¦ï¼Œè€Œæ˜¯ä½¿ç”¨äº†<strong>â€œä»æœ«å°¾çš„0èµ·åˆ°ç¬¬ä¸€ä¸ª1ä¸å˜ï¼Œä¸‹ä¸€ä½åˆ°èµ·å§‹å¤„å–åâ€</strong>çš„æ“ä½œã€‚</p><h4 id="1-2-äºŒè¿›åˆ¶å½¢å¼è½¬åŒ–ä¸ºæ•´æ•°int"><a href="#1-2-äºŒè¿›åˆ¶å½¢å¼è½¬åŒ–ä¸ºæ•´æ•°int" class="headerlink" title="1.2 äºŒè¿›åˆ¶å½¢å¼è½¬åŒ–ä¸ºæ•´æ•°int"></a>1.2 äºŒè¿›åˆ¶å½¢å¼è½¬åŒ–ä¸ºæ•´æ•°int</h4><ul><li>ä¸ä¸Šé¢çš„æ“ä½œç›¸å¯¹åº”ã€‚</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">binaryToInt</span><span class="hljs-params">(String binStr)</span> </span>&#123;  <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span></span>  <span class="hljs-keyword">char</span>[] bits = binStr.toCharArray();  <span class="hljs-keyword">char</span> sign = bits[<span class="hljs-number">0</span>];  <span class="hljs-keyword">if</span>(sign == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;    <span class="hljs-keyword">int</span> index = <span class="hljs-number">31</span>;    <span class="hljs-keyword">int</span> flg = <span class="hljs-number">0</span>;    <span class="hljs-keyword">for</span>(; index&gt;=<span class="hljs-number">0</span>; index--)&#123;      <span class="hljs-keyword">if</span> (flg == <span class="hljs-number">1</span>)&#123;        bits[index] = (bits[index]==<span class="hljs-string">&#x27;1&#x27;</span>)? <span class="hljs-string">&#x27;0&#x27;</span>:<span class="hljs-string">&#x27;1&#x27;</span>;      &#125;      <span class="hljs-keyword">if</span>(bits[index]==<span class="hljs-string">&#x27;1&#x27;</span>)&#123;        flg = <span class="hljs-number">1</span>;      &#125;    &#125;  &#125;  <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;  <span class="hljs-keyword">int</span> num = <span class="hljs-number">1</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">31</span>; i&gt;=<span class="hljs-number">0</span>; i--)&#123;    <span class="hljs-keyword">if</span>(bits[i] == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;      ans += num;    &#125;    num &lt;&lt;= <span class="hljs-number">1</span>;  &#125;  <span class="hljs-keyword">if</span>(sign == <span class="hljs-string">&#x27;1&#x27;</span>) ans = -ans;  <span class="hljs-keyword">return</span> String.valueOf(ans);&#125;</code></pre><p>â€‹       å¯¹1.1ä¸­çš„æ“ä½œè¿›è¡Œé€†æ“çºµï¼Œå…ˆå¯¹è´Ÿæ•°å–ååŠ ä¸€ã€‚ç„¶åæ ¹æ®</p><script type="math/tex; mode=display">S = \sum_{i=0}^{n}2^iÃ—s</script><p>æ±‚å¾—intçš„ç»å¯¹å€¼ï¼Œåœ¨æœ€åæ ¹æ®ç¬¦å·ä½è¡¥ä¸Šç¬¦å·ã€‚</p><h4 id="1-3-æµ®ç‚¹æ•°è½¬äºŒè¿›åˆ¶ã€æœ€éº»çƒ¦çš„éƒ¨åˆ†ã€‘"><a href="#1-3-æµ®ç‚¹æ•°è½¬äºŒè¿›åˆ¶ã€æœ€éº»çƒ¦çš„éƒ¨åˆ†ã€‘" class="headerlink" title="1.3 æµ®ç‚¹æ•°è½¬äºŒè¿›åˆ¶ã€æœ€éº»çƒ¦çš„éƒ¨åˆ†ã€‘"></a>1.3 æµ®ç‚¹æ•°è½¬äºŒè¿›åˆ¶ã€æœ€éº»çƒ¦çš„éƒ¨åˆ†ã€‘</h4><ul><li>æµ®ç‚¹æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºæœ‰ä¸‰ä¸ªéƒ¨åˆ†â€”â€”ç¬¦å·ï¼ˆsignï¼‰ã€é˜¶ç ï¼ˆexponentï¼‰ã€å°¾æ•°ï¼ˆfractionï¼‰</li><li>æµ®ç‚¹æ•°æœ‰è§„æ ¼åŒ–å’Œéè§„æ ¼åŒ–ä¹‹åˆ†ï¼›</li><li>åœ¨ç¼–å†™çš„è¿‡ç¨‹ä¸­æœ€å¥½å‚è€ƒè¡¨æ ¼ï¼š</li><li><img src="/img/æµ®ç‚¹æ•°è§£é‡Š.png" alt=""></li><li>ç›¸ä¿¡æœ‰æ›´å¥½çš„å†™æ³•ï¼</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">floatToBinary</span><span class="hljs-params">(String floatStr)</span> </span>&#123;  <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span></span>  String sign = <span class="hljs-string">&quot;0&quot;</span>;  String expStr;  String fracStr;  <span class="hljs-keyword">int</span> exponent = <span class="hljs-number">127</span>;  <span class="hljs-keyword">float</span> num = Float.parseFloat(floatStr);  <span class="hljs-keyword">if</span>(num &lt; <span class="hljs-number">0</span>)&#123;    sign = <span class="hljs-string">&quot;1&quot;</span>;    num = -num;  &#125;  <span class="hljs-keyword">while</span> (num-<span class="hljs-number">2</span> &gt; <span class="hljs-number">0</span>)&#123;    num /= <span class="hljs-number">2</span>;    exponent++;    <span class="hljs-keyword">if</span>(exponent == <span class="hljs-number">255</span>) <span class="hljs-keyword">break</span>;  &#125;  <span class="hljs-keyword">while</span> (num-<span class="hljs-number">1</span> &lt; <span class="hljs-number">0</span>)&#123;    num *= <span class="hljs-number">2</span>;    exponent--;    <span class="hljs-keyword">if</span>(exponent &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;  &#125;    <span class="hljs-keyword">if</span>(exponent &lt; <span class="hljs-number">1</span>)&#123;    expStr = <span class="hljs-string">&quot;00000000&quot;</span>;  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exponent == <span class="hljs-number">255</span>)&#123;    expStr = <span class="hljs-string">&quot;11111111&quot;</span>;  &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-keyword">int</span> expTmp = exponent;    StringBuilder expBuilder = <span class="hljs-keyword">new</span> StringBuilder();    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">8</span>; i++)&#123;      <span class="hljs-keyword">if</span>(expTmp % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>)&#123;        expBuilder.insert(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;1&quot;</span>);      &#125; <span class="hljs-keyword">else</span> &#123;        expBuilder.insert(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;0&quot;</span>);      &#125;      expTmp /= <span class="hljs-number">2</span>;    &#125;    expStr = expBuilder.toString();  &#125;  <span class="hljs-keyword">double</span> f = num - <span class="hljs-number">1</span>;  StringBuilder fracBuilder = <span class="hljs-keyword">new</span> StringBuilder();  <span class="hljs-keyword">if</span>(exponent == <span class="hljs-number">255</span>)&#123;    fracBuilder.append(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>);  &#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-keyword">if</span>(exponent == <span class="hljs-number">0</span>)&#123;      f = num / <span class="hljs-number">2</span>;    &#125;    <span class="hljs-keyword">while</span> (f &gt; <span class="hljs-number">0</span>)&#123;      f *= <span class="hljs-number">2</span>;      <span class="hljs-keyword">if</span>(f &gt;= <span class="hljs-number">1</span>)&#123;        fracBuilder.append(<span class="hljs-string">&quot;1&quot;</span>);        f -= <span class="hljs-number">1</span>;      &#125; <span class="hljs-keyword">else</span> &#123;        fracBuilder.append(<span class="hljs-string">&quot;0&quot;</span>);      &#125;    &#125;    <span class="hljs-keyword">int</span> pending = <span class="hljs-number">23</span>-fracBuilder.length();    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;pending; i++)&#123;      fracBuilder.append(<span class="hljs-string">&quot;0&quot;</span>);    &#125;  &#125;  fracStr = fracBuilder.toString();  String ans = sign + expStr + fracStr;  <span class="hljs-comment">//ä¸‹é¢å‡ è¡Œæœ‰ç‚¹å¥‡æ€ªï¼Œè²Œä¼¼æ˜¯ä¸ºäº†è¿‡ojè€ŒåŠ å…¥çš„ï¼Œå®é™…ä¸Šä¸åº”è¯¥å­˜åœ¨ã€‚</span>  <span class="hljs-keyword">if</span>(ans.equals(<span class="hljs-string">&quot;01111111100000000000000000000000&quot;</span>))&#123;    ans = <span class="hljs-string">&quot;+Inf&quot;</span>;  &#125;  <span class="hljs-keyword">if</span>(ans.equals(<span class="hljs-string">&quot;11111111100000000000000000000000&quot;</span>))&#123;    ans = <span class="hljs-string">&quot;-Inf&quot;</span>;  &#125;  <span class="hljs-keyword">return</span> ans;&#125;</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­å¯ä»¥çœ‹åˆ°è®¸å¤šçš„ç‰¹åˆ¤ï¼ˆè´Ÿæ•°ã€æ— ç©·ã€æº¢å‡ºç­‰ç­‰ï¼‰ã€‚å¹¶ä¸”ç”¨åˆ°äº†è®¸å¤šæµ®ç‚¹æ•°æ¯”è¾ƒï¼ˆè¿™æ˜¯ä¸å¥½çš„ä¹ æƒ¯ï¼Œä½†æ˜¯ä¸å¾—å·²è€Œä¸ºä¹‹ï¼‰ã€‚</p><p>ä¸»è¦æ€è·¯æ˜¯ï¼š</p><p>1âƒ£ï¸ é¦–å…ˆå°†è´Ÿæ•°çš„ç¬¦å·ä½è®¾ç½®å¥½ï¼Œå¹¶å–å®ƒçš„ç»å¯¹å€¼ã€‚</p><p>2âƒ£ï¸ ä»¥è§„æ ¼åŒ–æµ®ç‚¹æ•°ä¸ºç•Œé™ï¼Œå°†<strong>æ•´æ•°éƒ¨åˆ†å¤§äºç­‰äº2ï¼ˆå³ä¸æ˜¯1çš„ï¼‰</strong>å’Œ<strong>æ•´æ•°éƒ¨åˆ†å°äº1ï¼ˆå³ä¹Ÿä¸æ˜¯1çš„ï¼Œè€Œæ˜¯0çš„ï¼‰</strong>çš„è¿›è¡Œè§„çº¦ã€‚åœ¨è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé˜¶ç æ˜¯æœ‰ä¸Šä¸‹ç•Œé™çš„ï¼Œä¸€æ—¦è¾¾åˆ°255æˆ–0ï¼Œéœ€è¦ç»ˆæ­¢å¾ªç¯ï¼Œè¿™ä¸ªæ—¶å€™å¾—åˆ°çš„æ•°å€¼å¾ˆå¯èƒ½æ˜¯ã€æ— ç©·ã€‘ã€ã€0ã€‘ã€ã€éè§„æ ¼åŒ–æµ®ç‚¹æ•°ã€‘ç­‰ç­‰ã€‚</p><p>3âƒ£ï¸ ç®—é˜¶ç éƒ¨åˆ†ï¼šå¦‚æœé˜¶ç =0ç›´æ¥ç½®ä¸ºâ€œ00000000â€ï¼Œé˜¶ç ä¸º255ç›´æ¥ç½®ä¸ºâ€œ11111111â€ï¼Œå…¶ä½™çš„æŒ‰ç…§è½¬æ¢ä¸ºæ— ç¬¦å·æ•´æ•°çš„æ–¹æ³•ç›´æ¥è½¬åŒ–ã€‚</p><p>4âƒ£ï¸ è§„çº¦ç»“æŸï¼Œå–æµ®ç‚¹æ•°çš„å°æ•°éƒ¨åˆ†ã€‚åœ¨è¿™é‡Œéœ€è¦æ³¨æ„ï¼æœ‰ä¸€ä¸ªå‘ï¼šå¯¹äº2<sup>-127</sup>æ¥è¯´ï¼Œå®ƒæ˜¯éè§„æ ¼åŒ–çš„ï¼Œéœ€è¦ç”¨ 2<sup>-126</sup>Ã—0.5æ¥è¡¨ç¤ºã€‚<em>ã€å¯¹äºå…¶ä»–çš„éè§„æ ¼åŒ–æ•°ä¹ŸåŒæ ·å¦‚æ­¤ï¼Œå› ä¸º-126çš„ç¼˜æ•…ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢ä¸€æ­¥ä¸­çš„è§„çº¦å¯¹äºéè§„æ ¼åŒ–æ•°å…¶å®æ˜¯å¤šä¹˜æ¥ä¸€ä¸ª2ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä½¿éè§„æ ¼åŒ–æ•°å’Œè§„æ ¼åŒ–æ•°èƒ½å¤Ÿå¹³æ»‘è¿‡åº¦ã€‘</em>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç‰¹åˆ¤ï¼Œå¦‚æœé˜¶ç ä¸º0ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æŠŠæ•°æ¬¡ä¹˜2ä¹‹åçš„numé™¤ä»¥ä¸€ä¸ª2ï¼Œ<strong>ä¸ºäº†è¡¥ä¸Š-127è½¬åŒ–åˆ°-126çš„å‘</strong>ã€‚ç„¶åå†è¿›è¡Œå°¾æ•°éƒ¨åˆ†çš„è½¬åŒ–â€”â€”â€œä¹˜äºŒå–æ•´â€ï¼Œæœ€åè¡¥é½23ä½ã€‚å¯¹äºé˜¶ç ä¸º255çš„æ•°ï¼Œç›´æ¥å°†å°¾æ•°ç½®ä¸ºå…¨0ï¼ˆæ— ç©·ï¼‰ã€‚</p><p>5âƒ£ï¸ æœ€åä¸€æ­¥ä¿®æ­£ï¼Œå°†ç¬¦å·ä½ã€é˜¶ç å’Œå°¾æ•°ä¸‰éƒ¨åˆ†å­—ç¬¦ä¸²ç»„åˆèµ·æ¥ï¼Œå°†æ­£è´Ÿæ— ç©·åˆ†åˆ«ä»¥â€œ+Infâ€å’Œâ€œ-Infâ€çš„å½¢å¼è¡¨ç¤ºã€‚</p><h4 id="1-4-äºŒè¿›åˆ¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°"><a href="#1-4-äºŒè¿›åˆ¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°" class="headerlink" title="1.4 äºŒè¿›åˆ¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°"></a>1.4 äºŒè¿›åˆ¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°</h4><ul><li>è¿™ä¸ªé¢˜æœ‰ç‚¹é—®é¢˜ï¼Œæ˜æ˜æ˜¯floatï¼Œåœ¨ojåˆ¤æ–­çš„æ—¶å€™ç²¾åº¦ç”¨çš„æ˜¯doubleã€åæ§½ã€‘ã€‚ä½†æ€è·¯æ•´ä½“ä¸Šæ˜¯ä¸€æ ·ã€‚</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">binaryToFloat</span><span class="hljs-params">(String binStr)</span> </span>&#123;  <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span></span>  String sign = binStr.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);  String exponent = binStr.substring(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>);  String fraction = binStr.substring(<span class="hljs-number">9</span>, <span class="hljs-number">32</span>);  String ans = <span class="hljs-string">&quot;&quot;</span>;  <span class="hljs-keyword">if</span>(exponent.equals(<span class="hljs-string">&quot;00000000&quot;</span>) &amp;&amp; fraction.equals(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>))&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;0.0&quot;</span>;  &#125;  <span class="hljs-keyword">int</span> exp = str2int(exponent, <span class="hljs-number">8</span>);  <span class="hljs-keyword">double</span> frac = <span class="hljs-number">0.0</span>;  <span class="hljs-keyword">if</span>( exp &gt; <span class="hljs-number">0</span> &amp;&amp; exp &lt; <span class="hljs-number">255</span> )&#123;    frac += str2flt(fraction);    frac += <span class="hljs-number">1</span>;    ans = Double.toString((frac * Math.pow(<span class="hljs-number">2</span>, exp-<span class="hljs-number">127</span>)));  &#125;  <span class="hljs-keyword">if</span>( exp == <span class="hljs-number">255</span> &amp;&amp; fraction.equals(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>))&#123;    ans = <span class="hljs-string">&quot;Inf&quot;</span>;    <span class="hljs-keyword">if</span>(sign.equals(<span class="hljs-string">&quot;0&quot;</span>))&#123;      ans = <span class="hljs-string">&quot;+&quot;</span> + ans;    &#125;  &#125;  <span class="hljs-keyword">if</span>( exp == <span class="hljs-number">255</span> &amp;&amp; !fraction.equals(<span class="hljs-string">&quot;00000000000000000000000&quot;</span>))&#123;    ans = <span class="hljs-string">&quot;NaN&quot;</span>;  &#125;  <span class="hljs-keyword">if</span>( exp == <span class="hljs-number">0</span> )&#123;    frac += str2flt(fraction);    ans = Double.toString((frac * Math.pow(<span class="hljs-number">2</span>, exp-<span class="hljs-number">126</span>)));  &#125;  <span class="hljs-keyword">if</span>(sign.equals(<span class="hljs-string">&quot;1&quot;</span>))&#123;    ans = <span class="hljs-string">&quot;-&quot;</span> + ans;  &#125;  <span class="hljs-keyword">return</span> ans;&#125;</code></pre><p>ä¸»è¦æ€è·¯ï¼š</p><p>1âƒ£ï¸ ç‰¹åˆ¤0ï¼›</p><p>2âƒ£ï¸ åœ¨è¿™é‡Œå°è£…äº†ä¸¤ä¸ªå‡½æ•°ï¼šå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ— ç¬¦å·æ•´æ•°ï¼Œå’Œå­—ç¬¦ä¸²è½¬åŒ–ä¸ºæµ®ç‚¹æ•°ã€‚ç”¨åˆ°çš„å°±æ˜¯ä¹‹å‰çš„â€œé™¤äºŒå–ä½™â€å’Œâ€œä¹˜äºŒå–æ•´â€ã€‚</p><p>3âƒ£ï¸ æ ¹æ®ç¬¦å·ä½åˆ¤æ–­æ­£è´Ÿã€‚</p><p>4âƒ£ï¸ è¿™é‡Œçš„é€»è¾‘å°±ç®€å•äº†å¾ˆå¤šï¼Œæ ¹æ®è¡¨åˆ¤æ–­å°±å¯ä»¥â€”â€”è§„æ ¼åŒ–æ•°çš„æ—¶å€™æ˜¯ 2<sup>-127</sup>Ã—(1.<em>f</em>)ï¼›æ­£è´Ÿæ— ç©·è¿”å›+/-Infï¼›è¿˜æœ‰NaNå’Œéè§„æ ¼åŒ–æ•°ï¼Œæœ€åä¸è¦å¿˜è®°è¡¥ä¸Šç¬¦å·ã€‚</p><h4 id="1-5-åè¿›åˆ¶è½¬åŒ–ä¸ºNBCD"><a href="#1-5-åè¿›åˆ¶è½¬åŒ–ä¸ºNBCD" class="headerlink" title="1.5 åè¿›åˆ¶è½¬åŒ–ä¸ºNBCD"></a>1.5 åè¿›åˆ¶è½¬åŒ–ä¸ºNBCD</h4><ul><li>0ï½9å¯¹åº”0000ï½1001ï¼Œæ­£å·ç”¨1100ï¼Œè´Ÿå·ç”¨1101ã€‚</li><li>å…±æœ‰32ä½ï¼Œå³8ä¸ªå››ä½ç»„åˆï¼Œå¦‚æœä¸å¤Ÿéœ€è¦è¡¥é½ã€‚</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">decimalToNBCD</span><span class="hljs-params">(String decimal)</span> </span>&#123;  <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span></span>  <span class="hljs-keyword">char</span>[] numLst = decimal.toCharArray();  StringBuilder ansBuilder = <span class="hljs-keyword">new</span> StringBuilder();  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;  <span class="hljs-keyword">if</span>(numLst[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;-&#x27;</span>)&#123;    ansBuilder.append(<span class="hljs-string">&quot;1101&quot;</span>);    i = <span class="hljs-number">1</span>;  &#125; <span class="hljs-keyword">else</span> &#123;    ansBuilder.append(<span class="hljs-string">&quot;1100&quot;</span>);  &#125;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">7</span>-numLst.length+i;j++)&#123;    ansBuilder.append(<span class="hljs-string">&quot;0000&quot;</span>);  &#125;  String BCD = <span class="hljs-string">&quot;&quot;</span>;  <span class="hljs-keyword">for</span>(; i&lt;numLst.length; i++)&#123;    <span class="hljs-keyword">switch</span> (numLst[i])&#123;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;0&#x27;</span>:        BCD = <span class="hljs-string">&quot;0000&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;1&#x27;</span>:        BCD = <span class="hljs-string">&quot;0001&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;2&#x27;</span>:        BCD = <span class="hljs-string">&quot;0010&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;3&#x27;</span>:        BCD = <span class="hljs-string">&quot;0011&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;4&#x27;</span>:        BCD = <span class="hljs-string">&quot;0100&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;5&#x27;</span>:        BCD = <span class="hljs-string">&quot;0101&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;6&#x27;</span>:        BCD = <span class="hljs-string">&quot;0110&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;7&#x27;</span>:        BCD = <span class="hljs-string">&quot;0111&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;8&#x27;</span>:        BCD = <span class="hljs-string">&quot;1000&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;9&#x27;</span>:        BCD = <span class="hljs-string">&quot;1001&quot;</span>; <span class="hljs-keyword">break</span>;    &#125;    ansBuilder.append(BCD);  &#125;  <span class="hljs-keyword">return</span> ansBuilder.toString();&#125;</code></pre><p>ä¸»è¦æ€è·¯ï¼šå•çº¯æ ¹æ®æ¯ä¸ªæ•°å­—å’Œç¬¦å·å–å¯¹åº”çš„BCDè¡¨ç¤ºï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¡¥ä¸Š0000æ»¡è¶³ä½æ•°çš„è¦æ±‚ã€‚æ€»ä½“æ¥è¯´ç›¸å¯¹ç®€å•ã€‚</p><h4 id="1-6-NBCDè½¬åŒ–ä¸ºåè¿›åˆ¶æ•°"><a href="#1-6-NBCDè½¬åŒ–ä¸ºåè¿›åˆ¶æ•°" class="headerlink" title="1.6 NBCDè½¬åŒ–ä¸ºåè¿›åˆ¶æ•°"></a>1.6 NBCDè½¬åŒ–ä¸ºåè¿›åˆ¶æ•°</h4><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">NBCDToDecimal</span><span class="hljs-params">(String NBCDStr)</span> </span>&#123;  <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span></span>  StringBuilder strBuilder = <span class="hljs-keyword">new</span> StringBuilder();  String BCD = <span class="hljs-string">&quot;&quot;</span>;  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;NBCDStr.length()-<span class="hljs-number">3</span>; i+=<span class="hljs-number">4</span>)&#123;    String swt = NBCDStr.substring(i, i+<span class="hljs-number">4</span>);    <span class="hljs-keyword">switch</span> (swt)&#123;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0000&quot;</span>:        BCD = <span class="hljs-string">&quot;0&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0001&quot;</span>:        BCD = <span class="hljs-string">&quot;1&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0010&quot;</span>:        BCD = <span class="hljs-string">&quot;2&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0011&quot;</span>:        BCD = <span class="hljs-string">&quot;3&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0100&quot;</span>:        BCD = <span class="hljs-string">&quot;4&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0101&quot;</span>:        BCD = <span class="hljs-string">&quot;5&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0110&quot;</span>:        BCD = <span class="hljs-string">&quot;6&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;0111&quot;</span>:        BCD = <span class="hljs-string">&quot;7&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;1000&quot;</span>:        BCD = <span class="hljs-string">&quot;8&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;1001&quot;</span>:        BCD = <span class="hljs-string">&quot;9&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;1100&quot;</span>:        BCD = <span class="hljs-string">&quot;&quot;</span>; <span class="hljs-keyword">break</span>;      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;1101&quot;</span>:        BCD = <span class="hljs-string">&quot;-&quot;</span>; <span class="hljs-keyword">break</span>;    &#125;    strBuilder.append(BCD);  &#125;  <span class="hljs-keyword">while</span> (strBuilder.indexOf(<span class="hljs-string">&quot;0&quot;</span>)==<span class="hljs-number">0</span> &amp;&amp; strBuilder.length()&gt;<span class="hljs-number">1</span>)&#123;    strBuilder.delete(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);  &#125;  <span class="hljs-keyword">while</span> (strBuilder.indexOf(<span class="hljs-string">&quot;-&quot;</span>)==<span class="hljs-number">0</span> &amp;&amp; strBuilder.indexOf(<span class="hljs-string">&quot;0&quot;</span>)==<span class="hljs-number">1</span> &amp;&amp; strBuilder.length()&gt;<span class="hljs-number">1</span>)&#123;    strBuilder.delete(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);  &#125;  <span class="hljs-keyword">return</span> strBuilder.toString();&#125;</code></pre><p>ä¸»è¦æ€è·¯ï¼šæ¯å››ä¸ªè¿›è¡Œå¯¹åº”ï¼Œå°†å…¶è½¬åŒ–ä¸ºåè¿›åˆ¶çš„å­—ç¬¦ä¸²ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼å› ä¸º32ä½çš„NBCDç è¦æ±‚ï¼Œä¸€äº›æ•°å­—å­—ç¬¦ä¸²ä¸­ä¼šæœ‰æ— ç”¨çš„0äº§ç”Ÿã€‚éœ€è¦å°†å®ƒä»¬å»é™¤æ‰ï¼Œåœ¨è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯â€”â€”ã€å¯¹æ­£æ•°ï¼šç¬¬ä¸€ä½ä¸º0å°±å»æ‰ï¼›å¯¹è´Ÿæ•°ï¼šå½“ç¬¬ä¸€ä½ä¸ºâ€˜-â€™ï¼Œç¬¬äºŒä½ä¸º0å°±å»æ‰ç¬¬äºŒä½çš„0ã€‚è¿›è¡Œå¾ªç¯ã€‚ã€‘</p><p>æ€»ä½“æ¥è¯´ï¼Œè¿™æ¬¡çš„ä½œä¸šæœ‰ä¸å°‘ç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œä¼šæœ‰ä¸€äº›å°çš„ç»†èŠ‚çš„å‘éœ€è¦è§„é¿ã€‚æ¯”å¦‚æµ®ç‚¹æ•°è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸å¯¹å¤ªå¤§çš„æ•°å­—è¿›è¡Œæ— ç©·çš„è½¬æ¢ï¼Œå°±å¾ˆå¯èƒ½åœ¨ä»£ç ä¸­äº§ç”Ÿæ­»å¾ªç¯ã€‚ä»¥åŠè´Ÿæ•°çš„è€ƒè™‘ï¼šè´Ÿæ•°ä¹˜2å†å‡1åœ¨æ•°è½´ä¸Šä¼šè¶Šæ¥è¶Šåç¦»åŸç‚¹ï¼Œå¯¼è‡´æ­»å¾ªç¯ï¼è¿˜æœ‰è§„æ ¼åŒ–æ•°åˆ°éè§„æ ¼åŒ–æ•°åˆ°è·³è·ƒä¹Ÿæ˜¯å€¼å¾—æ³¨æ„çš„é‡éš¾ç‚¹ã€‚</p><h2 id="ç®—æ³•è®¾è®¡ä¸åˆ†æ"><a href="#ç®—æ³•è®¾è®¡ä¸åˆ†æ" class="headerlink" title="ç®—æ³•è®¾è®¡ä¸åˆ†æ"></a>ç®—æ³•è®¾è®¡ä¸åˆ†æ</h2><h3 id="1-Hashing"><a href="#1-Hashing" class="headerlink" title="1. Hashing"></a>1. Hashing</h3><ul><li>Hashingçš„å¼€é”€â€”â€”å‡ ä¹å¸¸é‡æ—¶é—´ï¼šO(1+Î±)</li></ul><h4 id="1-1-Collision-Handling"><a href="#1-1-Collision-Handling" class="headerlink" title="1.1 Collision Handling"></a>1.1 Collision Handling</h4><h5 id="1-1-Closed-Address"><a href="#1-1-Closed-Address" class="headerlink" title="1.1 Closed Address"></a>1.1 Closed Address</h5><ul><li><p>liståœ¨æŸä¸€ä¸ªç©ºé—´çš„å¹³å‡é•¿åº¦ä¸º<em>n</em>/<em>m</em>ï¼›</p></li><li><p>æ€»å…±å¼€é”€ï¼šÎ˜(1+ <em>n</em>/<em>m</em>)</p></li><li><p><strong>åˆ†æ</strong>ï¼šå¯¹äºä¸€æ¬¡æˆåŠŸçš„æœç´¢ï¼Œx<sub>i</sub>çš„å¯èƒ½æ€§ä¸º1/nã€‚å¯¹äºç»™å®šçš„x<sub>i</sub>ï¼Œè¢«æ£€æµ‹åˆ°çš„å…ƒç´ ä¸º<em>t+1</em>æ¬¡ï¼ˆ<em>t</em>æ˜¯è¢«æ’å…¥åŒä¸€ä¸ªåŒºåŸŸçš„å…ƒç´ æ•°ï¼‰ã€‚å¯¹äºä»»æ„jï¼Œx<sub>j</sub>è¢«æ’å…¥åŒä¸€ä¸ªåœ°æ–¹çš„å¯èƒ½æ€§æ˜¯<em>1/m</em>ï¼Œå› æ­¤èŠ±é”€ä¸ºï¼š</p><script type="math/tex; mode=display">1+\frac{1}{n}\sum_{i=1}^n(1+\sum_{j=i+1}^{n}\frac{1}{m})</script><p>1/mçš„å’Œæ˜¯â€œåœ¨è¦æœç´¢çš„å…ƒç´ ä¹‹å‰çš„é“¾è¡¨ä¸­çš„å…ƒç´ æ•°é‡â€ã€‚è®¡ç®—ç»“æœå¤§è‡´æ˜¯ï¼š</p><script type="math/tex; mode=display">\Theta(1+\alpha)</script></li></ul><h5 id="1-2-Open-Address"><a href="#1-2-Open-Address" class="headerlink" title="1.2 Open Address"></a>1.2 Open Address</h5><ul><li>ä¸ä½¿ç”¨é“¾è¡¨ï¼Œæ‰€æœ‰çš„å…ƒç´ éƒ½å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚</li><li>ç”¨â€rehashingâ€æ¥è§£å†³å†²çªã€‚</li></ul><h5 id="1-3-Array-Doubling"><a href="#1-3-Array-Doubling" class="headerlink" title="1.3 Array Doubling"></a>1.3 Array Doubling</h5><ul><li><p>allocate a block of size <em>2size</em>; move all item into new table;</p></li><li><p>èŠ±é”€ï¼šsize</p></li><li><p>æ‰§è¡Œnæ¬¡æ“ä½œï¼Œæ€»å…±èŠ±é”€ï¼š</p><script type="math/tex; mode=display">\sum_{i=1}^nc_i{\leq}n+\sum_{j=0}^{log{n}}2^j<3n</script></li><li><p>æ¯ä¸€ä¸ªdoublingçš„æ“ä½œå¯ä»¥å‡æ‘Šåˆ°å‰é¢çš„æ¯ä¸€æ¬¡æ’å…¥ï¼Œè¶³å¤Ÿå¤šçš„å‡†å¤‡ã€‚ï¼ˆå‡æ‘Šåˆ†æï¼‰</p></li></ul><h5 id="1-4-Amortized-Analysis"><a href="#1-4-Amortized-Analysis" class="headerlink" title="1.4 Amortized Analysis"></a>1.4 Amortized Analysis</h5><ul><li><em>amortized cost = actual cost + accounting cost</em></li></ul>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>è®¡ç»„ä½œä¸š</tag>
      
      <tag>Hashing</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>week3_Grade2_fall</title>
    <link href="/2020/09/26/week3-Grade2-fall/"/>
    <url>/2020/09/26/week3-Grade2-fall/</url>
    
    <content type="html"><![CDATA[<h2 id="ç®—æ³•è®¾è®¡ä¸åˆ†æ"><a href="#ç®—æ³•è®¾è®¡ä¸åˆ†æ" class="headerlink" title="ç®—æ³•è®¾è®¡ä¸åˆ†æ"></a>ç®—æ³•è®¾è®¡ä¸åˆ†æ</h2><h3 id="1-çº¢é»‘æ ‘"><a href="#1-çº¢é»‘æ ‘" class="headerlink" title="1. çº¢é»‘æ ‘"></a>1. çº¢é»‘æ ‘</h3><p><a href="https://www.jianshu.com/p/e136ec79235c">30å¼ å›¾å½»åº•ç†è§£çº¢é»‘æ ‘</a></p><h4 id="1-1-çº¢é»‘æ ‘å®šä¹‰"><a href="#1-1-çº¢é»‘æ ‘å®šä¹‰" class="headerlink" title="1.1 çº¢é»‘æ ‘å®šä¹‰"></a>1.1 çº¢é»‘æ ‘å®šä¹‰</h4><ul><li>åŸºæœ¬é™åˆ¶ï¼š<ul><li>æ»¡è¶³äºŒå‰æœç´¢æ ‘ï¼›</li><li>æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯é»‘è‰²çš„ï¼Œè¦ä¹ˆæ˜¯çº¢è‰²çš„ï¼›</li><li>æ‰€æœ‰çš„å¤–éƒ¨èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ï¼ˆæ¯ä¸ªå¶å­ç»“ç‚¹ã€NILã€‘æ˜¯é»‘è‰²ï¼‰ï¼›</li><li>é¢œè‰²é™åˆ¶ï¼šçº¢è‰²ç»“ç‚¹æ²¡æœ‰çº¢è‰²çš„å­èŠ‚ç‚¹ï¼ˆæ¯ä¸ªçº¢è‰²ç»“ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ä¸€å®šéƒ½æ˜¯é»‘è‰²çš„ï¼‰ï¼›</li><li>é»‘è‰²é«˜åº¦é™åˆ¶ï¼šæ¯ä¸ªä»ç»™å®šç»“ç‚¹uåˆ°å¤–éƒ¨èŠ‚ç‚¹çš„è·¯å¾„çš„é»‘è‰²é•¿åº¦ç›¸ç­‰ã€‚ï¼ˆä»»æ„ä¸€ç»“ç‚¹åˆ°æ¯ä¸ªå¶å­ç»“ç‚¹åˆ°è·¯å¾„éƒ½åŒ…å«æ•°é‡ç›¸åŒçš„é»‘ç»“ç‚¹ï¼‰<ul><li>æ¨è®ºï¼šå¦‚æœä¸€ä¸ªç»“ç‚¹å­˜åœ¨é»‘å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥ç»“ç‚¹è‚¯å®šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼›</li></ul></li><li>æ ¹ç»“ç‚¹æ˜¯é»‘è‰²çš„ï¼›</li></ul></li><li>ARB tree (Almost-red-black tree)<ul><li>æ ¹ç»“ç‚¹æ˜¯çº¢è‰²çš„ï¼›</li></ul></li><li>é€’å½’å®šä¹‰<ul><li>çº¦å®šé«˜åº¦ä¸ºhçš„çº¢é»‘æ ‘ä¸ºRB<sub>h</sub>ï¼Œé«˜åº¦ä¸ºhçš„Almost-red-black Treeä¸ºARB<sub>h</sub></li><li>ä¸€ä¸ªäºŒå‰æ ‘æ˜¯ARB<sub>h</sub>ï¼Œé‚£ä¹ˆ<ul><li>æ ¹ç»“ç‚¹æ˜¯çº¢è‰²çš„ï¼›</li><li>å·¦å³å­æ ‘éƒ½æ˜¯RB<sub>h-1</sub></li></ul></li><li>ä¸€ä¸ªäºŒå‰æ ‘æ˜¯RB<sub>h</sub>ï¼Œé‚£ä¹ˆ<ul><li>æ ¹ç»“ç‚¹æ˜¯é»‘è‰²çš„ï¼›</li><li>å·¦å³å­æ ‘æ˜¯RB<sub>h-1</sub>æˆ–ARB<sub>h</sub></li></ul></li></ul></li></ul><h4 id="1-2-çº¢é»‘æ ‘çš„æ’å…¥"><a href="#1-2-çº¢é»‘æ ‘çš„æ’å…¥" class="headerlink" title="1.2 çº¢é»‘æ ‘çš„æ’å…¥"></a>1.2 çº¢é»‘æ ‘çš„æ’å…¥</h4><ul><li>```c++<br>RBtree rbtInset(RBtree oldRBtree, Element newElement){<br>  InsReturn ans = rbtIns(oldRBtree, newNode);<br>  if(ans.newTree.color != black){<pre><code>ans.newTree.color = black; //é»‘é«˜åº¦å¢åŠ çš„é€”å¾„ã€‚</code></pre>  }<br>  return ans.newTree;<br>}<pre><code class="hljs xl">- **æ’å…¥çº¢è‰²ç»“ç‚¹ä¸ä¼šå½±å“é»‘è‰²é«˜åº¦é™åˆ¶**ï¼›ã€æ¯æ¬¡æ’å…¥éƒ½ä¸æ”¹å˜é»‘é«˜åº¦ã€‘- ç°‡ï¼šä¸€ä¸ªé»‘è‰²ç»“ç‚¹å’Œæ‰€æœ‰å¯ä»è¯¥é»‘è‰²ç»“ç‚¹ç»ç”±éé»‘è‰²è¾¹è¾¾åˆ°çš„çº¢è‰²ç»“ç‚¹ç»„æˆçš„é›†åˆï¼Œç§°ä¸º**ç°‡**ã€‚- å†²çªç°‡ï¼ˆCritical clusterï¼‰ï¼šèµ·å› äº<span class="hljs-number">3</span>æˆ–<span class="hljs-number">4</span>ä¸ªçº¢è‰²ç»“ç‚¹çš„é¢œè‰²å†²çªã€‚å¦‚æœå­˜åœ¨ä¸€ä¸ªä»æ ¹ç»“ç‚¹å¼€å§‹åˆ°è¾¾æŸç»“ç‚¹çš„é€šè·¯çš„é•¿åº¦å¤§äº<span class="hljs-number">1</span>ï¼Œé‚£ä¹ˆè¿™ä¸ªç°‡ç§°ä¸º**å†²çªç°‡**ã€‚å› ä¸ºä¸€ä¸ªç°‡ä¸­çš„æ‰€æœ‰è¾¹éƒ½æ˜¯éé»‘è¾¹ï¼Œé‚£ä¹ˆå­˜åœ¨ä¸€æ¡é•¿åº¦ä¸º<span class="hljs-number">2</span>çš„é€šè·¯è¯´æ˜ç°‡ä¸­ä¸€ä¸ªçº¢è‰²ç»“ç‚¹ä¸å¦ä¸€ä¸ªçº¢è‰²ç»“ç‚¹ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚- é¢œè‰²æ¼‚ç§»ï¼ˆColor flipï¼‰ï¼šå†²çªç°‡çš„æ ¹ç»“ç‚¹å’Œå®ƒçš„å­ç»“ç‚¹å˜æ¢é¢œè‰²ï¼Œå½“æ²¡æœ‰æ–°çš„å†²çªç°‡å‡ºç°æ—¶ï¼Œæ’å…¥ç»“æŸã€‚ï¼ˆæ•™æåŸè¯ï¼šWe perform a *<span class="hljs-built_in">color</span> flip* <span class="hljs-keyword">with</span> the root of the cluster, call it *r*, <span class="hljs-built_in">and</span> its two children.ï¼‰å¯¹äºä¸‰ä¸ªç»“ç‚¹çš„å†²çªç°‡æƒ…å†µä¸èƒ½ä½¿ç”¨é¢œè‰²æ¼‚ç§»ã€‚ã€ä¸‰ä¸ªç»“ç‚¹çš„æƒ…å†µä½¿å¾—ä¸­é—´é‚£ä¸ªç»“ç‚¹å˜ä¸ºé»‘è‰²ã€‘  - ```c++    void rb_tree_main::colorFlip(rb_tree * old_tree)&#123;      <span class="hljs-comment">//ä¿®æ”¹æ ¹ç»“ç‚¹çš„é¢œè‰²</span>      <span class="hljs-function"><span class="hljs-title">if</span>(old_tree-&gt;</span><span class="hljs-built_in">color</span> == color_black)&#123;        <span class="hljs-function"><span class="hljs-title">old_tree</span>-&gt;</span><span class="hljs-built_in">color</span> = color_red;      &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-function"><span class="hljs-title">old_tree</span>-&gt;</span><span class="hljs-built_in">color</span> = color_black;      &#125;            <span class="hljs-comment">//ä¿®æ”¹æ ¹çš„å·¦å­ç»“ç‚¹çš„é¢œè‰²</span>      <span class="hljs-function"><span class="hljs-title">if</span>(old_tree-&gt;</span><span class="hljs-function"><span class="hljs-title">left</span>-&gt;</span><span class="hljs-built_in">color</span> == color_black)&#123;        <span class="hljs-function"><span class="hljs-title">old_tree</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">left</span>-&gt;</span><span class="hljs-built_in">color</span> = color_red;      &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-function"><span class="hljs-title">old_tree</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">left</span>-&gt;</span><span class="hljs-built_in">color</span> = color_black;      &#125;            <span class="hljs-comment">//ä¿®æ”¹æ ¹çš„å³å­èŠ‚ç‚¹çš„é¢œè‰²</span>      <span class="hljs-function"><span class="hljs-title">if</span>(old_tree-&gt;</span><span class="hljs-function"><span class="hljs-title">right</span>-&gt;</span><span class="hljs-built_in">color</span> == color_clack)&#123;        <span class="hljs-function"><span class="hljs-title">old_tree</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">right</span>-&gt;</span><span class="hljs-built_in">color</span> = color_red;      &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-function"><span class="hljs-title">old_tree</span>-&gt;</span><span class="hljs-function"><span class="hljs-title">right</span>-&gt;</span><span class="hljs-built_in">color</span> = color_black;      &#125;    &#125;</code></pre></li></ul><h4 id="1-3-ä¿®æ­£çº¢é»‘æ ‘ï¼ˆRepairLeft-å’Œ-RepairRightï¼‰"><a href="#1-3-ä¿®æ­£çº¢é»‘æ ‘ï¼ˆRepairLeft-å’Œ-RepairRightï¼‰" class="headerlink" title="1.3 ä¿®æ­£çº¢é»‘æ ‘ï¼ˆRepairLeft å’Œ RepairRightï¼‰"></a>1.3 ä¿®æ­£çº¢é»‘æ ‘ï¼ˆRepairLeft å’Œ RepairRightï¼‰</h4><ul><li><p>okï¼šä¸éœ€è¦ä¿®æ­£ï¼›</p><ul><li>```c++<br>if(ansLeft.status == status.ok){<br>  ans.new_tree = old_tree;<br>  ans.status = status.ok;<br>  return ans<br>}<br>old_tree-&gt;left = ansLeft.new_tree;<pre><code class="hljs fortran">- rbrï¼šä¸è¦è°ƒæ•´ï¼›è¦å°†è¿”å›å€¼å­˜å…¥ç›¸åº”çš„fieldã€‚  - ```c++    <span class="hljs-keyword">if</span>(ansLeft<span class="hljs-number">.</span><span class="hljs-keyword">status</span> == <span class="hljs-keyword">status</span><span class="hljs-number">.</span>rbr)&#123;      ans<span class="hljs-number">.</span>new_tree = old_tree;      ans<span class="hljs-number">.</span><span class="hljs-keyword">status</span> = <span class="hljs-keyword">status</span><span class="hljs-number">.</span>ok;    &#125;</code></pre></li></ul></li><li><p>brbï¼šå¦‚æœçˆ¶ç»“ç‚¹æ˜¯é»‘è‰²çš„ï¼Œä¸ä¿®æ­£ï¼›å¦åˆ™éœ€è¦å‘ä¸Šè°ƒæ•´ï¼ˆè‹¥å½“å‰ä¸è°ƒæ•´ï¼Œè¿”å›çš„çŠ¶æ€ä¸ºrrbï¼‰</p><ul><li>```c++<br>if(ansLeft.status == status.brb){<br>  ans.new_tree = old_tree;<br>  if(old_tree-&gt;color == color_black){<pre><code>ans.status = status.ok;</code></pre>  } else {<pre><code>ans.status = status_rrb;</code></pre>  }<br>}<pre><code class="hljs maxima">- rrbï¼šã€**å½“å‰çš„çˆ¶ç»“ç‚¹çš„é¢œè‰²ä¸€å®šä¸ºé»‘è‰²**ã€‘æ ¹æ®oldTreeçš„å³ï¼ˆå·¦ï¼‰å­èŠ‚ç‚¹çš„æƒ…å†µè¿›è¡Œè°ƒæ•´ï¼ˆåˆ†åˆ«å¯¹åº”<span class="hljs-number">4</span>-nodeå’Œ<span class="hljs-number">3</span>-nodeä¸¤ç§é¢œè‰²å†²çªçš„æƒ…å†µï¼‰ï¼›  - ```c++    <span class="hljs-keyword">if</span>(ansLeft.<span class="hljs-built_in">status</span> == <span class="hljs-built_in">status</span>.rrb)&#123;     <span class="hljs-keyword">if</span>(old_tree-&gt;right-&gt;<span class="hljs-built_in">color</span> == color_red)&#123;       colorFlip(old_tree);       ans.new_tree = old_tree;       ans.<span class="hljs-built_in">status</span> = <span class="hljs-built_in">status</span>.brb;     &#125; <span class="hljs-keyword">else</span> &#123;       ans.new_tree = rebalLeft(old_tree, ansLeft.<span class="hljs-built_in">status</span>);       ans.<span class="hljs-built_in">status</span> = rbr;     &#125;    &#125;</code></pre></li></ul></li><li><p>brrï¼šå’Œrrbçš„å¤„ç†æƒ…å†µç±»ä¼¼ï¼›</p></li><li><p>æ‰€æœ‰çš„å¤„ç†éƒ½ä¸ä¼šå¯¹é»‘é«˜åº¦é€ æˆå½±å“ï¼›</p></li></ul><h4 id="1-4-çº¢é»‘æ ‘çš„åˆ é™¤"><a href="#1-4-çº¢é»‘æ ‘çš„åˆ é™¤" class="headerlink" title="1.4 çº¢é»‘æ ‘çš„åˆ é™¤"></a>1.4 çº¢é»‘æ ‘çš„åˆ é™¤</h4><ul><li>åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹çš„ç»“ç‚¹å¯ä»¥ç›´æ¥åˆ é™¤ï¼›</li><li><strong>ä¿æŒé¢œè‰²é™åˆ¶ï¼Œè°ƒæ•´é«˜åº¦ã€‚</strong><ul><li>åˆ é™¤çº¢è‰²ç»“ç‚¹ï¼Œé»‘é«˜åº¦ä¸å˜ï¼Œæ²¡æœ‰ä»»ä½•å½±å“ï¼›</li><li>åˆ é™¤é»‘è‰²ç»“ç‚¹ï¼Œè¯¥ç»“ç‚¹æ‰€åœ¨çš„å­æ ‘çš„é»‘é«˜åº¦å‡å°‘äº†1ï¼Œéœ€è¦è¿›è¡Œä¿®æ­£ã€‚<strong>å¹¶ä¸”è¿™ç§ä¿®æ­£å¯èƒ½å¯¼è‡´æ›´é«˜çš„å­æ ‘çš„é»‘é«˜åº¦é™ä½ï¼Œéœ€è¦ç»§ç»­ä¿®æ­£ã€‚</strong></li></ul></li><li>åˆ é™¤æ—¶ï¼Œå°†è¯¥ç»“ç‚¹ä¸å®ƒåœ¨ä¸­åºéå†ä¹‹åçš„åä¸€ä¸ªç»“ç‚¹äº’æ¢ã€‚åˆ é™¤äº’æ¢åçš„è¯¥ç»“ç‚¹ã€‚å°†è¯¥ç»“ç‚¹çš„å³ç»“ç‚¹ä»£æ›¿è¢«åˆ é™¤çš„é›†åˆã€‚</li></ul><h3 id="2-æ¸è¿›å¤æ‚æ€§"><a href="#2-æ¸è¿›å¤æ‚æ€§" class="headerlink" title="2. æ¸è¿›å¤æ‚æ€§"></a>2. æ¸è¿›å¤æ‚æ€§</h3><h4 id="2-1-ÎŸ"><a href="#2-1-ÎŸ" class="headerlink" title="2.1 ÎŸ"></a>2.1 <em>ÎŸ</em></h4><ul><li><p>å¤æ‚åº¦çš„ä¸Šç•Œï¼ˆåŒ…å«ï¼‰</p></li><li><p>åˆ¤æ–­æ˜¯å¦åŒ…å«åœ¨<em>ÎŸ</em>çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€æ´›å¿…è¾¾æ³•åˆ™ã€‘ã€‚</p></li><li><p>å¯¹æ•°å¤æ‚åº¦å°äºå¹‚å‡½æ•°å¤æ‚åº¦ï¼</p></li><li><script type="math/tex; mode=display">logn \in O(n^{\alpha}) ,{\forall}{\alpha}>0</script></li><li><p>å¹‚å‡½æ•°å¤æ‚åº¦å°äºæŒ‡æ•°å¤æ‚åº¦ï¼</p></li><li><script type="math/tex; mode=display">n^k \in O(c^n) ,{\forall}c>0</script></li><li><p>é˜¶ä¹˜ç”¨æ–¯ç‰¹æ—å…¬å¼å¤„ç†ï¼š</p></li><li><script type="math/tex; mode=display">n!â‰ˆ\sqrt{2{\pi}n}(\frac{n}{e})^n</script></li></ul><h4 id="2-2-â„¦"><a href="#2-2-â„¦" class="headerlink" title="2.2 â„¦"></a>2.2 â„¦</h4><ul><li>å¤æ‚åº¦çš„ä¸‹ç•Œï¼ˆåŒ…å«ï¼‰</li></ul><h4 id="2-3-Î˜"><a href="#2-3-Î˜" class="headerlink" title="2.3 Î˜"></a>2.3 Î˜</h4><ul><li>å¤æ‚åº¦ä¸Šç•Œä¸ä¸‹ç•Œçš„äº¤é›†â€”â€”å¤§è‡´ç›¸åŒäºçœŸå®å¤æ‚åº¦ï¼›</li></ul><h4 id="2-4-ÎŸ-â„¦-Î˜çš„æ€§è´¨"><a href="#2-4-ÎŸ-â„¦-Î˜çš„æ€§è´¨" class="headerlink" title="2.4 ÎŸ, â„¦, Î˜çš„æ€§è´¨"></a>2.4 <em>ÎŸ</em>, â„¦, Î˜çš„æ€§è´¨</h4><ul><li><p><em>ÎŸ</em>æ˜¯ä¸€ä¸ªç­‰ä»·å…³ç³»â€”â€”æœ‰ä¼ é€’æ€§ã€å¯¹ç§°æ€§å’Œè‡ªåæ€§ï¼›</p></li><li><script type="math/tex; mode=display">O(f+g) = O(max(f,g))</script></li></ul><h4 id="2-5-o-å’Œ-Ï‰"><a href="#2-5-o-å’Œ-Ï‰" class="headerlink" title="2.5 o å’Œ Ï‰"></a>2.5 o å’Œ Ï‰</h4><ul><li>fä¸å®ƒçš„ä¸Šç•Œï¼ˆä¸‹ç•Œï¼‰ä¹‹é—´æœ‰ä¸€æ®µä¸å¯å¿½è§†çš„è·ç¦»ã€‚ï¼ˆä¸èƒ½å¤§è‡´ç›¸ç­‰ï¼‰ä¸å…‰è¡¨ç¤ºå°äºï¼ˆå¤§äºï¼‰ï¼Œä¹Ÿè¡¨ç¤ºfè¾¾ä¸åˆ°gã€‚</li></ul><h4 id="2-6-åˆ†æ²»é€’å½’"><a href="#2-6-åˆ†æ²»é€’å½’" class="headerlink" title="2.6 åˆ†æ²»é€’å½’"></a>2.6 åˆ†æ²»é€’å½’</h4><ul><li><p>å°†è§„æ¨¡ä¸ºnçš„é—®é¢˜åˆ†è§£æˆaä¸ªè§„æ¨¡ä¸ºn/bçš„å­é—®é¢˜å¹¶é€’å½’åœ°æ±‚è§£ï¼Œå¹¶ä¸”åˆ†è§£/åˆæˆçš„æ€»å¼€é”€æ˜¯f(n)çš„ã€‚</p></li><li><script type="math/tex; mode=display">T(n) = aT(\frac{n}{b})+f(n)</script></li><li><p>ä¸»å®šç†ï¼š</p><ul><li><script type="math/tex; mode=display">f(n){\in}O(ğ‘›^{log_ğ‘â¡{ğ‘âˆ’ğœ€}})ï¼ŒT(n)\in(ğ‘›^{log_ğ‘â¡ğ‘})</script></li><li><script type="math/tex; mode=display">f(n){\in}{\Theta}(ğ‘›^{log_ğ‘â¡{ğ‘}})ï¼ŒT(n){\in}{\Theta}(f(n)log(n))</script></li><li><p>å…·ä½“è§ã€Šç®—æ³•å¯¼è®ºã€‹ã€‚</p></li><li>ç‰¹åˆ«çš„ä¸€ä¸ªç‰¹æ®Šæƒ…å†µï¼š</li></ul><script type="math/tex; mode=display">f(m)\in\Theta(m^Elog^a(m))</script><p>â€‹       å®ƒçš„è§£ä¸ºï¼š</p><script type="math/tex; mode=display">T(n)\in\Theta(n^Elog^{a+1}(n))</script></li></ul><h2 id="è®¡ç®—æœºç»„æˆä¸è®¾è®¡"><a href="#è®¡ç®—æœºç»„æˆä¸è®¾è®¡" class="headerlink" title="è®¡ç®—æœºç»„æˆä¸è®¾è®¡"></a>è®¡ç®—æœºç»„æˆä¸è®¾è®¡</h2><h3 id="1-Carry-Look-Ahead-Adder"><a href="#1-Carry-Look-Ahead-Adder" class="headerlink" title="1. Carry Look Ahead Adder"></a>1. Carry Look Ahead Adder</h3><ul><li>Gate Latency<ul><li>ANDï¼š1</li><li>ORï¼š1</li><li>XORï¼š3</li><li>è®¡ç®—CarryOutéœ€è¦2ä¸ªå»¶è¿Ÿ</li></ul></li><li><img src="/img/åŠ æ³•å™¨.png" alt="åŠ æ³•å™¨åŠå…¶å»¶è¿Ÿ"></li><li>å†ä¸Šå›¾ä¸­ï¼Œè®¡ç®—<em>XY</em>å’Œ<em>X+Y</em>ï¼ˆå³<em>P</em>å’Œ<em>G</em>ï¼‰éœ€è¦1ä¸ªå»¶è¿Ÿï¼Œè®¡ç®—æ‰€æœ‰çš„<em>C</em>éœ€è¦ä¸¤ä¸ªå»¶è¿Ÿï¼Œè®¡ç®—æ‰€æœ‰çš„<em>S</em>åˆéœ€è¦3ä¸ªå»¶è¿Ÿã€‚ï¼ˆæ³¨ï¼šæ ¹æ®ä¹‹å‰çš„æ¨å¯¼ï¼Œä»»æ„<em>C<sub>n</sub></em>éƒ½å¯ä»¥ç”¨<em>Pã€Gã€C<sub>n</sub></em>æ¥è¡¨ç¤ºï¼‰</li></ul><h3 id="2-Partial-Carry-Look-Ahead-Adder"><a href="#2-Partial-Carry-Look-Ahead-Adder" class="headerlink" title="2. Partial Carry Look Ahead Adder"></a>2. Partial Carry Look Ahead Adder</h3><ul><li><p><img src="/img/éƒ¨åˆ†åŠ æ³•å™¨.png" alt="éƒ¨åˆ†åŠ æ³•å™¨åŠå…¶å»¶è¿Ÿ"></p></li><li><p>åœ¨ç¬¬ä¸€ä¸ªæ—¶é—´å‘¨æœŸå†…è®¡ç®—å‡ºæ‰€æœ‰çš„<em>P</em>å’Œ<em>G</em>ï¼Œæœ€å³è¾¹çš„ç¬¬ä¸€ä¸ªCLAè®¡ç®—å‡º<em>C8</em>éœ€è¦3ä¸ªå»¶è¿Ÿï¼Œå¾€åçš„<em>C16</em>å’Œ<em>C24</em>éƒ½éœ€è¦ä¸¤ä¸ªæ—¶é—´å‘¨æœŸï¼Œæœ€åè®¡ç®—æœ€åçš„<em>C</em>å’Œ<em>S</em>è¿˜éœ€è¦5ä¸ªå»¶è¿Ÿã€‚</p></li></ul><h3 id="3-Addition"><a href="#3-Addition" class="headerlink" title="3. Addition"></a>3. Addition</h3><p><em>overflow</em> = C<sub>n</sub>âŠ•C<sub>n-1</sub> ? Why?</p><p>è¯æ˜å’Œåˆ†æï¼šå¦‚æœoverflowä¸º0ï¼Œåªæœ‰ä¸¤ç§æƒ…å†µâ€”â€”æ­£æ•°åŠ æ­£æ•°å¾—åˆ°è´Ÿæ•°å’Œè´Ÿæ•°åŠ è´Ÿæ•°å¾—åˆ°æ­£æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¬¦å·ä½æ¥åˆ¤æ–­ï¼š<em>overflow</em> = X<sub>n</sub>Y<sub>n</sub>~S<sub>n</sub>+~X<sub>n</sub>~Y<sub>n</sub>S<sub>n</sub>ï¼Œå½“X<sub>n</sub>Y<sub>n</sub>åŒæ—¶ä¸º1çš„æ—¶å€™ï¼ŒS<sub>n</sub>è‹¥ä¸º0åˆ™æº¢å‡ºã€‚å½“X<sub>n</sub>Y<sub>n</sub>åŒæ—¶ä¸º0çš„æ—¶å€™ï¼ŒS<sub>n</sub>è‹¥ä¸º1åˆ™æº¢å‡ºã€‚</p><h3 id="4-Subtraction"><a href="#4-Subtraction" class="headerlink" title="4. Subtraction"></a>4. Subtraction</h3><h3 id="5-Multiplication"><a href="#5-Multiplication" class="headerlink" title="5. Multiplication"></a>5. Multiplication</h3><ul><li><p>å¤§æ¦‚æ­¥éª¤ï¼š</p><ul><li>æ¯ä¸€æ­¥è®¡ç®—éƒ¨åˆ†å’Œï¼›</li><li>å³ç§»éƒ¨åˆ†å’Œï¼›</li><li>å¦‚æœ<em>Y<sub>i</sub>=0</em>çš„è¯ï¼Œåªç§»åŠ¨ï¼›</li></ul></li><li><p>Boothç®—æ³•</p></li><li><script type="math/tex; mode=display">P_{i+1}=2^{-1}Ã—(P_i+XÃ—(Y_i-Y_{i+1}))</script><ul><li>åˆè¯†æƒ…å†µä»¤Y<sub>0</sub> = 0.</li><li>æ ¹æ® <em>Y<sub>i+1</sub> - Y<sub>i</sub></em> æ¥åˆ¤æ–­æ˜¯ <em>+Xï¼Œ-Xï¼Œ+0</em></li><li>å³ç§»éƒ¨åˆ†å’Œï¼›</li><li>é‡å¤ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ï¼›</li></ul></li><li><p>ä¸ºäº†ä½¿ç»“æœæ­£ç¡®ï¼Œæ¯ä¸€æ­¥åº”å½“ä½¿ç”¨ç®—æ•°å³ç§»ã€‚è¡¥å……ä¸Šå»çš„ç¬¦å·ä½åœ¨è®¡ç®—å‡ºç»“æœçš„ç¬¦å·ä½ä¼šè¢«èˆå»ã€‚</p></li></ul><h3 id="6-Division"><a href="#6-Division" class="headerlink" title="6. Division"></a>6. Division</h3><ul><li>å°†è¢«é™¤æ•°ï¼ˆremainderï¼‰çš„å·¦è¾¹è¡¥ä¸Š<em>n</em>ä½çš„<strong>ç¬¦å·ä½</strong>ï¼Œé™¤æ•°å·¦è¾¹è¡¥ä¸Š<em>n</em>ä½çš„0ï¼Œæ¯ä¸€æ¬¡å°†é™¤æ•°å‡è¢«é™¤æ•°ï¼Œå†å³ç§»é™¤æ•°ä¸€ä½ï¼Œè‹¥å·®å¤§äºç­‰äº0ï¼Œåˆ™åœ¨æ­¤å¤„çš„å•†ç½®ä¸º1ï¼Œå°†å•†å·¦ç§»ä¸€ä½ã€‚ï¼ˆåŸå§‹ç‰ˆæœ¬ï¼‰<ul><li>ï¼ˆremainderå’Œquotientåˆåœ¨ä¸€èµ·ï¼‰ä¾ç„¶æ˜¯ç”¨divisionå‡remainderï¼ˆå‰é¢çš„nä½ï¼‰ï¼Œå¦‚æœæ˜¯å¼‚å·åˆ™ç”¨åŠ æ³•ã€‚</li></ul></li><li><strong>ä½™æ•°ä¸€å®šå’Œè¢«é™¤æ•°åŒå·</strong>ï¼ˆç”¨é™¤æ•°ä¸æ–­å»é€¼è¿‘è¢«é™¤æ•°ï¼Œä½†æ˜¯ä¸èƒ½è¶Šè¿‡å®ƒï¼‰</li><li>å½“é™¤æ•°å’Œè¢«é™¤æ•°å¼‚å·çš„æ—¶å€™ï¼Œæ¯æ¬¡æ“ä½œçš„å‡æ³•å˜ä¸º<em>åŠ æ³•</em>ã€‚</li><li>è‹¥æ¯æ¬¡çš„åŠ æ³•æˆ–å‡æ³•æº¢å‡ºï¼Œåˆ™åšé€†æ“ä½œä½¿å¾—è¢«é™¤æ•°æ¢å¤ï¼ˆrecoverï¼‰ã€‚</li><li>å¦‚æœè¢«é™¤æ•°å’Œé™¤æ•°çš„å¼‚å·çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å•†ä¿®æ­£â€”â€”å–ååŠ ä¸€ã€‚</li><li><img src="/img/é™¤æ³•.png" alt="é™¤æ³•ç¬¦å·è¡¨"></li><li><strong>å°†é”™å°±é”™ç‰ˆæœ¬</strong>ï¼š<ul><li>ç¬¦å·æ‰©å±•nä½ï¼Œç„¶åå­˜å‚¨åœ¨ä½™æ•°-å•†å¯„å­˜å™¨ï¼›</li><li>å¦‚æœè¢«é™¤æ•°å’Œé™¤æ•°æœ‰ç›¸åŒçš„ç¬¦å·åšå‡æ³•ï¼Œå¦åˆ™åšåŠ æ³•ï¼š<ul><li>å¦‚æœä½™æ•°å’Œé™¤æ•°æœ‰ç›¸åŒçš„ç¬¦å·ï¼Œ<em>Q<sub>n</sub></em>ä¸º1ï¼Œåä¹‹ä¸º0ã€‚</li></ul></li><li>å¦‚æœä½™æ•°å’Œé™¤æ•°æœ‰ç›¸åŒçš„ç¬¦å·ï¼Œé‚£ä¹ˆ <em>R<sub>i+1</sub> = 2R<sub>i</sub> - Y</em> ï¼Œå¦åˆ™ <em>R<sub>i+1</sub> = 2R<sub>i</sub> + Y</em> ï¼ˆæ³¨ï¼šæœ‰ç›¸åŒç¬¦å·è¯´æ˜ä¸éœ€è¦è¡¥ä¸Šä¹‹å‰é”™å‡çš„æ“ä½œï¼Œç»§ç»­-Yå°±å¯ä»¥ï¼›è‹¥ä¸åŒè¯´æ˜éœ€è¦å‡å»ä¹‹å‰çš„æ“ä½œï¼Œå› ä¸ºå‰é¢å·²ç»é”™å‡äº†ï¼Œå·¦ç§»*2ä¹‹åï¼ŒåŠ ä¸Šä¸€ä¸ªYå°±å¯ä»¥ï¼‰<ul><li>å¦‚æœæ–°çš„ä½™æ•°å’Œé™¤æ•°æœ‰ç›¸åŒçš„ç¬¦å·ï¼Œå°†å•†ç½®ä¸º1ï¼Œå¦åˆ™ç½®ä¸º0ã€‚</li></ul></li><li>é‡å¤ã€‚</li></ul></li></ul><h3 id="7-æµ®ç‚¹æ•°è¿ç®—"><a href="#7-æµ®ç‚¹æ•°è¿ç®—" class="headerlink" title="7. æµ®ç‚¹æ•°è¿ç®—"></a>7. æµ®ç‚¹æ•°è¿ç®—</h3><ul><li>å¯¹é˜¶</li></ul>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>çº¢é»‘æ ‘</tag>
      
      <tag>æ¸è¿›å¤æ‚æ€§</tag>
      
      <tag>ALU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TOEFL_reading_notes</title>
    <link href="/2020/09/22/TOEFL-reading-notes/"/>
    <url>/2020/09/22/TOEFL-reading-notes/</url>
    
    <content type="html"><![CDATA[<h3 id="é¢˜å‹ä¸€ï¼šVocabulary-Questions"><a href="#é¢˜å‹ä¸€ï¼šVocabulary-Questions" class="headerlink" title="é¢˜å‹ä¸€ï¼šVocabulary Questions"></a>é¢˜å‹ä¸€ï¼šVocabulary Questions</h3><p>only one of those meanings is relevant.</p><h4 id="åšé¢˜æ–¹æ³•"><a href="#åšé¢˜æ–¹æ³•" class="headerlink" title="åšé¢˜æ–¹æ³•"></a>åšé¢˜æ–¹æ³•</h4><ul><li>è®¤è¯†è¦é€‰å¯¹ï¼›</li><li>æ²¡æœ‰ä¸è®¤è¯†çš„ï¼›</li><li>æ±‚åŒï¼šæ²¾è¾¹å°±å¯¹ï¼›ä¸å­˜å¼‚ï¼šä¸åšåŒä¹‰è¯è¾¨æã€‚</li></ul><h4 id="ç»ƒä¹ æ–¹æ³•"><a href="#ç»ƒä¹ æ–¹æ³•" class="headerlink" title="ç»ƒä¹ æ–¹æ³•"></a>ç»ƒä¹ æ–¹æ³•</h4><p>é¢˜å¹²ä¸€ä¸ªè¯ + é€‰é¡¹å››ä¸ªè¯ =&gt; æŸ¥è‹±æ–‡è¯å…¸è®°ä½ï¼›</p><h3 id="é¢˜å‹äºŒï¼šSentence-Simplification-Questions"><a href="#é¢˜å‹äºŒï¼šSentence-Simplification-Questions" class="headerlink" title="é¢˜å‹äºŒï¼šSentence Simplification Questions"></a>é¢˜å‹äºŒï¼šSentence Simplification Questions</h3><p>essential meaning.</p><h4 id="åšé¢˜æ–¹æ³•-1"><a href="#åšé¢˜æ–¹æ³•-1" class="headerlink" title="åšé¢˜æ–¹æ³•"></a>åšé¢˜æ–¹æ³•</h4><ol><li><p>ç¡®å®šé¢˜å¹²å¥å­çš„é€»è¾‘å…³ç³»ï¼š</p><ul><li><p>é€»è¾‘å…³ç³»è¯ï¼š1. è¿è¯ï¼Œ2. å‰¯è¯</p></li><li><p>æ„Ÿæƒ…è‰²å½©</p></li></ul></li><li><p>ç¡®å®šå’Œé€»è¾‘å…³ç³»ç›¸å…³çš„è¯­ä¹‰ï¼›</p></li><li>é€‰æ‹©é€»è¾‘æˆ–è€…ç›¸å…³è¯­ä¹‰ä¸€è‡´çš„é€‰é¡¹ï¼›</li></ol><ul><li>å¸¸è€ƒé€»è¾‘ï¼šå› æœã€æ¯”è¾ƒã€å¦å®šã€æœ€é«˜çº§<ul><li>Because / so;</li><li>Lead to / cause;</li><li>encourage;</li><li>be responsible for;</li></ul></li><li>è½¬æŠ˜ï¼šbut / while / whereas</li><li>è®©æ­¥ï¼šthough / despite / albeit</li><li>æ¡ä»¶ï¼šif / unless</li><li>å¹¶åˆ—ï¼šand / as well as</li></ul><p>é€»è¾‘ä½œç”¨çš„å¯¹è±¡ï¼š</p><ul><li>å› æœï¼šåŸå› ã€ç»“æœï¼›</li><li>æ¯”è¾ƒï¼šä¸»é¢˜ã€å¯¹è±¡ï¼›</li><li>å¦å®šã€æœ€é«˜çº§</li></ul><p><strong>åŸåˆ™æœ€ç®€åŒ– </strong> &amp;&amp;  <strong>å…ˆé€»è¾‘ï¼Œåè¯­æ„</strong></p><h3 id="é¢˜å‹ä¸‰ï¼šFactual-Information-Questions"><a href="#é¢˜å‹ä¸‰ï¼šFactual-Information-Questions" class="headerlink" title="é¢˜å‹ä¸‰ï¼šFactual Information Questions"></a>é¢˜å‹ä¸‰ï¼šFactual Information Questions</h3><p>explicitly stated <strong>æ˜ç¡®æåŠ</strong>            mentioned only in part of the passage.</p><p>Often the relevant information is in one or two sentences. <strong>åœ¨æ–‡ç« æŸä¸€éƒ¨åˆ†ä¸€åˆ°ä¸¤å¥è¯æ˜ç¡®æåŠçš„äº‹å®ä¿¡æ¯ã€‚</strong></p><h4 id="åšé¢˜æ–¹æ³•-2"><a href="#åšé¢˜æ–¹æ³•-2" class="headerlink" title="åšé¢˜æ–¹æ³•"></a>åšé¢˜æ–¹æ³•</h4><ul><li>å…ˆè¯»ä¸€æ®µæ–‡ç« ï¼Œååšè¯¥æ®µçš„é¢˜ï¼›</li><li>é¡ºåºï¼šäº‹å®ä¿¡æ¯ â€”â€”&gt; é¢˜å¹² â€”â€”&gt; ä¸€åˆ°ä¸¤å¥è¯ â€”â€”&gt; é€‰é¡¹ â€”â€”&gt; æ’é™¤ï¼ˆé€‰å¯¹çš„ï¼‰</li><li>å¹²æ‰°é€‰é¡¹ï¼šâ‘  ç­”éæ‰€é—®ï¼›â‘¡ æ— ä¸­ç”Ÿæœ‰ï¼›â‘¢ è™šå‡æ¯”è¾ƒï¼›</li></ul><ol><li><p>å®šä½ã€ç¼©å°é˜…è¯»èŒƒå›´ã€‘</p><ul><li><p>å®šä½æ–¹æ³•ï¼š</p><p>a. åè¯ &gt; åŠ¨è¯ã€å½¢å®¹è¯ã€å‰¯è¯ï¼›</p><p>b. ç‰¹æ®Š &gt; æ™®é€šï¼›</p><p>â€‹        ç‰¹æ®Šæƒ…å†µï¼š</p><p>â€‹                â‘  é¢˜å¹²å®šä½çº¿ç´¢åœ¨æ®µè½ä¸­å¤šæ¬¡å‡ºç°ï¼›</p><p>â€‹                â‘¡ çº¿ç´¢æ˜¯ title æˆ– topic ç”¨é€‰é¡¹å®šä½æ’é™¤æ³•ï¼›</p><p>c. å¯¹åè¯ä¿®é¥°ä¹Ÿåœ¨å®šä½èŒƒå›´å†…ï¼›</p><p>d. ç‰¹æ®Šç–‘é—®è¯ï¼ˆwhere/when/why/howï¼‰.</p></li></ul></li><li><p>ç²¾è¯»ï¼šå•è¯\è¯­æ³•\é€»è¾‘</p></li><li><p>åŒä¹‰æ”¹å†™ï¼šåŸæ–‡å’Œé€‰é¡¹ä¹‹é—´åŒæ„ä¿¡æ¯ç‚¹çš„å¯¹åº”ï¼›</p><ul><li>é€‰é¡¹å’ŒåŸæ–‡ä¿¡æ¯ç‚¹å¯¹åº”æ›´å¤šæ›´é‡è¦çš„æ˜¯æ­£ç¡®é€‰é¡¹</li></ul></li></ol><p><strong><em>åˆ‡å¿Œï¼šè¿‡åº¦æ¨æ–­ï¼›ç”Ÿæ´»ç»éªŒ</em></strong></p><p>å…¸å‹é”™è¯¯é€‰é¡¹ï¼š</p><ul><li>ç­”éæ‰€é—®ï¼šé¢˜å¹²å®šä½çº¿ç´¢å’Œé¢˜ç›®é—®é¢˜ä¸ä¸€è‡´ï¼Œé¢˜å¹²ä¸­å‡ºç°è¡¨ç¤ºå› æœå…³ç³»çš„é€»è¾‘å…³ç³»è¯ï¼›Because/so/since/for/as a result of â€¦ åŸºäºå› æœå…³ç³»ï¼Œæ‰©å¤§é˜…è¯»èŒƒå›´ã€‚</li><li>æ— ä¸­ç”Ÿæœ‰ï¼šé€‰é¡¹æ”¹å˜äº†åŸæ–‡åŠ¨ä½œä¸»é¢˜å’Œå¯¹è±¡ã€æ„Ÿæƒ…è‰²å½©ã€åŠ¨åè¯æ­é…ã€å¹¶åˆ—è¿è¯ã€å¦å®šè¯ï¼›</li><li>è™šå‡æ¯”è¾ƒï¼šé€‰é¡¹ä¸­å‡ºç°äº†åŸæ–‡ä¸­æ²¡æœ‰çš„æ¯”è¾ƒçº§ã€æœ€é«˜çº§ã€ç»å¯¹åŒ–ï¼ˆabsolute/extreme/definite/total/entire/all/every/any/neverï¼‰ã€èŒƒå›´æ‰©å¼ ï¼ˆsome/many/plenty/majority/major/most ofï¼‰</li><li>ä¼˜å…ˆè®¤å®šåŒ…å«è™šå‡æ¯”è¾ƒçš„é€‰é¡¹ä¸ºé”™è¯¯é€‰é¡¹ï¼Œå¦‚æœåŸæ–‡æœ‰ä¸€ä¸€å¯¹åº”åˆ™è¯¥é€‰é¡¹ä¸ºæ­£ç¡®é€‰é¡¹ï¼›</li></ul><h3 id="é¢˜å‹å››ï¼šNegative-Factual-Information-Questions"><a href="#é¢˜å‹å››ï¼šNegative-Factual-Information-Questions" class="headerlink" title="é¢˜å‹å››ï¼šNegative Factual Information Questions"></a>é¢˜å‹å››ï¼šNegative Factual Information Questions</h3><h4 id="åšé¢˜æ–¹æ³•ï¼š"><a href="#åšé¢˜æ–¹æ³•ï¼š" class="headerlink" title="åšé¢˜æ–¹æ³•ï¼š"></a>åšé¢˜æ–¹æ³•ï¼š</h4><ul><li>å®šä½</li><li>ç²¾è¯»</li><li>æ’é™¤</li><li>å¯¹åº”è§„åˆ™ï¼š<ul><li>å¯¹åº”åŸæ–‡é›†ä¸­ä¸¾ä¾‹ï¼šæ³¨æ„å¹³è¡Œç»“æ„ï¼›</li><li>å¯¹åº”åŸæ–‡åˆ†æ•£ä¸¾ä¾‹ï¼šé€‰é¡¹æ’é™¤æ³•ï¼›</li><li>æ®µè½ä¸­å­˜åœ¨å¤šé¡¹å¹¶åˆ—çš„å†…å®¹ï¼Œå¾€å¾€æœ‰æ’é™¤é¢˜ï¼›</li></ul></li></ul><h3 id="é¢˜å‹äº”ï¼šInference-Questions"><a href="#é¢˜å‹äº”ï¼šInference-Questions" class="headerlink" title="é¢˜å‹äº”ï¼šInference Questions"></a>é¢˜å‹äº”ï¼šInference Questions</h3><p>æ­£ç¡®ç­”æ¡ˆä¸åœ¨æ–‡ç« ä¸­æåŠã€‚</p><h4 id="åšé¢˜æ–¹æ³•ï¼š-1"><a href="#åšé¢˜æ–¹æ³•ï¼š-1" class="headerlink" title="åšé¢˜æ–¹æ³•ï¼š"></a>åšé¢˜æ–¹æ³•ï¼š</h4><ul><li>å®šä½</li><li>ç²¾è¯»</li><li>æ’é™¤</li><li>å› æœæ¨æ–­ï¼šç»“æœ â‰ˆ åŸå› </li></ul><h3 id="é¢˜å‹ä¸ƒï¼šInsert-Text-Question"><a href="#é¢˜å‹ä¸ƒï¼šInsert-Text-Question" class="headerlink" title="é¢˜å‹ä¸ƒï¼šInsert Text Question"></a>é¢˜å‹ä¸ƒï¼šInsert Text Question</h3><p>grammatical connections.</p><p>æ—¶é—´å‹åŠ›å¤§ï¼Œä¸æŒ‰æ–‡ç« é¡ºåºå‡º</p><p>æŒ‡ä»£ã€é€»è¾‘ã€é‡å¤</p><h4 id="åšé¢˜æ–¹æ³•ï¼š-2"><a href="#åšé¢˜æ–¹æ³•ï¼š-2" class="headerlink" title="åšé¢˜æ–¹æ³•ï¼š"></a>åšé¢˜æ–¹æ³•ï¼š</h4><ul><li>çº¿ç´¢æå– =&gt; é¢˜å¹²</li><li>çº¿ç´¢åŒ¹é… =&gt; åŸæ–‡</li><li>è¿è´¯æ€§æ£€æŸ¥ =&gt; é¢˜å¹² + åŸæ–‡</li></ul><p>ä»£è¯ï¼šä»£è¯æ‰€åœ¨å¥å­ä½äºè¢«æŒ‡ä»£åå­—æ‰€åœ¨å¥å­çš„åé¢ã€‚</p><p>é€»è¾‘ï¼š</p><ul><li>è¯æ€§ï¼š<ul><li>conj. â€”â€”&gt; å¥å­å†… â€”â€”&gt; ç®€åŒ–ï¼›</li><li>adv. â€”â€”&gt; å¥é—´ â€”â€”&gt; æ’å…¥ï¼›</li></ul></li><li>æ„Ÿæƒ…è‰²å½©ï¼šA but B<ul><li>æ­£é¢ï¼šå› æœï¼ˆæ„Ÿæƒ…è‰²å½©ä¸€è‡´ï¼‰</li><li>åé¢ï¼šè½¬æŠ˜ã€è®©æ­¥ã€æ¯”è¾ƒï¼›</li></ul></li></ul><p>é‡å¤ä¿¡æ¯ï¼š</p><ul><li>æ ‡å¿—è¯ï¼š<ul><li>that is to say / that is / namely / in other words æ¢å¥è¯è¯´ï¼›</li><li>in fact / indeed : give extra details to the topic just mentioned.ï¼›</li><li>similarly / likewise : ç›¸ä¼¼çš„ï¼Œç›¸åŒçš„ï¼›</li><li>ä¸¾ä¾‹ï¼šfor example è§‚ç‚¹ =&gt; ç»†èŠ‚ï¼ˆä¾‹å­ï¼‰</li></ul></li><li>æ— æ ‡å¿—è¯ï¼šåŒä¹‰è¯ã€åŒä¹‰æ›¿æ¢ï¼›</li><li>â€œè§‚ç‚¹é˜è¿°â€åŸåˆ™ï¼šæ¦‚æ‹¬ã€æŠ½è±¡åœ¨å‰ï¼›å…·ä½“ï¼Œç»†èŠ‚åœ¨åï¼›</li></ul><h5 id="é¢˜å¹²-â€”â€”-gt-æ‰¾çº¿ç´¢"><a href="#é¢˜å¹²-â€”â€”-gt-æ‰¾çº¿ç´¢" class="headerlink" title="é¢˜å¹² â€”â€”&gt; æ‰¾çº¿ç´¢"></a>é¢˜å¹² â€”â€”&gt; æ‰¾çº¿ç´¢</h5><ul><li>æŒ‡ä»£ â€”â€”&gt; pron. å¾€åæ”¾</li><li>é€»è¾‘ â€”â€”&gt; æ­£/å å¾€åæ”¾ï¼›</li><li>é‡å¤ â€”â€”&gt; å¾€åæ”¾ï¼›</li></ul><h3 id="é¢˜å‹å…«ï¼šRhetorical-Purpose-Question"><a href="#é¢˜å‹å…«ï¼šRhetorical-Purpose-Question" class="headerlink" title="é¢˜å‹å…«ï¼šRhetorical Purpose Question"></a>é¢˜å‹å…«ï¼šRhetorical Purpose Question</h3><p>{å…·ä½“ä¿¡æ¯ï¼Œæ®µè½åŠŸèƒ½ï¼Œæ®µè½å…³ç³»}</p><h4 id="åšé¢˜æ–¹æ³•ï¼š-3"><a href="#åšé¢˜æ–¹æ³•ï¼š-3" class="headerlink" title="åšé¢˜æ–¹æ³•ï¼š"></a>åšé¢˜æ–¹æ³•ï¼š</h4><ol><li>å®šä½</li><li>å½“å‰å¥æ˜¯è§‚ç‚¹ï¼Œæ˜¯ç­”æ¡ˆï¼›</li><li>å½“å‰å¥ä¸æ˜¯è§‚ç‚¹ï¼Œçœ‹å‰ä¸€å¥ï¼›</li><li>å‰ä¸€å¥ä¹Ÿä¸æ˜¯è§‚ç‚¹ï¼Œçœ‹æ®µè½ä¸»æ—¨å¥ï¼›</li></ol><p>å½“å‰å¥åŒ…å«æ˜ç¡®ä¸¾ä¾‹è¯çš„æ—¶å€™ï¼Œçœ‹å‰ä¸€å¥</p><p>å½“å‰å¥ä¸­æ²¡æœ‰æ˜ç¡®ä¸¾ä¾‹è¯çš„æ—¶å€™ï¼Œåˆ¤æ–­ï¼š</p><ul><li>ä¸¾ä¾‹ä¸»é¢˜æ˜¯å…·ä½“ç»†èŠ‚å†…å®¹ï¼›</li><li>å’Œå‰ä¸€å¥è¯æ²¡æœ‰è§‚ç‚¹å†²çªï¼›</li></ul><h5 id="ç›®çš„é¢˜ï¼š"><a href="#ç›®çš„é¢˜ï¼š" class="headerlink" title="ç›®çš„é¢˜ï¼š"></a>ç›®çš„é¢˜ï¼š</h5><p>å½“å‰å¥</p><ul><li>ä¸¾ä¾‹è¯â€”â€”å‰ä¸€å¥</li><li>æ— ä¸¾ä¾‹è¯<ul><li>å…·ä½“/æ— å†²çªâ€”â€”å‰ä¸€å¥</li><li>å†²çªâ€”â€”å½“å‰å¥</li></ul></li></ul><h5 id="æ®µè½åŠŸèƒ½"><a href="#æ®µè½åŠŸèƒ½" class="headerlink" title="æ®µè½åŠŸèƒ½"></a>æ®µè½åŠŸèƒ½</h5><p>What is the purpose/function/organization of the paragraph?</p><p>What is the relationship between Para1. and the rest of the passage in the larger discussion of xxx?</p><p>æ­£ç¡®é€‰é¡¹ï¼šmain idea + ç´§å¯†ç›¸å…³çš„é‡è¦å†…å®¹ï¼›</p><h5 id="æ®µè½å…³ç³»"><a href="#æ®µè½å…³ç³»" class="headerlink" title="æ®µè½å…³ç³»"></a>æ®µè½å…³ç³»</h5><p>Relationship between p1 and p2?</p><ol><li>é˜…è¯»èŒƒå›´ï¼šä¸¤å¥è¯â€”â€”å‰æ®µæœ«å¥å’Œåæ®µé¦–å¥ï¼›</li><li>å…³ç³»ç±»å‹ï¼šé¡ºæ‰¿ï¼›è½¬æŠ˜/å¯¹æ¯”ï¼›ä¸¾ä¾‹è§£é‡Š<ul><li>é¡ºæ‰¿ =&gt; è¯­æ„é“¾æ¥ï¼›</li><li>è½¬æŠ˜/å¯¹æ¯” =&gt; é€»è¾‘å…³ç³»è¯ however/on the contrary</li><li>ä¸¾ä¾‹ =&gt; for example</li><li>è§£é‡Šï¼šexplain/illustrate/elaborate/interpret</li></ul></li><li>åˆ¤æ–­æ–¹å¼<ul><li>å˜åŒ–ï¼šchange/move/shift/migration/become/deteriorate/diminish</li><li>é‡è¦ï¼šimportant/significant</li><li>å½±å“ï¼šeffect/influence/impact</li><li>å…³ç³»ï¼šrelate/connect</li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>TOEFL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TOEFL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>week2_Grade2_fall</title>
    <link href="/2020/09/18/week2-Grade2-fall/"/>
    <url>/2020/09/18/week2-Grade2-fall/</url>
    
    <content type="html"><![CDATA[<h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p>â€‹        ä¸Šä¸ªæœŸæœ«è€ƒè¯•æœŸç»“æŸï¼Œå°±æ‰“ç®—æ¯å‘¨åšä¸€ä¸ªå°çš„æ€»ç»“ï¼Œä¸€æ˜¯æ–¹ä¾¿åç»­çš„æ€»å¤ä¹ ï¼Œè€Œæ¥èƒ½å¤Ÿ push è‡ªå·±æŒ‰æ—¶æŒ‰è®¡åˆ’å¤ä¹ ã€‚æœ¬å­¦æœŸä¸»è¦å­¦ä¹ çš„è¯¾ç¨‹æœ‰ã€Šè®¡ç»„ã€‹ã€ã€Šç®—æ³•ã€‹ã€ã€Šæ•°æ®ç»“æ„ã€‹ã€ã€Šæ•°æ®ç§‘å­¦åŸºç¡€ã€‹è¿˜æœ‰ã€Šçº¿ä»£ã€‹ã€‚æ•°å­¦è¯¾çš„å†…å®¹é‡ç‚¹åœ¨äºåˆ·é¢˜ï¼Œä¸ä¼šåƒå…¶ä»–è¯¾ä¸€æ ·æ€»ç»“ä¸»è¦æ¦‚å¿µå’Œæ¡†æ¶ï¼Œå¯èƒ½ä¼šæ€»ç»“ä¸€äº›åé‡éš¾ç‚¹ã€‚å°½é‡ push è‡ªå·±åœ¨æ¯å¤©éƒ½è¡¥å……ä¸€äº›å†…å®¹ï¼Œä»¥ä¾¿äºåœ¨ä¸€å‘¨çš„å‘¨å…­å†…å‘å¸ƒã€‚</p><h2 id="ç®—æ³•è®¾è®¡ä¸åˆ†æ"><a href="#ç®—æ³•è®¾è®¡ä¸åˆ†æ" class="headerlink" title="ç®—æ³•è®¾è®¡ä¸åˆ†æ"></a>ç®—æ³•è®¾è®¡ä¸åˆ†æ</h2><h3 id="0-å°¾é€’å½’"><a href="#0-å°¾é€’å½’" class="headerlink" title="0. å°¾é€’å½’"></a>0. å°¾é€’å½’</h3><p>æˆ‘ä»¬å¸¸å¸¸ç”¨å°¾é€’å½’çš„æ–¹å¼å°†é€’å½’è½¬åŒ–ä¸ºè¿­ä»£ã€‚</p><h4 id="0-0-å›é¡¾-SICP-ä¸­-Scheme-çš„å°¾é€’å½’"><a href="#0-0-å›é¡¾-SICP-ä¸­-Scheme-çš„å°¾é€’å½’" class="headerlink" title="0.0. å›é¡¾ SICP ä¸­ Scheme çš„å°¾é€’å½’"></a>0.0. å›é¡¾ SICP ä¸­ Scheme çš„å°¾é€’å½’</h4><p>å› ä¸ºå‡½æ•°å¼è¯­è¨€çš„æœ€å¤§ç‰¹å¾ä¹‹ä¸€æ˜¯æ— æ³•èµ‹å€¼ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨è¿‡ç¨‹å¼è¯­è¨€ä¸­çš„ for æˆ–è€… while å¾ªç¯æ¥å®ç°è¿­ä»£ã€‚ä¸ºäº†å‡å°å¼€é”€ä½¿å¾—é€’å½’çš„æ•ˆç‡æ›´é«˜ï¼ŒScheme å¼•å…¥äº†å°¾é€’å½’ã€‚(è°ƒç”¨ä¹‹åé‡Šæ”¾ç©ºé—´ï¼Œä¸ä¼ ç»Ÿé€’å½’ä¸åŒ)</p><pre><code class="hljs scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">fact</span> n)  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">fact-tail</span> n result)    (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">&lt;=</span></span> n <span class="hljs-number">1</span>)        result        (<span class="hljs-name">fact-tail</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> n <span class="hljs-number">1</span>) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> n result))))  (<span class="hljs-name">fact-tail</span> n <span class="hljs-number">1</span>))</code></pre><p>Scheme ä¸­çš„é€’å½’ä¼šä½¿ç”¨ä¸€ä¸ªè¾…åŠ©å‡½æ•°ã€‚æ¯è°ƒç”¨ä¸€æ¬¡è¾…åŠ©å‡½æ•°ä¹‹åï¼Œå‡½æ•°ä¸éœ€è¦åœ¨è¿”å›åˆ°è°ƒç”¨è€…çš„å‡½æ•°ï¼Œè€Œæ˜¯ç›´æ¥å¸¦ç€ result è°ƒç”¨åç»­çš„å‡½æ•°ã€‚</p><h4 id="0-1-å°¾é€’å½’çš„åŸºæœ¬æ¦‚å¿µ"><a href="#0-1-å°¾é€’å½’çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="0.1. å°¾é€’å½’çš„åŸºæœ¬æ¦‚å¿µ"></a>0.1. å°¾é€’å½’çš„åŸºæœ¬æ¦‚å¿µ</h4><ul><li>å°¾é€’å½’ï¼šä¸€ä¸ªé€’å½’å‡½æ•°ä»…ä»…åœ¨è¿ç®—çš„æœ€åæ‰é€’å½’è°ƒç”¨è‡ªèº«ï¼Œå¹¶ä¸”è°ƒç”¨åç›´æ¥è¿”å›ã€‚</li><li><p>å°¾é€’å½’è½¬æ¢ä¸ºè¿­ä»£çš„æ–¹æ³•ï¼š</p><ul><li>å°†æ¯ä¸ªå‚æ•°è½¬æ¢ä¸ºå˜é‡å£°æ˜ï¼›</li><li>å°†å‡½æ•°ä½“è½¬æ¢ä¸ºä¸€ä¸ªå¾ªç¯ä½“ï¼Œå¹¶ä¸”å¯¹äºåŸºæœ¬æƒ…å†µç›´æ¥è¿”å›ç›¸åº”çš„ç»“æœï¼›é€’å½’è°ƒç”¨æ—¶ï¼Œé¦–å…ˆè®¡ç®—æ–°çš„å‚æ•°å¹¶èµ‹äºˆç›¸å…³çš„å˜é‡ï¼Œåé¢è·Ÿä¸Š continue çš„è¯­å¥ã€‚</li></ul></li><li><p>e.g.</p><pre><code class="hljs C">Euclid_recursion(<span class="hljs-keyword">int</span> m, <span class="hljs-keyword">int</span> n)&#123;<span class="hljs-keyword">if</span>(n == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> m;    <span class="hljs-keyword">else</span> &#123;        <span class="hljs-keyword">int</span> rem = m % n;        <span class="hljs-keyword">return</span> Euclid_Recursion(n, rem);    &#125;&#125;Euclid_tailRecursion(<span class="hljs-keyword">int</span> m1, <span class="hljs-keyword">int</span> n1)&#123;    <span class="hljs-keyword">int</span> m = m1;    <span class="hljs-keyword">int</span> n = n1;    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)&#123;<span class="hljs-comment">//while(true)æ¨¡å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥è½¬æ¢ä¸ºforå¾ªç¯ã€‚</span>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> m;        <span class="hljs-keyword">else</span> &#123;            <span class="hljs-keyword">int</span> tmp = n;            n = m % n;            m = n;        &#125;    &#125;&#125;</code></pre></li></ul><h3 id="1-æ’åºé—®é¢˜å’Œæ’åºç®—æ³•-1"><a href="#1-æ’åºé—®é¢˜å’Œæ’åºç®—æ³•-1" class="headerlink" title="1. æ’åºé—®é¢˜å’Œæ’åºç®—æ³•-1"></a>1. æ’åºé—®é¢˜å’Œæ’åºç®—æ³•-1</h3><h4 id="1-1-æ’å…¥æ’åºï¼ˆInsertion-Sort"><a href="#1-1-æ’å…¥æ’åºï¼ˆInsertion-Sort" class="headerlink" title="1. 1. æ’å…¥æ’åºï¼ˆInsertion Sort)"></a>1. 1. æ’å…¥æ’åºï¼ˆInsertion Sort)</h4><h5 id="1-1-1-æ’å…¥æ’åºçš„åŸºæœ¬å†…æ¶µå’Œå®ç°"><a href="#1-1-1-æ’å…¥æ’åºçš„åŸºæœ¬å†…æ¶µå’Œå®ç°" class="headerlink" title="1.1.1. æ’å…¥æ’åºçš„åŸºæœ¬å†…æ¶µå’Œå®ç°"></a>1.1.1. æ’å…¥æ’åºçš„åŸºæœ¬å†…æ¶µå’Œå®ç°</h5><ul><li><p>åŸºæœ¬æƒ…å†µï¼šn == 1æ—¶ï¼Œä¸éœ€è¦æ’åºã€‚</p></li><li><p>é€’å½’æƒ…å†µï¼šn &gt; 1æ—¶ï¼Œåˆ†æˆä¸¤ç»„â€”â€”ä»»æ„æ•° v å’Œå…¶ä½™çš„n-1ä¸ªæ•°ï¼›ç„¶åé€’å½’åœ°æ’å¥½å‰©ä¸‹çš„n-1ä¸ªæ•°ï¼Œå†å°†væ’å…¥åˆ°å·²ç»æ’åºå®Œæˆçš„æ•°åˆ—çš„é€‚å½“ä½ç½®ï¼Œå¾—åˆ°æ’åºå®Œæˆçš„æ•°ç»„ã€‚</p></li><li><p>å¦‚ä½•æ’å…¥ï¼Ÿ(ä¸‹é¢çš„Insert_Abså°±æ˜¯æ’å…¥ç®—æ³•)</p><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] Insert_Abs(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span>[] list)&#123;<span class="hljs-keyword">if</span>(list.length() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> v;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v &lt;= Head(list)) <span class="hljs-keyword">return</span> &#123;v&#125; + list;<span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> Head(list) + Insert_Abs(v, Tail(list));&#125;</code></pre></li><li><p>å®ç°</p><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] insert(<span class="hljs-keyword">int</span>[] A)&#123;    <span class="hljs-keyword">int</span> i, j;    <span class="hljs-keyword">int</span> len = A.length;    <span class="hljs-keyword">int</span> target;    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">1</span>; i&lt;len-<span class="hljs-number">1</span>; i++)&#123;        j = i;        target = A[i];<span class="hljs-comment">//ç­‰ä»·äºpptä¸­æ¨å¯¼æ—¶æ‰€ç”¨åˆ°çš„v</span>        <span class="hljs-keyword">while</span>(j&gt;<span class="hljs-number">0</span> &amp;&amp; target&lt;A[j-<span class="hljs-number">1</span>])&#123;<span class="hljs-comment">//ä¸€æ—¦targetæ¯”å‰é¢çš„å…ƒç´ å¤§ï¼Œé‚£ä¹ˆå°±æ’å…¥å®ƒçš„åé¢</span>            A[j] = A[--j];<span class="hljs-comment">//å¦åˆ™å°†å…ƒç´ åç§»ä¸€ä½ï¼Œç©ºå‡ºä½ç½®ç»™targetã€‚</span>        &#125;<span class="hljs-comment">//è¿™ä¸ªç®—æ³•çš„å®ç°å’Œè¯¾ä¸Šæ‰€è®²çš„ç•¥æœ‰ä¸åŒ</span>        A[j] = target;<span class="hljs-comment">//è¿™ä¸ªç®—æ³•æ˜¯ä»å‰å‘åæ’å…¥ï¼Œè¯¾ä¸Šæ˜¯ä»åå‘å‰</span>    &#125;    <span class="hljs-keyword">return</span> A;&#125;</code></pre></li></ul><h5 id="1-1-2-æ’å…¥æ’åº-Insert-å‡½æ•°çš„å¾ªç¯ä¸å˜å¼"><a href="#1-1-2-æ’å…¥æ’åº-Insert-å‡½æ•°çš„å¾ªç¯ä¸å˜å¼" class="headerlink" title="1.1.2. æ’å…¥æ’åº Insert å‡½æ•°çš„å¾ªç¯ä¸å˜å¼"></a>1.1.2. æ’å…¥æ’åº Insert å‡½æ•°çš„å¾ªç¯ä¸å˜å¼</h5><ul><li>åˆå§‹æƒ…å†µä¸‹ï¼Œä»start+1åˆ°endæ˜¯æ’å¥½åºçš„ï¼›</li><li>åœ¨ç»è¿‡ä¸€æ¬¡æ“ä½œä¹‹åï¼Œä»startåˆ°endæ˜¯æ’å¥½åºï¼›</li><li>å¾ªç¯ä¸€å®šæ˜¯å¯ä»¥ç»ˆæ­¢åœ¨ i = len-1çš„ï¼›</li></ul><h5 id="1-1-3-æœ€åæƒ…å†µåˆ†æ"><a href="#1-1-3-æœ€åæƒ…å†µåˆ†æ" class="headerlink" title="1.1.3. æœ€åæƒ…å†µåˆ†æ"></a>1.1.3. æœ€åæƒ…å†µåˆ†æ</h5><ul><li><p>æœ€åæƒ…å†µï¼šé€†åº</p></li><li><p>æ—¶é—´å¤æ‚åº¦ï¼šÎŸ(n<sup>2</sup>)</p></li><li><p>å¹³å‡æƒ…å†µï¼šå¯¹äºæ¯ä¸€ä¸ª i ï¼Œå¯¹åº”ä¼šæœ‰ j ä¸ªæ¯”è¾ƒæ¬¡æ•°ï¼ˆå†…å¾ªç¯ï¼‰ã€‚</p><script type="math/tex; mode=display">\frac{1}{i+1}\sum_{j=1}^{i}j + \frac{1}{i+1}(i) = \frac{i}{2}+1-\frac{1}{i+1}</script><p>æ±‚å’Œä¹‹åï¼Œä»æ˜¯ ÎŸ(n<sup>2</sup>)ã€‚</p></li></ul><h4 id="1-2-å¿«é€Ÿæ’åº"><a href="#1-2-å¿«é€Ÿæ’åº" class="headerlink" title="1.2. å¿«é€Ÿæ’åº"></a>1.2. å¿«é€Ÿæ’åº</h4><h5 id="1-2-1-åŸºæœ¬æ€è·¯å’Œå®ç°"><a href="#1-2-1-åŸºæœ¬æ€è·¯å’Œå®ç°" class="headerlink" title="1.2.1 åŸºæœ¬æ€è·¯å’Œå®ç°"></a>1.2.1 åŸºæœ¬æ€è·¯å’Œå®ç°</h5><ul><li><p>æŒ‰ç…§æŸä¸ªæ•°è¿›è¡Œåˆ’åˆ†ï¼Œå°äºè¿™ä¸ªæ•°çš„ä½œä¸ºä¸€éƒ¨åˆ†ï¼Œå¤§äºè¿™ä¸ªæ•°çš„ä½œä¸ºå¦ä¸€éƒ¨åˆ†ã€‚</p></li><li><p>é‡‡ç”¨åˆ†åˆ’ç®—æ³• Partition(v, list) å°†liståˆ†åˆ’æˆä¸¤ä¸ªlistï¼šsmallerListä¸­çš„å€¼éƒ½å°äºvï¼ŒbiggerListä¸­éƒ½å¤§äºç­‰äºvã€‚</p></li><li><p>æœ‰å…³å®ç°ï¼š</p><ul><li>Partition å‡½æ•°åˆ†å‰²åçš„å€¼ä»ç„¶å­˜æ”¾åœ¨è¿™ä¸ªåŒºåŸŸã€‚</li><li>QuickSort ä¹‹åå¾—åˆ°çš„æ•°æ®ä»ç„¶å­˜æ”¾åœ¨ç›¸åŒçš„åŒºåŸŸã€‚</li></ul></li><li><p>ä»¥ä¸‹æ˜¯â€œæŒ–å‘æ³•â€ï¼šï¼ˆå‡åœ¨æ•°ç»„çš„åŸåœ°å€ç©ºé—´å†…è¿›è¡Œæ”¹åŠ¨ï¼‰</p><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end)</span></span>&#123;  <span class="hljs-keyword">if</span>(end &lt;= start) <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">int</span> pivotIndex = partition(arr, start, end);    quickSort(arr, start, pivotIndex-<span class="hljs-number">1</span>);    quickSort(arr, pivotIndex+<span class="hljs-number">1</span>, end);&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">partition</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end)</span></span>&#123;    <span class="hljs-keyword">int</span> pivot = arr[start];    <span class="hljs-keyword">int</span> left = start;    <span class="hljs-keyword">int</span> right = end;    <span class="hljs-keyword">int</span> index = start; <span class="hljs-comment">//æŒ–å‘çš„ä½ç½®</span>    <span class="hljs-keyword">while</span> (left &lt;= right)&#123;        <span class="hljs-comment">//ä»å³è¾¹å‘å·¦è¾¹æ‰¾åˆ°æ¯”æ ‡è®°æ›´å°çš„ï¼Œå°†å®ƒè½¬ç§»åˆ°æ ‡è®°çš„å·¦è¾¹</span>        <span class="hljs-keyword">while</span> (left &lt;= right)&#123;            <span class="hljs-keyword">if</span>(arr[right] &lt; pivot)&#123;                arr[left] = arr[right];                index = right;                left++;                <span class="hljs-keyword">break</span>;            &#125;            right--;        &#125;        <span class="hljs-comment">//ä»å·¦å‘å³æ‰¾åˆ°æ¯”æ ‡è®°æ›´å¤§çš„ï¼Œå°†å®ƒæ¢è½¬ç§»åˆ°æ ‡è®°çš„å³è¾¹ï¼Œè‹¥ä¸Šé¢å‘ç”Ÿäº†æ›´æ¢ï¼Œé‚£ä¹ˆè¿™é‡Œä¹Ÿä¸€å®šæ˜¯æŠŠPivotå¡«å†™åœ¨ä¸Šä¸€ä¸ªå¾ªç¯æŒ–å‡ºçš„ç©ºé—´ä¸­ï¼›</span>        <span class="hljs-keyword">while</span> (left &lt;= right) &#123;            <span class="hljs-keyword">if</span> (arr[left] &gt; pivot)&#123;                arr[right] = arr[left];                index = left;                right--;                <span class="hljs-keyword">break</span>;            &#125;            left++;        &#125;    &#125;<span class="hljs-comment">//è¡¥ä¸Šæ¼æ´</span>    arr[index] = pivot;    <span class="hljs-keyword">return</span> index;&#125;</code></pre><ul><li>â€œæŒ‡é’ˆäº¤æ¢æ³•â€ï¼šå…ˆæŠŠpivotä»¥å¤–çš„å…ƒç´ æ’å¥½ï¼Œå†æŠŠpivotæ’å…¥åˆ°å…¶ä¸­ç›¸åº”çš„ä½ç½®ã€‚</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end)</span></span>&#123;    <span class="hljs-keyword">if</span>(start &gt;= end) <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">int</span> pivotIndex = partition(arr, start, end);    quickSort(arr, start, pivotIndex-<span class="hljs-number">1</span>);    quickSort(arr, pivotIndex+<span class="hljs-number">1</span>, end);&#125;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">partition</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end)</span></span>&#123;    <span class="hljs-keyword">int</span> pivot = arr[start];    <span class="hljs-keyword">int</span> left = start;    <span class="hljs-keyword">int</span> right = end;    <span class="hljs-keyword">while</span> (left &lt; right) &#123;        <span class="hljs-comment">//æ§åˆ¶rightæŒ‡é’ˆæ¯”è¾ƒå¹¶å·¦ç§»</span>        <span class="hljs-keyword">while</span> (left &lt; right &amp;&amp; arr[right]&gt;pivot)&#123;        right--;    &#125;        <span class="hljs-comment">//æ§åˆ¶rightæŒ‡é’ˆæ¯”è¾ƒå¹¶å³ç§»</span>        <span class="hljs-keyword">while</span> (left &lt; right &amp;&amp; arr[left] &lt;= pivot)&#123;            left++;        &#125;        <span class="hljs-comment">//äº¤æ¢leftå’ŒrightæŒ‡å‘çš„å…ƒç´ </span>    <span class="hljs-keyword">if</span>(arr[left]&gt;arr[right])&#123;            <span class="hljs-keyword">int</span> p = arr[left];            arr[left] = arr[right];            arr[right] = p;        &#125;    &#125;        <span class="hljs-comment">//pivotå’ŒæŒ‡é’ˆé‡åˆç‚¹äº¤æ¢ï¼Œå¤§æ¦‚æ˜¯ä¸­ç‚¹çš„ä½ç½®</span>    <span class="hljs-keyword">int</span> p = arr[left];    arr[left] = arr[start];    arr[start] = p;    <span class="hljs-keyword">return</span> left;&#125;</code></pre><ul><li>å¯ä»¥ç”¨â€œæ ˆâ€é‡å†™éé€’å½’å½¢å¼çš„å¿«é€Ÿæ’åºï¼š</li></ul><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end)</span></span>&#123;    Stack&lt;Map&lt;String, Integer&gt;&gt; quickSortStack = <span class="hljs-keyword">new</span> Stack&lt;Map&lt;String, Integer&gt;&gt;();    Map&lt;String, Integer&gt; rootParam = <span class="hljs-keyword">new</span> HashMap&lt;String, Integer&gt;();    rootParam.put(<span class="hljs-string">&quot;start&quot;</span>, start);    rootParam.put(<span class="hljs-string">&quot;end&quot;</span>, end);    quickSortStack.push(rootParam);      <span class="hljs-keyword">while</span> (!quickSortStack.isEmpty()) &#123;        Map&lt;String, Integer&gt; param = quickSortStack.pop();        <span class="hljs-keyword">int</span> pivotIndex = partition(arr, param.get(<span class="hljs-string">&quot;start&quot;</span>), param.get(<span class="hljs-string">&quot;end&quot;</span>));        <span class="hljs-keyword">if</span>(param.get(<span class="hljs-string">&quot;start&quot;</span>) &lt; pivotIndex-<span class="hljs-number">1</span>)&#123;            Map&lt;String, Integer&gt; leftParam = <span class="hljs-keyword">new</span> HashMap&lt;String, Integer&gt;();            leftParam.put(<span class="hljs-string">&quot;start&quot;</span>, param.get(<span class="hljs-string">&quot;start&quot;</span>));            leftParam.put(<span class="hljs-string">&quot;end&quot;</span>, pivotIndex-<span class="hljs-number">1</span>);            quickSortStack.push(leftParam);        &#125;          <span class="hljs-keyword">if</span>(pivotIndex+<span class="hljs-number">1</span> &lt; param.get(<span class="hljs-string">&quot;end&quot;</span>)) &#123;            Map&lt;String, Integer&gt; rightParam = <span class="hljs-keyword">new</span> HashMap&lt;String, Integer&gt;();            rightParam.put(<span class="hljs-string">&quot;start&quot;</span>, pivotIndex+<span class="hljs-number">1</span>);            rightParam.put(<span class="hljs-string">&quot;end&quot;</span>, param.get(<span class="hljs-string">&quot;end&quot;</span>));            quickSortStack.push(rightParam);        &#125;    &#125;&#125;  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">partition</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end)</span></span>&#123;    <span class="hljs-keyword">int</span> pivot = arr[start];    <span class="hljs-keyword">int</span> left = start;    <span class="hljs-keyword">int</span> right = end;      <span class="hljs-keyword">while</span> (left &lt; right) &#123;        <span class="hljs-keyword">while</span> (left &lt; right &amp;&amp; arr[right]&gt;pivot)&#123;            right--;        &#125;          <span class="hljs-keyword">while</span> (left &lt; right &amp;&amp; arr[left] &lt;= pivot)&#123;            left++;        &#125;          <span class="hljs-keyword">if</span>(arr[left]&gt;arr[right])&#123;            <span class="hljs-keyword">int</span> p = arr[left];            arr[left] = arr[right];            arr[right] = p;        &#125;          System.out.println(pivot);    &#125;      <span class="hljs-keyword">int</span> p = arr[left];    arr[left] = arr[start];    arr[start] = p;      <span class="hljs-keyword">return</span> left;&#125;</code></pre></li></ul><h2 id="è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„"><a href="#è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„" class="headerlink" title="è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„"></a>è®¡ç®—æœºç»„ç»‡ä¸ç»“æ„</h2><h3 id="1-Introduction-å‰ç»"><a href="#1-Introduction-å‰ç»" class="headerlink" title="1. Introduction å‰ç»"></a>1. Introduction å‰ç»</h3><h4 id="1-1-ç»“æ„ä¸ç»„ç»‡-Architecture-amp-Organization"><a href="#1-1-ç»“æ„ä¸ç»„ç»‡-Architecture-amp-Organization" class="headerlink" title="1.1. ç»“æ„ä¸ç»„ç»‡ Architecture &amp; Organization"></a>1.1. ç»“æ„ä¸ç»„ç»‡ Architecture &amp; Organization</h4><h5 id="1-1-1-Architecture-ç»“æ„"><a href="#1-1-1-Architecture-ç»“æ„" class="headerlink" title="1.1.1. Architecture ç»“æ„"></a>1.1.1. Architecture ç»“æ„</h5><ul><li>å¯¹ç¨‹åºå‘˜å¯è§ï¼ˆvisible to programmerï¼‰ï¼›</li><li>å¯¹ç¨‹åºçš„é€»è¾‘åŠ è½½æœ‰ç›´æ¥å½±å“ï¼›</li></ul><h5 id="1-1-2-Organization-ç»„ç»‡"><a href="#1-1-2-Organization-ç»„ç»‡" class="headerlink" title="1.1.2 Organization ç»„ç»‡"></a>1.1.2 Organization ç»„ç»‡</h5><ul><li>å¯¹ç¨‹åºå‘˜ä¸å¯è§ï¼ˆencapuslated to programmerï¼‰ï¼›</li><li>æ“ä½œå•å…ƒå’Œå†…éƒ¨é“¾æ¥ï¼›</li></ul><h4 id="1-2-å†¯è¯ºä¾æ›¼æ¶æ„"><a href="#1-2-å†¯è¯ºä¾æ›¼æ¶æ„" class="headerlink" title="1.2. å†¯è¯ºä¾æ›¼æ¶æ„"></a>1.2. å†¯è¯ºä¾æ›¼æ¶æ„</h4><h5 id="1-2-1-ç»„æˆéƒ¨åˆ†"><a href="#1-2-1-ç»„æˆéƒ¨åˆ†" class="headerlink" title="1.2.1. ç»„æˆéƒ¨åˆ†"></a>1.2.1. ç»„æˆéƒ¨åˆ†</h5><ul><li>å­˜å‚¨å™¨ï¼šåœ°å€å’Œå­˜å‚¨çš„å†…å®¹ï¼›</li><li>å¤„ç†å•å…ƒï¼šæ‰§è¡Œä¿¡æ¯çš„å®é™…å¤„ç†ï¼›</li><li>æ§åˆ¶å•å…ƒï¼šæŒ‡æŒ¥ä¿¡æ¯çš„å¤„ç†ï¼›</li><li>è¾“å…¥è®¾å¤‡ï¼šå°†ä¿¡æ¯é€å…¥è®¡ç®—æœºä¸­ï¼›</li><li>è¾“å‡ºè®¾å¤‡ï¼šå°†å¤„ç†ç»“æœä»¥æŸç§å½¢å¼æ˜¾ç¤ºåœ¨è®¡ç®—æœºå¤–ï¼›</li><li><img src="å†¯è¯ºä¾æ›¼.png" alt="å†¯è¯ºä¾æ›¼æ¶æ„"></li></ul><h4 id="1-3-æ‘©å°”å®šå¾‹"><a href="#1-3-æ‘©å°”å®šå¾‹" class="headerlink" title="1.3. æ‘©å°”å®šå¾‹"></a>1.3. æ‘©å°”å®šå¾‹</h4><p>å•ä¸ªèŠ¯ç‰‡ä¸Šçš„æ™¶ä½“ç®¡æ•°é‡æ¯è¿‡18ä¸ªæœˆå°±ä¼šç¿»ä¸€å€ã€‚</p><p><img src="æ•°æ®æµå‘.png" alt="æ•°æ®æµå‘å›¾"></p><h4 id="1-4-CPUè¡¨ç°ï¼ˆCPU-Performanceï¼‰"><a href="#1-4-CPUè¡¨ç°ï¼ˆCPU-Performanceï¼‰" class="headerlink" title="1.4. CPUè¡¨ç°ï¼ˆCPU Performanceï¼‰"></a>1.4. CPUè¡¨ç°ï¼ˆCPU Performanceï¼‰</h4><h5 id="1-3-1-ç³»ç»Ÿæ—¶é’Ÿ"><a href="#1-3-1-ç³»ç»Ÿæ—¶é’Ÿ" class="headerlink" title="1.3.1 ç³»ç»Ÿæ—¶é’Ÿ"></a>1.3.1 ç³»ç»Ÿæ—¶é’Ÿ</h5><ul><li>æ—¶é’Ÿé¢‘ç‡ï¼ˆClock rateï¼‰ï¼šè®¡ç®—æœºåœ¨è¿›è¡ŒåŸºæœ¬æ“ä½œæ—¶ï¼Œä¸€ç§’å†…çš„æ—¶é’Ÿå‘¨æœŸé¢‘æ•°ã€‚</li><li>æ—¶é’Ÿå‘¨æœŸï¼ˆClock cycleï¼‰ï¼šCPUçš„ä¸€æ¬¡ç”µç£è„‰å†²ï¼›</li><li>å‘¨æœŸæ—¶é—´ï¼ˆCycle timeï¼‰ï¼šè„‰å†²ä¹‹é—´çš„æ—¶é—´ï¼›</li></ul><h5 id="1-3-2-æŒ‡ä»¤åŠ è½½"><a href="#1-3-2-æŒ‡ä»¤åŠ è½½" class="headerlink" title="1.3.2 æŒ‡ä»¤åŠ è½½"></a>1.3.2 æŒ‡ä»¤åŠ è½½</h5><ul><li><p>CPIï¼ˆCycles Per Instructionï¼‰ï¼šä¸€æ¡æŒ‡ä»¤æ‰€ç»å†çš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼›</p></li><li><p>æ€»CPIçš„è®¡ç®—å…¬å¼ï¼š</p><script type="math/tex; mode=display">CPI = \frac{\sum_{i=1}^{n}(CPI_iÃ—I_i)}{I_C}, I_C=\sum_{i-1}^{n}I_i</script></li><li><p>å¤„ç†æ—¶é—´</p><script type="math/tex; mode=display">T=I_CÃ—CPIÃ—t</script><script type="math/tex; mode=display">T=I_CÃ—[p+(mÃ—k)]Ã—t</script><p>pï¼šä»å¤„ç†å™¨åˆ°å­˜å‚¨å™¨ä¹‹é—´ä¼ è¾“æ¶ˆè€—çš„æ—¶é’Ÿå‘¨æœŸï¼›</p></li><li><p>Million Instructions Per Second (MIPS)</p><script type="math/tex; mode=display">MIPS=\frac{I_C}{TÃ—10^6}=\frac{f}{CPIÃ—10^6}</script></li><li><p>Million Floating Point Operations Per Second (MFLOPS)</p><script type="math/tex; mode=display">MFLOPS=\frac{N_{floating-point op}}{TÃ—10^6}</script></li></ul><h5 id="1-3-3-è¯„ä»·æ ‡å‡†ï¼ˆBenchmarksï¼‰"><a href="#1-3-3-è¯„ä»·æ ‡å‡†ï¼ˆBenchmarksï¼‰" class="headerlink" title="1.3.3 è¯„ä»·æ ‡å‡†ï¼ˆBenchmarksï¼‰"></a>1.3.3 è¯„ä»·æ ‡å‡†ï¼ˆBenchmarksï¼‰</h5><ul><li><p>è¯„æµ‹ç³»ç»Ÿçš„è¡¨ç°ï¼›</p></li><li><p>å¹³å‡ç»“æœï¼š</p><ul><li>ç®—æœ¯å¹³å‡å€¼ï¼šç»“æœä¹‹å’Œé™¤ä»¥æ€»æ•°ï¼Œå¾—åˆ°å¹³å‡çš„ç»“æœï¼›</li></ul><script type="math/tex; mode=display">R_A = \frac{1}{m}\sum_{i=1}^{m}R_i</script><ul><li>è°ƒå’Œå¹³å‡å€¼ï¼šä¸€æ¬¡é™¤ä»¥ç»“æœå¾—åˆ°å•æ¬¡ç»“æœçš„å€’æ•°ï¼Œå¯¹å…¶æ±‚å’Œå†å»é™¤æ€»æ¬¡æ•°å¾—åˆ°è°ƒå’Œå¹³å‡å€¼ï¼›</li></ul><script type="math/tex; mode=display">R_H=\frac{m}{\sum_{i=1}^{m}\frac{1}{R_i}}</script></li></ul><h3 id="2-è®¡ç®—æœºçš„é¡¶å±‚è§†è§’"><a href="#2-è®¡ç®—æœºçš„é¡¶å±‚è§†è§’" class="headerlink" title="2. è®¡ç®—æœºçš„é¡¶å±‚è§†è§’"></a>2. è®¡ç®—æœºçš„é¡¶å±‚è§†è§’</h3><h4 id="2-1-è®¡ç®—æœºç»„æˆå…ƒç´ "><a href="#2-1-è®¡ç®—æœºç»„æˆå…ƒç´ " class="headerlink" title="2.1. è®¡ç®—æœºç»„æˆå…ƒç´ "></a>2.1. è®¡ç®—æœºç»„æˆå…ƒç´ </h4><ul><li>æ•°æ®å’ŒæŒ‡ä»¤å­˜å‚¨åœ¨ä¸€ä¸ªå¯è¯»å¯å†™å­˜å‚¨å™¨ï¼›</li><li>å­˜å‚¨å™¨å¯å¯»å€ï¼›</li><li>æŒ‡ä»¤çš„åŠ è½½æŒ‰ä¸€å®šé¡ºåºè¿›è¡Œï¼›</li></ul><h4 id="2-1-1-å­˜å‚¨å™¨"><a href="#2-1-1-å­˜å‚¨å™¨" class="headerlink" title="2.1.1. å­˜å‚¨å™¨"></a>2.1.1. å­˜å‚¨å™¨</h4><ul><li><img src="/img/å†…å­˜å¢™.png" alt=""></li><li>Memory Wallï¼šæ•°æ®ä»ä¸»å­˜åˆ°CPUä¹‹é—´çš„ä¼ è¾“é€Ÿåº¦çš„å‘å±•é€Ÿåº¦éš¾ä»¥è·Ÿå¾—ä¸ŠCPUçš„å‘å±•é€Ÿåº¦ã€‚</li><li>è§£å†³æ–¹æ¡ˆï¼šåœ¨ä¸»å­˜å’ŒCPUä¹‹é—´æ·»åŠ ä¸€ä¸ªcacheæ¥å‡å°‘ä¸»å­˜çš„é«˜é¢‘è®¿é—®å’Œæ•°æ®ä¼ é€ç‡ï¼›æé«˜ä¸€æ¬¡è·å–çš„ä¿¡æ¯é‡ï¼›</li><li><img src="/img/å­˜å‚¨å™¨.png" alt=""></li></ul><h5 id="2-1-1-1-çº¦æŸæ¡ä»¶"><a href="#2-1-1-1-çº¦æŸæ¡ä»¶" class="headerlink" title="2.1.1.1. çº¦æŸæ¡ä»¶"></a>2.1.1.1. çº¦æŸæ¡ä»¶</h5><ul><li>å®¹é‡ï¼šè¶Šå¤§è¶Šå¥½ï¼›</li><li>é€Ÿåº¦ï¼šè·Ÿå¾—ä¸Šå¤„ç†å™¨ï¼›</li><li>æˆæœ¬ï¼šç›¸æ¯”å…¶ä»–ç»„ä»¶å¯ä»¥æ¥å—ï¼›</li></ul><h5 id="2-1-1-2-çº¦æŸæ¡ä»¶ä¹‹é—´çš„å…³ç³»"><a href="#2-1-1-2-çº¦æŸæ¡ä»¶ä¹‹é—´çš„å…³ç³»" class="headerlink" title="2.1.1.2. çº¦æŸæ¡ä»¶ä¹‹é—´çš„å…³ç³»"></a>2.1.1.2. çº¦æŸæ¡ä»¶ä¹‹é—´çš„å…³ç³»</h5><ul><li>è®¿é—®æ—¶é—´è¶ŠçŸ­ï¼Œå•ä½æ¯”ç‰¹çš„æˆæœ¬è¶Šé«˜ï¼›</li></ul><h5 id="2-1-1-3-è§£å†³æªæ–½"><a href="#2-1-1-3-è§£å†³æªæ–½" class="headerlink" title="2.1.1.3. è§£å†³æªæ–½"></a>2.1.1.3. è§£å†³æªæ–½</h5><ul><li>å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ï¼ˆé‡‘å­—å¡”ï¼‰ï¼›</li><li><img src="/img/å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„.png" alt=""></li></ul><h4 id="2-1-2-I-O"><a href="#2-1-2-I-O" class="headerlink" title="2.1.2. I/O"></a>2.1.2. I/O</h4><ul><li>åœ¨å­˜å‚¨å™¨ã€CPUå’Œå¤–éƒ¨èµ„æºä¹‹é—´äº¤æ¢æ•°æ®çš„æ¨¡å—ï¼›</li></ul><h5 id="2-1-2-1-Problem"><a href="#2-1-2-1-Problem" class="headerlink" title="2.1.2.1. Problem"></a>2.1.2.1. Problem</h5><ul><li>I/O è¡¨ç°ä¸èƒ½å¤Ÿè·Ÿå¾—ä¸Š CPU é€Ÿåº¦çš„å¢é•¿ï¼›</li><li>è§£å†³æ–¹æ¡ˆï¼šç¼“å†²åŒºï¼›</li></ul><h4 id="2-1-3-CPU"><a href="#2-1-3-CPU" class="headerlink" title="2.1.3. CPU"></a>2.1.3. CPU</h4><h5 id="2-1-3-1-Problem"><a href="#2-1-3-1-Problem" class="headerlink" title="2.1.3.1. Problem"></a>2.1.3.1. Problem</h5><ul><li>CPU åœ¨ç­‰å¾… I/O è®¾å¤‡æ—¶éœ€è¦ç­‰å¾…ï¼›</li><li>è§£å†³æ–¹æ¡ˆï¼š<ul><li>ä¸­æ–­ï¼šä¸€ç§è¢«å…¶ä»–æ¨¡å—æ‰“æ–­å¹¶å¯èƒ½å½±å“æ­£å¸¸å¤„ç†é¡ºåºæ—¶çš„æœºåˆ¶ï¼›</li><li><img src="/img/ä¸­æ–­æœºåˆ¶.png" alt=""></li></ul></li><li>ä¸­æ–­æ£€æµ‹</li><li><img src="/img/ä¸­æ–­å¤„ç†.png" alt=""></li></ul><h5 id="2-1-3-2-å¤šé‡ä¸­æ–­ï¼ˆåˆ†ä¼˜å…ˆçº§åµŒå¥—ä¸­æ–­ï¼‰"><a href="#2-1-3-2-å¤šé‡ä¸­æ–­ï¼ˆåˆ†ä¼˜å…ˆçº§åµŒå¥—ä¸­æ–­ï¼‰" class="headerlink" title="2.1.3.2. å¤šé‡ä¸­æ–­ï¼ˆåˆ†ä¼˜å…ˆçº§åµŒå¥—ä¸­æ–­ï¼‰"></a>2.1.3.2. å¤šé‡ä¸­æ–­ï¼ˆåˆ†ä¼˜å…ˆçº§åµŒå¥—ä¸­æ–­ï¼‰</h5><ul><li><img src="/img/å¤šä¸­æ–­.png" alt=""></li><li>è¿˜æœ‰ä¸€ç§æ‰§è¡Œå®Œä¸€ä¸ªä¸­æ–­å†æ‰§è¡Œä¸‹ä¸€ä¸ªçš„ä¸­æ–­ï¼›</li></ul><h5 id="2-1-3-3-Theoretical-maximum-performance"><a href="#2-1-3-3-Theoretical-maximum-performance" class="headerlink" title="2.1.3.3. Theoretical maximum performance"></a>2.1.3.3. Theoretical maximum performance</h5><p><img src="/img/å¤„ç†å·®è·.png" alt=""></p><ul><li>éšç€æŠ€æœ¯çš„å‘å±•ï¼Œå‡ºç°äº†æµæ°´çº¿ã€é«˜é€Ÿç¼“å­˜ã€å¤šæ ¸å¤šçº¿ç¨‹ç­‰ç­‰ä½¿å¾—è®¡ç®—æœºæ€§èƒ½è¡¨ç°çªé£çŒ›è¿›ï¼›</li><li>æ—¶é’Ÿé¢‘ç‡ä¹Ÿåœ¨ä¸æ–­ä¸Šæ¶¨ï¼Œä½†æ˜¯ä¸Šæ¶¨åˆ°äº†ä¸€å®šæ•°å€¼å°±åœæ»äº†ã€‚å¦‚æœæ—¶é’Ÿé¢‘ç‡è¿‡é«˜ï¼Œå•æ¡æŒ‡ä»¤çš„å¤„ç†æ—¶é—´ä¼šç¼©çŸ­ï¼Œå¤„ç†èƒ½åŠ›ä¼šä¸‹é™ã€‚</li></ul><h4 id="2-1-4-æ€»çº¿-Bus"><a href="#2-1-4-æ€»çº¿-Bus" class="headerlink" title="2.1.4. æ€»çº¿ Bus"></a>2.1.4. æ€»çº¿ Bus</h4><ul><li>è¿æ¥å¤šä¸ªè®¾å¤‡çš„é€šè·¯â€”â€”æ€»çº¿ï¼›</li><li><img src="/img/æ€»çº¿.png" alt=""></li></ul><h5 id="2-1-4-1-æ•°æ®ä¼ è¾“ç±»å‹"><a href="#2-1-4-1-æ•°æ®ä¼ è¾“ç±»å‹" class="headerlink" title="2.1.4.1. æ•°æ®ä¼ è¾“ç±»å‹"></a>2.1.4.1. æ•°æ®ä¼ è¾“ç±»å‹</h5><ul><li>æ•°æ®çº¿ï¼šåœ¨ç³»ç»Ÿæ¨¡å—ä¹‹é—´ä¼ è¾“æ•°æ®ï¼›</li><li>åœ°å€çº¿ï¼šæŒ‡å®š<em>æ•°æ®çº¿ä¸Šå’ŒI/Oç«¯å£ä¸Š</em>çš„æ•°æ®çš„<strong>æ¥æºæˆ–è€…ç›®çš„åœ°</strong>çš„åœ°å€ï¼›</li><li>æ§åˆ¶çº¿ï¼šæ§åˆ¶ã€è®¿é—®ã€‘ã€ã€æ•°æ®çš„ä½¿ç”¨ã€‘å’Œã€åœ°å€çº¿çš„ä½¿ç”¨ã€‘ï¼›</li><li>æ•°æ®çº¿å’Œåœ°å€çº¿ä¸Šçš„å†…å®¹å¯ä»¥å¤ç”¨ï¼›æ§åˆ¶çº¿ä¸Šçš„å†…å®¹ä¸èƒ½å¤ç”¨ï¼›</li><li><img src="/img/ä¸‰ç§çº¿.png" alt=""></li></ul><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h3 id="0-C-åŸºç¡€"><a href="#0-C-åŸºç¡€" class="headerlink" title="0. C++åŸºç¡€"></a>0. C++åŸºç¡€</h3><ul><li>ç³»ç»Ÿå¼€å‘çš„ä¸€ç§æ–¹æ³•æ˜¯æŠŠç±»çš„å£°æ˜æ”¾åœ¨ header æ–‡ä»¶ä¸­ï¼Œæˆå‘˜å‡½æ•°çš„å®ç°åˆ†å¼€æ”¾åœ¨ä»£ç æ–‡ä»¶ä¸­ï¼Œåœ¨å‡½æ•°çš„å®ç°ä»£ç ä¸­é€šè¿‡<strong>ä½œç”¨åŸŸè®¾å®šå‘½ä»¤â€œ::â€</strong>ï¼Œå°†è¯¥å‡½æ•°å½’å±åˆ°æŸä¸€ç±»ã€‚</li><li>struct çš„é»˜è®¤è®¿é—®çº§åˆ«æ˜¯publicï¼Œè€Œ class ä¸­çš„é»˜è®¤è®¿é—®çº§åˆ«æ˜¯ privateã€‚é™¤æ­¤ä¹‹å¤–ï¼Œstruct ä¸ class æ˜¯ç­‰ä»·çš„ã€‚</li></ul><h3 id="1-ç®—æ³•"><a href="#1-ç®—æ³•" class="headerlink" title="1. ç®—æ³•"></a>1. ç®—æ³•</h3><h4 id="1-1-ç®—æ³•å®šä¹‰"><a href="#1-1-ç®—æ³•å®šä¹‰" class="headerlink" title="1.1. ç®—æ³•å®šä¹‰"></a>1.1. ç®—æ³•å®šä¹‰</h4><ul><li><strong>æœ‰è¾“å…¥</strong></li><li><strong>æœ‰è¾“å‡º</strong></li><li><strong>ç¡®å®šæ€§</strong></li><li><strong>æœ‰ç©·æ€§</strong></li><li><strong>èƒ½è¡Œæ€§</strong></li></ul><h4 id="1-2-ç®—æ³•çš„æ€§èƒ½æ ‡å‡†"><a href="#1-2-ç®—æ³•çš„æ€§èƒ½æ ‡å‡†" class="headerlink" title="1.2. ç®—æ³•çš„æ€§èƒ½æ ‡å‡†"></a>1.2. ç®—æ³•çš„æ€§èƒ½æ ‡å‡†</h4><ul><li>æ­£ç¡®æ€§</li><li>å¯ä½¿ç”¨æ€§</li><li>å¯è¯»æ€§</li><li>æ•ˆç‡</li><li>å¥å£®æ€§</li><li>ç®€å•æ€§</li></ul>]]></content>
    
    
    <categories>
      
      <category>WeeklyReview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WeeklyReview</tag>
      
      <tag>æ’å…¥æ’åº</tag>
      
      <tag>å°¾é€’å½’</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-6</title>
    <link href="/2020/05/03/CoreJava-6/"/>
    <url>/2020/05/03/CoreJava-6/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-6-æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»"><a href="#Chapter-6-æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»" class="headerlink" title="Chapter 6 æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»"></a>Chapter 6 æ¥å£ã€lambdaè¡¨è¾¾å¼å’Œå†…éƒ¨ç±»</h3><ol><li>æ¥å£æ˜¯å¯¹ç±»çš„ä¸€ç»„éœ€æ±‚æè¿°ã€‚<ul><li>æ¥å£ä¸èƒ½å«æœ‰å®ä¾‹åŸŸã€‚</li><li>å®ç°ä¸€ä¸ªæ¥å£çš„æ­¥éª¤ï¼šâ‘ å°†ç±»å£°æ˜ä¸ºå®ç°ç»™å®šçš„æ¥å£ã€‚â‘¡å¯¹æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå®šä¹‰ã€‚</li><li>å¯ä»¥åˆ©ç”¨æ³›å‹ä¸ºæ¥å£æä¾›ä¸€ä¸ªç±»å‹å‚æ•°ã€‚</li></ul></li><li>æ¥å£çš„ç‰¹æ€§<ul><li>æ¥å£å¯ä»¥è¢«æ‹“å±•ã€‚</li><li>æ¥å£ä¸­å¯ä»¥åŒ…å«å¸¸é‡ã€‚</li><li>æ¥å£ä¸­çš„åŸŸå°†è¢«è‡ªåŠ¨è®¾ä¸ºpublic static finalã€‚</li><li>æ¯ä¸ªç±»å¯ä»¥æ‹¥æœ‰å¤šä¸ªæ¥å£ã€‚</li></ul></li><li><strong>ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œå´å¯ä»¥æœ‰å¤šä¸ªæ¥å£ã€‚</strong></li><li>é»˜è®¤æ–¹æ³•ï¼Œå¯ä»¥ä¸ºæ¥å£æ–¹æ³•æä¾›ä¸€ä¸ªé»˜è®¤å®ç°ã€‚å¿…é¡»ç”¨defaultä¿®é¥°ç¬¦æ ‡è®°è¿™æ ·ä¸€ä¸ªæ–¹æ³•ã€‚</li></ol><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Comparable</span>&lt;<span class="hljs-title">T</span>&gt;</span>&#123;    <span class="hljs-function"><span class="hljs-keyword">default</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(T other)</span></span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; &#125;&#125;</code></pre><ol><li><strong>è§£å†³é»˜è®¤æ–¹æ³•å†²çª</strong>ã€‚å¦‚æœå…ˆåœ¨ä¸€ä¸ªæ¥å£ä¸­å°†ä¸€ä¸ªæ–¹æ³•å®šä¹‰ä¸ºé»˜è®¤æ–¹æ³•ï¼Œç„¶ååˆåœ¨è¶…ç±»æˆ–å¦ä¸€ä¸ªæ¥å£ä¸­å®šä¹‰äº†åŒæ ·çš„æ–¹æ³•ã€‚<ol><li>è¶…ç±»ä¼˜å…ˆã€‚å¦‚æœè¶…ç±»æä¾›äº†ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼ŒåŒåè€Œä¸”æœ‰ç›¸åŒå‚æ•°ç±»å‹çš„é»˜è®¤æ–¹æ³•ä¼šè¢«å¿½ç•¥ã€‚</li><li>æ¥å£å†²çªã€‚å¦‚æœè¶…æ¥å£æä¾›äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ¥å£æä¾›äº†ä¸€ä¸ªåŒåè€Œä¸”å‚æ•°ç±»å‹ç›¸åŒçš„æ–¹æ³•ï¼Œå¿…é¡»è¦†ç›–è¿™ä¸ªæ–¹æ³•æ¥è§£å†³å†²çªã€‚</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-5</title>
    <link href="/2020/04/26/CoreJava-5/"/>
    <url>/2020/04/26/CoreJava-5/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-5-ç»§æ‰¿"><a href="#Chapter-5-ç»§æ‰¿" class="headerlink" title="Chapter 5 ç»§æ‰¿"></a>Chapter 5 ç»§æ‰¿</h3><ol><li><p>å®šä¹‰å­ç±»</p><ul><li>å…³é”®å­—extendsè¡¨æ˜æ­£åœ¨æ„é€ çš„æ–°ç±»æ´¾ç”Ÿäºä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ã€‚å·²å­˜åœ¨çš„ç±»ç§°ä¸º<strong>è¶…ç±»ã€åŸºç±»ã€çˆ¶ç±»ï¼›</strong>æ–°ç±»ç§°ä¸º<strong>å­ç±»ã€æ´¾ç”Ÿç±»æˆ–å­©å­ç±»ã€‚</strong>å­ç±»çš„åŠŸèƒ½æ¯”è¶…ç±»æ›´åŠ ä¸°å¯Œã€‚</li><li>é€šè¿‡æ‰©å±•è¶…ç±»å®šä¹‰å­ç±»çš„æ—¶å€™ï¼Œä»…éœ€è¦æŒ‡å‡ºå­ç±»ä¸è¶…ç±»çš„ä¸åŒä¹‹å¤„ã€‚</li></ul></li><li><p>è¦†ç›–æ–¹æ³•ï¼ˆoverrideï¼‰</p><ul><li>Managerç±»çš„getSalaryæ–¹æ³•ä¸èƒ½å¤Ÿç›´æ¥åœ°è®¿é—®è¶…ç±»çš„ç§æœ‰åŸŸã€‚åªæœ‰Employeeç±»çš„æ–¹æ³•æ‰èƒ½å¤Ÿè®¿é—®ç§æœ‰éƒ¨åˆ†ã€‚</li><li>superä¸æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä»–åªæ˜¯ä¸€ä¸ªæŒ‡ç¤ºç¼–è¯‘å™¨è°ƒç”¨è¶…ç±»æ–¹æ³•çš„æŒ‡ç¤ºå™¨ã€‚<pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getSalary</span><span class="hljs-params">()</span></span>&#123;    <span class="hljs-comment">//double baseSalary = getSalary();è¿™å¥ä¹Ÿä¸å¯ä»¥ï¼Œå› ä¸ºgetSalaryä¼šå¾ªç¯è°ƒç”¨ï¼›</span>    <span class="hljs-keyword">double</span> baseSalary = <span class="hljs-keyword">super</span>.gerSalary();    <span class="hljs-keyword">return</span> baseSalary + bonus;&#125;</code></pre></li></ul></li><li><p>å­ç±»æ„é€ å™¨</p><ul><li>è¯­å¥super(n, s, year, month, day)æ˜¯â€œè°ƒç”¨è¶…ç±»Employeeä¸­å«æœ‰nã€sã€yearã€monthã€dayå‚æ•°çš„æ„é€ å™¨â€çš„ç®€å†™å½¢å¼ã€‚</li><li>Managerç±»ä¸èƒ½è®¿é—®Employeeçš„ç§æœ‰åŸŸï¼Œæ‰€ä»¥å¿…é¡»åˆ©ç”¨Employeeç±»çš„æ„é€ å™¨å¯¹è¿™éƒ¨åˆ†ç§æœ‰åŸŸè¿›è¡Œåˆå§‹åŒ–ã€‚é€šè¿‡superå®ç°å¯¹è¶…ç±»æ„é€ å™¨çš„è°ƒç”¨ã€‚<strong>ä½¿ç”¨superè°ƒç”¨æ„é€ å™¨çš„è¯­å¥å¿…é¡»æ˜¯å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€æ¡è¯­å¥ã€‚</strong></li><li>æ²¡æœ‰ä½¿ç”¨superå°±ä¼šè‡ªåŠ¨è°ƒç”¨é»˜è®¤ï¼ˆå³æ— å‚æ•°ï¼‰æ„é€ å™¨ã€‚<pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Manager</span><span class="hljs-params">(String name, <span class="hljs-keyword">double</span> salary, <span class="hljs-keyword">int</span> year, <span class="hljs-keyword">int</span> month, <span class="hljs-keyword">int</span> day)</span></span>&#123;    <span class="hljs-keyword">super</span>(name, salary, year, month, day);    bonus = <span class="hljs-number">0</span>;&#125;</code></pre></li></ul></li><li><p>ç»§æ‰¿å±‚æ¬¡ï¼Œç»§æ‰¿å¹¶ä¸é™äºä¸€ä¸ªå±‚æ¬¡ã€‚</p><ul><li>ç”±ä¸€ä¸ªå…¬å…±è¶…ç±»æ´¾ç”Ÿå‡ºæ¥çš„æ‰€æœ‰ç±»çš„é›†åˆè¢«ç§°ä¸º<em>ç»§æ‰¿å±‚æ¬¡</em>ã€‚</li><li>åœ¨ç»§æ‰¿å±‚æ¬¡ä¸­ï¼Œä»æŸä¸ªç‰¹å®šçš„ç±»åˆ°å…¶ç¥–å…ˆçš„è·¯å¾„è¢«ç§°ä¸ºè¯¥ç±»çš„<em>ç»§æ‰¿é“¾</em>ã€‚</li></ul></li><li><p>å¤šæ€</p><ul><li>â€œis-aâ€è§„åˆ™çš„å¦ä¸€ç§è¡¨è¿°æ³•æ˜¯ç½®æ¢æ³•åˆ™ã€‚å®ƒè¡¨æ˜ç¨‹åºä¸­å‡ºç°è¶…ç±»çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ç”¨å­ç±»å¯¹è±¡ç½®æ¢ã€‚</li><li>åœ¨Javaä¸­ï¼Œå­ç±»æ•°ç»„çš„å¼•ç”¨å¯ä»¥è½¬æ¢æˆè¶…ç±»æ•°ç»„çš„å¼•ç”¨ï¼Œè€Œä¸éœ€è¦é‡‡ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</li></ul></li></ol><pre><code class="hljs Java">Manager[] manager = <span class="hljs-keyword">new</span> Manager[<span class="hljs-number">10</span>];Employee[] staff = managers;<span class="hljs-comment">//managerså’Œstaffå¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„ã€‚</span></code></pre><ol><li><p><strong><em>ç†è§£æ–¹æ³•è°ƒç”¨</em></strong>ï¼Œä¸‹é¢å‡è®¾è¦è°ƒç”¨x.f(args),éšå¼å‚æ•°å£°æ˜ä¸ºä¸€ä¸ªç±»Cçš„å¯¹è±¡ã€‚</p><ul><li>ç¼–è¯‘å™¨æŸ¥çœ‹å¯¹è±¡çš„å£°æ˜ç±»å‹å’Œæ–¹æ³•åã€‚å¦‚æœå­˜åœ¨å¤šä¸ªåå­—ä¸ºfä½†å‚æ•°ç±»å‹ä¸ä¸€æ ·çš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæ„ä¹‰åˆ—ä¸¾æ‰€æœ‰Cç±»ä¸­åä¸ºfçš„æ–¹æ³•å’Œå…¶è¶…ç±»ä¸­è®¿é—®å±æ€§ä¸ºpublicä¸”åä¸ºfçš„æ–¹æ³•ï¼ˆè¶…ç±»çš„ç§æœ‰æ–¹æ³•ä¸å¯è®¿é—®ï¼‰ã€‚</li><li>æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨å°†æŸ¥çœ‹è°ƒç”¨æ–¹æ³•æ—¶æä¾›çš„å‚æ•°ç±»å‹ã€‚å¦‚æœåœ¨æ‰€æœ‰åä¸ºfçš„æ–¹æ³•ä¸­å­˜åœ¨ä¸€ä¸ªä¸æä¾›å‚æ•°ç±»å‹å®Œå…¨åŒ¹é…ï¼Œå°±é€‰æ‹©è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹å«â€œ<strong>é‡è½½è§£æ</strong>â€ã€‚å…è®¸ç±»å‹è½¬æ¢ã€‚å¦‚æœç¼–è¯‘å™¨æ²¡æœ‰æ‰¾åˆ°ä¸å‚æ•°ç±»å‹åŒ¹é…çš„æ–¹æ³•ï¼Œæˆ–è€…å‘ç°ç»è¿‡ç±»å‹è½¬æ¢åæœ‰å¤šä¸ªæ–¹æ³•ä¸ä¹‹åŒ¹é…ï¼Œå°±ä¼šæŠ¥ä¸€ä¸ªé”™è¯¯ã€‚</li><li>å¦‚æœæ˜¯privateæ–¹æ³•ã€staticæ–¹æ³•ã€finalæ–¹æ³•æˆ–è€…æ„é€ å™¨ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†å¯ä»¥å‡†ç¡®åœ°çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°†è¿™ç§æ–¹æ³•ç§°ä¸º<strong>é™æ€ç»‘å®š</strong>ã€‚ä¸æ­¤å¯¹åº”çš„æ˜¯ï¼Œè°ƒç”¨çš„æ–¹æ³•<strong>ä¾èµ–äºéšå¼å‚æ•°çš„å®é™…ç±»å‹</strong>ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶æ—¶é—´<strong>åŠ¨æ€ç»‘å®š</strong>ã€‚</li><li>å½“ç¨‹åºè¿è¡Œï¼Œå¹¶ä¸”é‡‡ç”¨åŠ¨æ€ç»‘å®šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œè™šæ‹Ÿæœºä¸€å®šè°ƒç”¨ä¸xæ‰€å¼•ç”¨å¯¹è±¡çš„å®é™…ç±»å‹æœ€åˆé€‚çš„é‚£ä¸ªæ–¹æ³•ã€‚<ul><li>å‡è®¾xçš„å®é™…ç±»å‹æ˜¯Dï¼Œå®ƒæ˜¯Cç±»çš„å­ç±»ã€‚å¦‚æœDç±»å®šä¹‰äº†æ–¹æ³•f(String)ï¼Œå°±ç›´æ¥è°ƒç”¨å®ƒï¼›å¦åˆ™ï¼Œå°†åœ¨Dç±»çš„è¶…ç±»ä¸­å¯»æ‰¾f(String)ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul></li><li>æ–¹æ³•è¡¨ï¼šåˆ—å‡ºäº†æ‰€æœ‰æ–¹æ³•çš„ç­¾åå’Œå®é™…è°ƒç”¨çš„æ–¹æ³•ã€‚å¦‚æœè°ƒç”¨super.f(param)ï¼Œç¼–è¯‘å™¨å°†å¯¹éšå¼å‚æ•°è¶…ç±»çš„æ–¹æ³•è¡¨è¿›è¡Œæœç´¢ã€‚</li><li>è°ƒç”¨ e.getSalary() çš„è§£æè¿‡ç¨‹ä¸ºï¼š<ul><li>é¦–å…ˆï¼Œè™šæ‹Ÿæœºæå–eçš„å®é™…ç±»å‹çš„æ–¹æ³•è¡¨ã€‚</li><li>æ¥ä¸‹æ¥ï¼Œè™šæ‹Ÿæœºæœç´¢å®šä¹‰getSalaryç­¾åçš„ç±»ã€‚æ­¤æ—¶ï¼Œè™šæ‹Ÿæœºå·²ç»çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚</li><li>æœ€åï¼Œè™šæ‹Ÿæœºè°ƒç”¨æ–¹æ³•ã€‚</li></ul></li><li>åŠ¨æ€ç»‘å®šæœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼šæ— éœ€å¯¹ç°å­˜çš„ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œå°±å¯ä»¥å¯¹ç¨‹åºè¿›è¡Œæ‰©å±•ã€‚</li><li>åœ¨è¦†ç›–ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå­ç±»æ–¹æ³•ä¸èƒ½ä½äºè¶…ç±»æ–¹æ³•çš„å¯è§æ€§ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœè¶…ç±»æ–¹æ³•æ˜¯publicï¼Œå­ç±»æ–¹æ³•ä¸€å®šè¦å£°æ˜ä¸ºpublicã€‚</li></ul></li><li><p>é˜»æ­¢ç»§æ‰¿ï¼šfinalç±»å’Œæ–¹æ³•</p><ul><li>ä¸å…è®¸æ‰©å±•çš„ç±»è¢«ç§°ä¸ºfinalç±»ã€‚</li><li>å£°æ˜æ ¼å¼ï¼špublic final class Executive extends Manager{ â€¦ }</li><li>ç±»ä¸­çš„ç‰¹å®šæ–¹æ³•ä¹Ÿå¯ä»¥è¢«å£°æ˜ä¸ºfinalã€‚å¦‚æœè¿™æ ·åšï¼Œå­ç±»å°±ä¸èƒ½è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œfinalç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•è‡ªåŠ¨åœ°æˆä¸ºfinalæ–¹æ³•ã€‚</li><li>å°†æ–¹æ³•æˆ–ç±»å£°æ˜ä¸ºfinalä¸»è¦ç›®çš„æ˜¯ï¼šç¡®ä¿å®ƒä»¬ä¸ä¼šåœ¨å­ç±»ä¸­æ”¹å˜è¯­æ„ã€‚</li><li>å¦‚æœä¸€ä¸ªæ–¹æ³•æ²¡æœ‰è¢«è¦†ç›–å¹¶ä¸”å¾ˆçŸ­ï¼Œç¼–è¯‘å™¨å°±èƒ½å¤Ÿå¯¹å®ƒè¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º<em>å†…è”</em>ã€‚å¦‚æœå­ç±»ä¸­æœ‰è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œä¼˜åŒ–å™¨å°†å–æ¶ˆå¯¹è¦†ç›–æ–¹æ³•çš„å†…è”ã€‚</li></ul></li><li><p>å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä»…éœ€è¦ç”¨ä¸€å¯¹åœ†æ‹¬å·å°†ç›®æ ‡ç±»åæ‹¬èµ·æ¥ï¼Œå¹¶æ”¾ç½®åœ¨éœ€è¦è½¬æ¢çš„å¯¹è±¡å¼•ç”¨ä¹‹å‰å°±å¯ä»¥äº†ã€‚</p><ul><li>è¿›è¡Œç±»å‹è½¬æ¢çš„å”¯ä¸€åŸå› æ˜¯ï¼šåœ¨æš‚æ—¶å¿½è§†å¯¹è±¡çš„å®é™…ç±»å‹ä¹‹åï¼Œä½¿ç”¨å¯¹è±¡çš„å…¨éƒ¨åŠŸèƒ½ã€‚</li><li>å°†ä¸€ä¸ªå­ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªè¶…ç±»å˜é‡ï¼Œç¼–è¯‘å™¨æ˜¯å…è®¸çš„ã€‚ä½†å°†ä¸€ä¸ªè¶…ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªå­ç±»å˜é‡ï¼Œå¿…é¡»è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿé€šè¿‡è¿è¡Œæ—¶çš„æ£€æŸ¥ã€‚<ul><li><strong>åœ¨è¿›è¡Œç±»å‹è½¬æ¢ä¹‹å‰ï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦èƒ½å¤ŸæˆåŠŸåœ°è½¬æ¢ã€‚</strong></li><li><strong>åªèƒ½åœ¨ç»§æ‰¿å±‚æ¬¡å†…è¿›è¡Œç±»å‹è½¬æ¢</strong></li><li><strong>åœ¨å°†è¶…ç±»è½¬æ¢æˆå­ç±»ä¹‹å‰ï¼Œåº”è¯¥ä½¿ç”¨instanceofè¿›è¡Œæ£€æŸ¥ã€‚</strong></li></ul></li><li>å®é™…ä¸Šï¼Œé€šè¿‡ç±»å‹è½¬æ¢è°ƒæ•´å¯¹è±¡çš„ç±»å‹å¹¶ä¸æ˜¯ä¸€ç§å¥½çš„åšæ³•ã€‚å› ä¸ºå¤šæ€æ€§çš„åŠ¨æ€ç»‘å®šæœºåˆ¶èƒ½å¤Ÿè‡ªåŠ¨åœ°æ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”è¯¥å°½é‡å°‘ç”¨ç±»å‹è½¬æ¢å’Œ instanceof è¿ç®—ç¬¦ã€‚</li></ul></li></ol><pre><code class="hljs Java">Manager boss = <span class="hljs-keyword">new</span> Manager(...);staff[<span class="hljs-number">0</span>] = boss;staff[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> Employee(...);staff[<span class="hljs-number">2</span>] = <span class="hljs-keyword">new</span> Employee(...);Manager boss = (Manager) staff[<span class="hljs-number">0</span>]; <span class="hljs-comment">//Allowed</span>Manager boss = (Manager) staff[<span class="hljs-number">1</span>]; <span class="hljs-comment">//Error</span><span class="hljs-keyword">if</span> (staff[<span class="hljs-number">1</span>] <span class="hljs-keyword">instanceof</span> Manager)&#123;    boss = (Manager) staff[<span class="hljs-number">1</span>];&#125; <span class="hljs-comment">//check the instance before</span></code></pre><ol><li>æŠ½è±¡ç±»ï¼Œä»æŸç§è§’åº¦æŒ‰ï¼Œ<em>ç¥–å…ˆç±»</em>æ›´åŠ é€šç”¨ï¼Œäººä»¬åªå°†å®ƒä½œä¸ºæ´¾ç”Ÿå…¶ä»–ç±»çš„åŸºç±»ï¼Œè€Œä¸ä½œä¸ºæƒ³ä½¿ç”¨çš„ç‰¹å®šçš„å®ä¾‹ç±»ã€‚<ul><li>ä¸ºäº†æé«˜ç¨‹åºçš„æ¸…æ™°åº¦ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•çš„ç±»æœ¬èº«å¿…é¡»è¢«å£°æ˜ä¸ºæŠ½è±¡çš„ã€‚</li><li>è®¸å¤šç¨‹åºå‘˜è®¤ä¸ºï¼Œåœ¨æŠ½è±¡ç±»ä¸­ä¸èƒ½åŒ…å«å…·ä½“æ–¹æ³•ã€‚å»ºè®®å°½é‡é€šç”¨çš„åŸŸå’Œæ–¹æ³•ï¼ˆä¸ç®¡æ˜¯å¦æ˜¯æŠ½è±¡çš„ï¼‰æ”¾åœ¨è¶…ç±»ï¼ˆä¸ç®¡æ˜¯ä¸æ˜¯æŠ½è±¡ç±»ï¼‰ä¸­ã€‚</li><li>æ‰©å±•æŠ½è±¡ç±»å¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ã€‚<ul><li>ä¸€ç§æ˜¯åœ¨æŠ½è±¡ç±»ä¸­å®šä¹‰éƒ¨åˆ†æŠ½è±¡ç±»æˆ–ä¸å®šä¹‰æŠ½è±¡ç±»æ–¹æ³•ï¼Œè¿™æ ·å°±å¿…é¡»å°†å­ç±»ä¹Ÿæ ‡è®°ä¸ºæŠ½è±¡ç±»ã€‚</li><li>å¦ä¸€ç§æ˜¯å®šä¹‰å…¨éƒ¨çš„æŠ½è±¡æ–¹æ³•ï¼Œè¿™æ ·ä¸€æ¥å­ç±»å°±ä¸æ˜¯æŠ½è±¡çš„äº†ã€‚</li></ul></li><li>ç±»å³ä½¿ä¸å«æŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å°†ç±»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚</li><li>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå°†ä¸€ä¸ªç±»å£°æ˜ä¸ºabstractï¼Œå°±ä¸èƒ½åˆ›å»ºè¿™ä¸ªç±»çš„å¯¹è±¡ã€‚</li><li>å¯ä»¥å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»çš„å¯¹è±¡å˜é‡ã€‚ä½†æ˜¯å®ƒåªèƒ½å¼•ç”¨éæŠ½è±¡å­ç±»çš„å®ä¾‹ã€‚</li></ul></li></ol><pre><code class="hljs Java">Person p = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">&quot;Vince Vu&quot;</span>, <span class="hljs-string">&quot;Economics&quot;</span>);</code></pre><ol><li>å—è®¿é—®ä¿æŠ¤<ul><li>å­ç±»ä¹Ÿä¸èƒ½è®¿é—®è¶…ç±»çš„ç§æœ‰åŸŸã€‚</li><li>ä¾‹å¦‚ï¼Œå¦‚æœè¶…ç±»Employeeä¸­çš„hireDayå£°æ˜ä¸ºprotectedï¼Œè€Œä¸æ˜¯ç§æœ‰çš„ï¼ŒManagerä¸­çš„æ–¹æ³•å°±å¯ä»¥ç›´æ¥è®¿é—®å®ƒã€‚ä¸è¿‡ï¼ŒManagerç±»ä¸­çš„æ–¹æ³•åªèƒ½å¤Ÿè®¿é—®Managerå¯¹è±¡ä¸­çš„hireDayåŸŸï¼Œè€Œä¸èƒ½è®¿é—®å…¶ä»–Employeeå¯¹è±¡ä¸­çš„è¿™ä¸ªåŸŸã€‚</li></ul></li></ol><div class="table-container"><table><thead><tr><th>ä¿®é¥°è¯</th><th>æœ¬ç±»</th><th>åŒä¸€ä¸ªåŒ…çš„ç±»</th><th>ç»§æ‰¿ç±»</th><th>å…¶ä»–ç±»</th></tr></thead><tbody><tr><td>private</td><td>âˆš</td><td>Ã—</td><td>Ã—</td><td>Ã—</td></tr><tr><td>é»˜è®¤</td><td>âˆš</td><td>âˆš</td><td>Ã—</td><td>Ã—</td></tr><tr><td>protected</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td>Ã—</td></tr><tr><td>public</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td>âˆš</td></tr></tbody></table></div><ol><li><p>Objectç±»ï¼Œå®ƒæ˜¯Javaä¸­æ‰€æœ‰ç±»çš„å§‹ç¥–ï¼Œåœ¨Javaä¸­æ¯ä¸ªç±»éƒ½æ˜¯ç”±å®ƒæ‰©å±•è€Œæ¥çš„ã€‚åœ¨Javaä¸­ï¼Œåªæœ‰åŸºæœ¬ç±»å‹ä¸æ˜¯å¯¹è±¡ã€‚</p><ul><li>equalsæ–¹æ³•ï¼Œç”¨æ¥æ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ç­‰äºå¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰ç›¸åŒçš„å¼•ç”¨ï¼ˆå†…å®¹ï¼‰ã€‚<pre><code class="hljs Java"><span class="hljs-comment">//é‡å†™equals</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Manager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Employee</span></span>&#123;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object otherObject)</span></span>&#123;        <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">super</span>.equals(otherObject)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;        <span class="hljs-comment">//super.equals checked that this and otherObject belong to the same class</span>        Manager other = (Manager) otherObject;        <span class="hljs-keyword">return</span> bonus == other.bonus;    &#125;&#125;</code></pre></li></ul></li><li><p>æ³›å‹æ•°ç»„åˆ—è¡¨ArrayList</p><ul><li>ArrayList  æ˜¯ä¸€ä¸ªé‡‡ç”¨ç±»å‹å‚æ•°çš„æ³›å‹ç±»ã€‚ä¸ºäº†æŒ‡å®šæ•°ç»„åˆ—è¡¨ä¿å­˜çš„å…ƒç´ å¯¹è±¡ç±»å‹ï¼Œéœ€è¦ç”¨ä¸€å¯¹å°–æ‹¬å·å°†ç±»åæ‹¬èµ·æ¥åŠ åœ¨åé¢ã€‚</li><li>addæ–¹æ³•å¯ä»¥å°†å…ƒç´ æ·»åŠ åˆ°æ•°ç»„åˆ—è¡¨ä¸­ã€‚</li><li>ensureCapacity(int num)æ–¹æ³•ï¼Œåˆ†é…ä¸€ä¸ªåŒ…å«numä¸ªå¯¹è±¡çš„å†…éƒ¨æ•°ç»„ã€‚</li><li>.size()æ–¹æ³•ç±»ä¼¼äºlengthã€‚</li><li>trimToSize() å°†æ•°ç»„åˆ—è¡¨çš„å­˜å‚¨å®¹é‡å‰Šå‡åˆ°å½“å‰å°ºå¯¸ã€‚</li><li>.set(i, harry)å°†ç¬¬iä¸ªå…ƒç´ è®¾ç½®ä¸ºharryã€‚</li><li>.get()åŒç†ã€‚</li><li>.toArray(int[] a)å°†å…¶æ‹·è´åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</li><li>.remove(n)</li><li>å°†åŸå§‹ArrayListèµ‹å€¼ç»™ä¸€ä¸ªç±»å‹åŒ–çš„ArrayListä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šã€‚è€Œä¸€ä¸ªç±»å‹åŒ–çš„æ•°ç»„ä¼ é€’ç»™ä¸€ä¸ªæ™®é€šæ–¹æ³•ä¸ä¼šå‡ºç°è­¦å‘Šï¼Œå¹¶ä¸”ä¸éœ€è¦ä»»ä½•çš„ç±»å‹è½¬æ¢ã€‚</li></ul></li><li>å¯¹è±¡åŒ…è£…å™¨ä¸è‡ªåŠ¨è£…ç®±ï¼ˆwrapperï¼‰<ul><li>è‡ªåŠ¨è£…ç®±ï¼šlist.add(3) å°†è‡ªåŠ¨è½¬æ¢æˆ list.add(Integer.ValueOf(3))ï¼ŒåŒæ ·çš„å°†Integerå¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªintå€¼çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹†ç®±ã€‚</li><li>å¯¹è±¡ä¹‹é—´çš„æ¯”è¾ƒè¦ä½¿ç”¨equalsæ–¹æ³•ã€‚</li></ul></li><li>æšä¸¾ç±»</li></ol><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Size</span></span>&#123;    SMALL(<span class="hljs-string">&quot;S&quot;</span>), MEDIUM(<span class="hljs-string">&quot;M&quot;</span>),LARGE(<span class="hljs-string">&quot;L&quot;</span>),EXTRA_LARGE(<span class="hljs-string">&quot;XL&quot;</span>);        <span class="hljs-keyword">private</span> String abbreviation;        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Size</span><span class="hljs-params">(String abbreviation)</span> </span>&#123;      <span class="hljs-keyword">this</span>.abbreviation = abbreviation;    &#125;        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAbbreviation</span><span class="hljs-params">()</span></span>&#123;        <span class="hljs-keyword">return</span> abbreviation;    &#125;&#125;</code></pre><ol><li>Classç±»<ul><li>getNameæ–¹æ³•ï¼Œè¿”å›ç±»çš„åmoreå­—ã€‚</li><li>ä¸€ä¸ªClasså¯¹è±¡å®é™…ä¸Šè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè€Œè¿™ä¸ªç±»å‹æœªå¿…ä¸€å®šæ˜¯ä¸€ç§ç±»ã€‚ä¾‹å¦‚ï¼Œintä¸æ˜¯ç±»ï¼Œä½†int.classæ˜¯ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ã€‚</li><li>Classç±»å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ³›å‹ç±»ã€‚ä¾‹å¦‚ï¼ŒEmployee.classçš„ç±»å‹æ˜¯Class<Employee>ã€‚</li><li>è™šæ‹Ÿæœºä¸ºæ¯ä¸ªç±»å‹ç®¡ç†ä¸€ä¸ªClasså¯¹è±¡ã€‚å› æ­¤ï¼Œå¯ä»¥ç”¨==è¿ç®—ç¬¦å®ç°ä¸¤ä¸ªç±»å¯¹è±¡çš„æ¯”è¾ƒæ“ä½œã€‚</li><li>newInstanceæ–¹æ³•ä¹æ„ç”¨æ¥åŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ã€‚å®ƒä¼šè°ƒç”¨é»˜è®¤çš„æ„é€ å™¨åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰é»˜è®¤çš„æ„é€ å™¨ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</li></ul></li><li><p>åˆ©ç”¨åå°„åˆ†æç±»çš„èƒ½åŠ›ã€‚Fieldã€Methodå’ŒConstructoråˆ†åˆ«ç”¨äºæè¿°ç±»çš„åŸŸã€æ–¹æ³•å’Œæ„é€ å™¨ã€‚éƒ½æœ‰getNameæ–¹æ³•è¿”å›é¡¹ç›®çš„åç§°ã€‚</p><ul><li>Fieldç±»æœ‰ä¸€ä¸ªgetTypeæ–¹æ³•ï¼Œç”¨æ¥è¿”å›æ‰€æè¿°åŸŸæ‰€å±ç±»å‹çš„Classå¯¹è±¡ã€‚</li><li>Modifierç±»ä¸­isPublicã€isPrivateæˆ–isFinalåˆ¤æ–­æ–¹æ³•æˆ–æ„é€ å™¨åˆ¤æ–­æ˜¯å¦æ˜¯publicã€privateæˆ–finalã€‚</li><li>Classçš„getFieldsã€getMethodså’ŒgetConstructoræ–¹æ³•å°†åˆ†åˆ«è¿”å›ç±»æä¾›çš„publicåŸŸã€æ–¹æ³•å’Œæ„é€ å™¨æ•°ç»„ã€‚</li></ul></li><li><p><strong>ç»§æ‰¿çš„è®¾è®¡æŠ€å·§</strong></p><ol><li>å°†å…¬å…±æ“ä½œå’ŒåŸŸæ”¾åœ¨è¶…ç±»</li><li>ä¸è¦ä½¿ç”¨å—ä¿æŠ¤çš„åŸŸ</li><li>ä½¿ç”¨ç»§æ‰¿å®ç°â€is-aâ€å…³ç³»</li><li>é™¤éæ‰€æœ‰ç»§æ‰¿çš„æ–¹æ³•éƒ½æœ‰æ„ä¹‰ï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨ç»§æ‰¿</li><li>åœ¨è¦†ç›–æ–¹æ³•æ—¶ï¼Œä¸è¦æ”¹å˜é¢„æœŸçš„è¡Œä¸º</li><li>ä½¿ç”¨å¤šæ€ï¼Œè€Œéç±»å‹ä¿¡æ¯</li><li>ä¸è¦è¿‡å¤šä½¿ç”¨åå°„</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-4</title>
    <link href="/2020/04/26/CoreJava-4/"/>
    <url>/2020/04/26/CoreJava-4/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-4-å¯¹è±¡ä¸ç±»"><a href="#Chapter-4-å¯¹è±¡ä¸ç±»" class="headerlink" title="Chapter 4 å¯¹è±¡ä¸ç±»"></a>Chapter 4 å¯¹è±¡ä¸ç±»</h3><ol><li><p>å°è£…ï¼šå°†æ•°æ®å’Œè¡Œä¸ºç»„åˆåœ¨ä¸€ä¸ªåŒ…ä¸­ï¼Œå¹¶å¯¹å¯¹è±¡çš„ä½¿ç”¨è€…éšè—äº†æ•°æ®çš„å®ç°æ–¹å¼ï¼Œå¯¹è±¡ä¸­çš„æ•°æ®æˆä¸ºå®ä¾‹åŸŸã€‚</p><ul><li>å®ç°å°è£…çš„å…³é”®åœ¨äº<strong>ç»å¯¹ä¸èƒ½</strong>è®©ç±»ä¸­çš„æ–¹æ³•ç›´æ¥åœ°è®¿é—®å…¶ä»–ç±»çš„å®ä¾‹åŸŸã€‚</li><li>å°è£…çš„ä¼˜ç‚¹<ul><li>å¯ä»¥æ”¹å˜å†…éƒ¨å®ç°ï¼Œé™¤äº†è¯¥ç±»çš„æ–¹æ³•ä¹‹å¤–ï¼Œä¸ä¼šå½±å“å…¶ä»–çš„ä»£ç ã€‚</li><li>æ›´æ”¹å™¨æ–¹æ³•å¯ä»¥æ‰§è¡Œé”™è¯¯æ£€æŸ¥ï¼Œç„¶è€Œç›´æ¥èµ‹å€¼ä¸ä¼šè¿›è¡Œè¿™äº›å¤„ç†ã€‚</li></ul></li></ul></li><li><p>å¯¹è±¡</p><ul><li>å¯¹è±¡çš„ä¸‰ä¸ªç‰¹æ€§ï¼š<ul><li>å¯¹è±¡çš„è¡Œä¸ºï¼šå¯ä»¥å¯¹å¯¹è±¡æ–½åŠ å“ªäº›æ“ä½œï¼Œæˆ–å¯ä»¥å¯¹å¯¹è±¡æ–½åŠ å“ªäº›æ–¹æ³•ï¼Ÿ</li><li>å¯¹è±¡çš„çŠ¶æ€ï¼šå½“æ–½åŠ é‚£äº›æ–¹æ³•æ—¶ï¼Œå¯¹è±¡å¦‚ä½•å“åº”ï¼Ÿ</li><li>å¯¹è±¡æ ‡è¯†ï¼šå¦‚ä½•è¾¨åˆ«å…·æœ‰ç›¸åŒè¡Œä¸ºä¸çŠ¶æ€çš„ä¸åŒå¯¹è±¡ï¼Ÿ</li></ul></li><li>å¯¹è±¡çš„è¡Œä¸ºæ˜¯ç”¨å¯è°ƒç”¨çš„æ–¹æ³•å®šä¹‰çš„ã€‚</li><li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„<strong>èº«ä»½</strong></li></ul></li><li><p>è¯†åˆ«ç±»</p><ul><li>ä»è®¾è®¡ç±»å¼€å§‹ï¼Œç„¶åå†å¾€æ¯ä¸ªç±»ä¸­æ·»åŠ æ–¹æ³•ã€‚</li><li>â€œæ‰¾åŠ¨è¯ä¸åè¯â€</li></ul></li><li><p>ç±»ä¹‹é—´çš„å…³ç³»</p><ul><li>â€œä¾èµ–ï¼ˆuse-aï¼‰â€ï¼šå¦‚æœä¸€ä¸ªç±»çš„æ–¹æ³•æ“çºµå¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å°±è¯´ä¸€ä¸ªç±»ä¾èµ–å¦ä¸€ä¸ªç±»ã€‚<strong>åº”è¯¥å°½å¯èƒ½å°†äº’ç›¸ä¾èµ–çš„ç±»å‡åˆ°æœ€å°‘â€”â€”è®©ç±»ä¹‹é—´çš„è€¦åˆåº¦æœ€å°ã€‚</strong></li><li>â€œèšåˆï¼ˆhas-aï¼‰â€ï¼šç±»Açš„å¯¹è±¡åŒ…å«ç±»Bçš„å¯¹è±¡ã€‚</li><li>â€œç»§æ‰¿ï¼ˆis-aï¼‰â€</li></ul></li><li><p>å¯¹è±¡ä¸å¯¹è±¡å˜é‡ï¼šè¦æƒ³ä½¿ç”¨å¯¹è±¡ï¼Œå°±å¿…é¡»é¦–å…ˆæ„é€ å¯¹è±¡ï¼Œå¹¶åˆ¶å®šå…¶åˆå§‹çŠ¶æ€ã€‚ç„¶åï¼Œå¯¹å¯¹è±¡åº”ç”¨æ–¹æ³•ã€‚</p><ul><li>æ„é€ å™¨ï¼š ç‰¹æ®Šçš„æ–¹æ³•ï¼Œç”¨æ¥æ„é€ å¹¶åˆå§‹åŒ–å¯¹è±¡ã€‚</li><li>ä¸€ä¸ªå¯¹è±¡å˜é‡å¹¶æ²¡æœ‰å®é™…åŒ…å«ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä»…ä»…åº”ç”¨ä¸€ä¸ªå¯¹è±¡ã€‚deadline = birthdayä¸¤ä¸ªDateç±»çš„å¯¹è±¡ã€‚</li><li>å¦‚æœå°†æ–¹æ³•åº”ç”¨åˆ°nullå¯¹è±¡ä¸Šå°±ä¼šå¼•å‘è¿è¡Œé”™è¯¯ã€‚</li><li>è®¿é—®å™¨æ–¹æ³•â€”â€”åªè®¿é—®å¯¹è±¡è€Œä¸ä¿®æ”¹å¯¹è±¡çš„æ–¹æ³•ï¼›ä¿®æ”¹çš„å«åšæ„é€ å™¨æ–¹æ³•ã€‚</li></ul></li><li><p>Emplyeeç±»</p><ul><li>æœ€ç®€å•çš„ç±»å®šä¹‰å½¢å¼ä¸ºï¼š<pre><code class="hljs Java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClassName</span></span>&#123;    field;    constructor;    method;&#125;</code></pre></li></ul></li><li><p>æ„é€ å™¨</p><ul><li>æ„é€ å™¨ä¸ç±»åŒåã€‚</li><li>æ¯ä¸ªç±»å¯ä»¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ„é€ å™¨ã€‚</li><li>æ„é€ å™¨å¯ä»¥æœ‰0ä¸ªã€1ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚</li><li>æ„é€ å™¨æ²¡æœ‰è¿”å›å€¼ã€‚</li><li>æ„é€ å™¨æ€»æ˜¯ä¼´éšç€newæ“ä½œä¸€èµ·è°ƒç”¨ã€‚</li><li><strong>ä¸è¦åœ¨æ„é€ å™¨ä¸­å®šä¹‰ä¸å®ä¾‹åŸŸé‡åçš„å±€éƒ¨å˜é‡</strong></li></ul></li><li><p>éšå¼å‚æ•°ä¸æ˜¾å¼å‚æ•°</p><ul><li>éšå¼å‚æ•°æ˜¯å‡ºç°åœ¨æ–¹æ³•åå‰çš„å¯¹è±¡ï¼›</li><li>æ˜¾å¼å‚æ•°æ˜¯æ–¹æ³•ååé¢æ‹¬å·é‡Œçš„æ•°å€¼ï¼›</li><li>åœ¨æ¯ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œå…³é”®å­—</li></ul></li><li><p>ä¸€ä¸ªæ–¹æ³•å¯ä»¥è®¿é—®æ‰€å±ç±»çš„æ‰€æœ‰å¯¹è±¡çš„ç§æœ‰æ•°æ®ã€‚</p></li><li><p>å¦‚æœä¸€ä¸ªæ–¹æ³•ä¸å½“å‰å®ç°æœºåˆ¶éå¸¸ç´§å¯†æˆ–è€…éœ€è¦ä¸€ä¸ªç‰¹åˆ«çš„åè®®ä»¥åŠä¸€ä¸ªç‰¹åˆ«çš„è°ƒç”¨æ¬¡åºï¼Œæœ€å¥½å°†è¿™æ ·çš„æ–¹æ³•è®¾ç½®æˆprivateçš„ã€‚</p><ul><li>åªè¦æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œå°±å¯ä»¥ç¡®ä¿å®ƒä¸ä¼šè¢«å¤–éƒ¨çš„å…¶ä»–ç±»æ‰€è°ƒç”¨ï¼Œå› æ­¤å¯ä»¥å°†å…¶åˆ å»ã€‚</li></ul></li><li><p>finalå®ä¾‹åŸŸ</p><ul><li>å¯ä»¥å°†å®ä¾‹åŸŸå®šä¹‰ä¸ºfinalï¼Œåœ¨æ„å»ºå¯¹è±¡çš„æ—¶å€™å¿…é¡»å°†å®ƒåˆå§‹åŒ–ã€‚å¹¶ä¸”åœ¨åé¢çš„æ“ä½œä¸­ä¸èƒ½å°†å®ƒä¿®æ”¹ã€‚</li><li>finalä¿®é¥°ç¬¦å¤§å¤šåº”ç”¨äºåŸºæœ¬ï¼ˆprimitiveï¼‰ç±»å‹åŸŸï¼Œæˆ–ä¸å¯å˜ç±»å‹åŸŸï¼ˆç±»ä¸­çš„æ¯ä¸ªæ–¹æ³•éƒ½ä¸ä¼šæ”¹å˜å…¶å¯¹è±¡ã€‚ï¼‰</li></ul></li><li><p>é™æ€åŸŸï¼š å¦‚æœå°†åŸŸå®šä¹‰ä¸ºstaticï¼Œæ¯ä¸ªç±»ä¸­åªæœ‰ä¸€ä¸ªè¿™æ ·çš„åŸŸã€‚è€Œæ¯ä¸€ä¸ªå¯¹è±¡å¯¹äºæ‰€æœ‰çš„å®ä¾‹åŸŸå´éƒ½æœ‰è‡ªå·±çš„ä¸€ä»½æ‹·è´ã€‚</p><ul><li>è¿™ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹åŸŸå°†å…±äº«ä¸€ä¸ªâ€œnextIDâ€åŸŸï¼›</li><li>å®ƒå±äºç±»ï¼Œä¸å±äºä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼›</li></ul></li><li><p>é™æ€æ–¹æ³•ï¼šä¸èƒ½å‘å¯¹è±¡å®æ–½æ“ä½œçš„æ–¹æ³•ã€‚</p><ul><li>æ²¡æœ‰éšå¼çš„å‚æ•°ã€‚é™æ€æ–¹æ³•æ˜¯æ²¡æœ‰thiså‚æ•°çš„æ–¹æ³•ã€‚</li><li>é™æ€æ–¹æ³•å¯ä»¥è®¿é—®è‡ªèº«ç±»ä¸­çš„é™æ€åŸŸï¼›</li><li>å»ºè®®ä½¿ç”¨ç±»åæ¥è°ƒç”¨é™æ€æ–¹æ³•ï¼›</li><li>åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä½¿ç”¨é™æ€æ–¹æ³•ï¼š<ul><li>ä¸€ä¸ªæ–¹æ³•ä¸éœ€è¦è®¿é—®å¯¹è±¡çŠ¶æ€ï¼Œå…¶æ‰€éœ€å‚æ•°éƒ½æ˜¯é€šè¿‡æ˜¾ç¤ºå‚æ•°æä¾›ï¼ˆå¦‚Math.powï¼‰;</li><li>ä¸€ä¸ªæ–¹æ³•åªéœ€è¦è®¿é—®ç±»çš„é™æ€åŸŸï¼ˆå¦‚Employee.getNextIDï¼‰ï¼›</li></ul></li></ul></li><li><p>å·¥å‚æ–¹æ³•æ„é€ å¯¹è±¡ï¼›</p><ul><li>å°†ç±»çš„åˆ›å»ºå•ç‹¬æ”¾åˆ°ä¸€ä¸ªç±»é‡Œè¿›è¡Œï¼Œè¿™ä¸ªç±»å°±å«åšå·¥å‚ã€‚</li><li>ä¸åˆ©ç”¨æ„é€ å™¨æœ‰ä¸¤ä¸ªåŸå› ï¼š<ol><li>æ— æ³•å‘½åæ„é€ å™¨ã€‚æ„é€ å™¨çš„åå­—å¿…é¡»å’Œç±»åç›¸åŒã€‚ä½†æ˜¯è´§å¸çš„å®ä¾‹éœ€è¦ä¸åŒçš„åå­—ï¼›</li><li>å½“ä½¿ç”¨æ„é€ å™¨æ—¶ï¼Œæ— æ³•æ”¹å˜æ‰€æ„é€ çš„å¯¹è±¡ç±»å‹ã€‚<pre><code class="hljs Java">NumberFormat currencyFormatter = NumberFormat.gerCurrencyInstance();NumberFormat percentFormatter = NumberFormat.getpercentInstance();</code></pre></li></ol></li></ul></li><li><p>mainæ–¹æ³•ï¼š<strong>ä¸éœ€è¦ä½¿ç”¨å¯¹è±¡è°ƒç”¨é™æ€æ–¹æ³•</strong></p><ul><li>ä¾‹å­ï¼šä¸éœ€è¦æ„é€ Mathå¯¹è±¡å°±å¯ä»¥ç›´æ¥è°ƒç”¨Math.powã€‚</li><li>mainæ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚mainæ–¹æ³•ä¸å¯¹ä»»ä½•å¯¹è±¡è¿›è¡Œæ“ä½œã€‚äº‹å®ä¸Šåœ¨ç¨‹åºå¯åŠ¨æ—¶æ²¡æœ‰ä»»ä½•ä¸€ä¸ªå¯¹è±¡ã€‚é™æ€çš„mainæ–¹æ³•å°†æ‰§è¡Œå¹¶åˆ›å»ºç¨‹åºæ‰€éœ€è¦çš„å¯¹è±¡ã€‚</li></ul></li><li><p>Javaæ€»æ˜¯é‡‡ç”¨æŒ‰å€¼è°ƒç”¨ã€‚</p><ul><li><strong>Javaå¯¹å¯¹è±¡é‡‡ç”¨çš„ä¸æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œå¯¹è±¡å¼•ç”¨æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚</strong></li><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼ˆæŒ‰å€¼ä¼ é€’å‚æ•°ï¼‰ï¼›</li><li>ä¸€ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„å‚æ•°çš„çŠ¶æ€ï¼›</li><li><strong>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è®©å¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ </strong></li></ul></li><li><p>é‡è½½ï¼šæœ‰äº›ç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ å™¨ã€‚å¦‚æœå¤šä¸ªæ–¹æ³•æœ‰ç›¸åŒçš„åå­—ã€ä¸åŒçš„å‚æ•°ï¼Œä¾¿äº§ç”Ÿäº†é‡è½½ï¼›ç¼–è¯‘å™¨é€šè¿‡ç”¨å„ä¸ªæ–¹æ³•ç»™å‡ºçš„å‚æ•°ç±»å‹ä¸ç‰¹å®šæ–¹æ³•è°ƒç”¨æ‰€ä½¿ç”¨çš„å€¼çš„ç±»å‹è¿›è¡ŒåŒ¹é…æ¥æŒ‘é€‰å‡ºç›¸åº”çš„æ–¹æ³•ï¼ˆé‡è½½è§£æï¼‰ã€‚</p><ul><li>Javaå…è®¸é‡è½½ä»»ä½•æ–¹æ³•ï¼Œä¸åªæ˜¯æ„é€ å™¨æ–¹æ³•ã€‚å®Œæ•´æè¿°ä¸€ä¸ªæ–¹æ³•éœ€è¦æŒ‡å‡ºæ–¹æ³•åä»¥åŠå‚æ•°ç±»å‹ã€‚è¿™å«åšæ–¹æ³•çš„<strong>ç­¾å</strong>ã€‚</li></ul></li><li><p>é»˜è®¤åŸŸåˆå§‹åŒ–ï¼šæ•°å€¼ä¸º0ã€å¸ƒå°”å€¼ä¸ºfalseã€å¯¹è±¡å¼•ç”¨ä¸ºnullã€‚</p></li><li><p>æ— å‚æ•°æ„é€ å™¨ï¼Œå¦‚æœåœ¨ç¼–å†™ä¸€ä¸ªç±»æ—¶æ²¡æœ‰ç¼–å†™æ„é€ å™¨ï¼Œç³»ç»Ÿå°±ä¼šæä¾›ä¸€ä¸ªæ— å‚æ•°æ„é€ å™¨ã€‚è¿™ä¸ªæ„é€ å™¨å°†æ‰€æœ‰å®æ•°åŸŸè®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚</p></li><li><p>æ˜¾ç¤ºåŸŸåˆå§‹åŒ–ï¼Œé€šè¿‡é‡è½½ç±»çš„æ„é€ å™¨æ–¹æ³•ï¼Œå¯ä»¥é‡‡ç”¨å¤šç§å½¢å¼è®¾ç½®ç±»çš„å®ä¾‹åŸŸçš„åˆå§‹çŠ¶æ€ã€‚</p></li><li><p>å‚æ•°å˜é‡ç”¨åŒæ ·çš„åå­—å°†å®ä¾‹åŸŸå±è”½èµ·æ¥ã€‚å¯ä»¥ç”¨this.salaryçš„æ–¹å¼è®¿é—®å®ä¾‹åŸŸã€‚å›æƒ³ä¸€ä¸‹ï¼ŒthisæŒ‡ç¤ºéšå¼å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ‰€æ„é€ çš„å¯¹è±¡ã€‚</p><pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Employee</span><span class="hljs-params">(String name, <span class="hljs-keyword">double</span> salary)</span></span>&#123;    <span class="hljs-keyword">this</span>.name = name;    <span class="hljs-keyword">this</span>.salary = salary;&#125;</code></pre></li><li><p>è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨ã€‚å¦‚æœæ„é€ å™¨çš„ç¬¬ä¸€ä¸ªè¯­å¥å½¢å¦‚this(â€¦)ï¼Œè¿™ä¸ªæ„é€ å™¨å°†è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ å™¨ã€‚å…¬å…±çš„æ„é€ å™¨ä»£ç éƒ¨åˆ†åªç¼–å†™ä¸€æ¬¡å³å¯ã€‚</p><pre><code class="hljs Java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Employee</span><span class="hljs-params">(<span class="hljs-keyword">double</span> s)</span></span>&#123;    <span class="hljs-keyword">this</span>(<span class="hljs-string">&quot;Emplyee #&quot;</span> + nextID, s);    nextID++; &#125;</code></pre></li><li><p>åˆå§‹åŒ–å—ã€‚åœ¨ä¸€ä¸ªç±»çš„å£°æ˜ä¸­ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªä»£ç å—ã€‚åªè¦æ„é€ ç±»çš„å¯¹è±¡ï¼Œè¿™äº›å—å°±ä¼šè¢«æ‰§è¡Œã€‚</p><pre><code class="hljs Java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span></span>&#123;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> nextID;        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> salary;        <span class="hljs-comment">//object initialization block</span>    &#123;        id = nextID;        nextID++;    &#125;        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Employee</span><span class="hljs-params">(String n, <span class="hljs-keyword">double</span> s)</span></span>&#123;        <span class="hljs-keyword">this</span>.name = n;        <span class="hljs-keyword">this</span>.salary = s;    &#125;&#125;</code></pre><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ— è®ºä½¿ç”¨å“ªä¸ªæ„é€ å™¨æ„é€ å¯¹è±¡ï¼ŒidåŸŸéƒ½åœ¨å¯¹è±¡åˆå§‹åŒ–æ¨¡å—ä¸­è¢«åˆå§‹åŒ–ã€‚<strong>è¿è¡Œåˆå§‹åŒ–æ¨¡å—ï¼Œç„¶åæ‰è¿è¡Œæ„é€ å™¨çš„ä¸»ä½“éƒ¨åˆ†ã€‚</strong></p></li><li><p>è°ƒç”¨æ„é€ å™¨çš„å…·ä½“å¤„ç†æ­¥éª¤ï¼š</p><ol><li>æ‰€æœ‰æ•°æ®åŸŸè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ã€‚</li><li>æŒ‰ç…§åœ¨ç±»å£°æ˜ä¸­å‡ºç°çš„æ¬¡åºï¼Œä¸€æ¬¡æ‰§è¡Œæ‰€æœ‰åŸŸåˆå§‹åŒ–è¯­å¥å’Œåˆå§‹åŒ–å—ã€‚</li><li>å¦‚æœæ„é€ å™¨ç¬¬ä¸€è¡Œè°ƒç”¨äº†ç¬¬äºŒä¸ªæ„é€ å™¨ï¼Œåˆ™æ‰§è¡Œç¬¬äºŒä¸ªæ„é€ å™¨ä¸»ä½“ã€‚</li><li>æ‰§è¡Œè¿™ä¸ªæ„é€ å™¨çš„ä¸»ä½“ã€‚</li></ol></li><li><p>é™æ€åˆå§‹åŒ–å—</p><ul><li><strong>åˆå§‹åŒ–å—åªè°ƒç”¨ä¸€æ¬¡ï¼ˆç±»åŠ è½½æ—¶ï¼‰ï¼Œè€Œæ™®é€šåˆå§‹åŒ–å—å¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œéšç€å¯¹è±¡çš„åˆ›å»ºè€ŒåŠ è½½ã€‚</strong></li><li>ä¸€ä¸ªç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªé™æ€åˆå§‹åŒ–å—å’Œå¤šä¸ªæ™®é€šåˆå§‹åŒ–å—ï¼›é™æ€åˆå§‹åŒ–å—çš„æ‰§è¡Œè¦æ—©äºæ™®é€šåˆå§‹åŒ–å—ï¼›åŒä¸€ä¸ªç±»å‹çš„åˆå§‹åŒ–å—çš„æ‰§è¡Œé¡ºåºå–å†³äºå®šä¹‰çš„å…ˆåé¡ºåºï¼</li><li>åœ¨ä¸€ä¸ªç±»ä¸­å¦‚æœæœ‰å¤šä¸ªä¸åŒçš„åˆå§‹åŒ–å—ï¼Œåˆå§‹åŒ–å±æ€§ï¼Œæ„é€ å™¨ï¼Œæ‰§è¡Œé¡ºåºæ˜¯ï¼šé™æ€åˆå§‹åŒ–å—|é™æ€å±æ€§åˆå§‹åŒ– &gt; æ™®é€šåˆå§‹åŒ–å—|æ™®é€šå±æ€§åˆå§‹åŒ– &gt; æ„é€ å™¨</li></ul></li><li><p>å¯¹è±¡ææ„ä¸finalizeæ–¹æ³•</p><ul><li>Javaè‡ªåŠ¨å›æ”¶åƒåœ¾ï¼Œä¸æ”¯æŒææ„å™¨ã€‚</li><li>å¯ä»¥ä¸ºä»»ä½•ä¸€ä¸ªç±»æ·»åŠ finalizeæ–¹æ³•ã€‚finalizeæ–¹æ³•åœ¨åƒåœ¾å›æ”¶å™¨æ¸…é™¤å¯¹è±¡ä¹‹å‰è°ƒç”¨ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸è¦ä¾èµ–äºä½¿ç”¨finalizeæ–¹æ³•å›æ”¶ä»»ä½•çŸ­ç¼ºçš„èµ„æºï¼Œè¿™æ˜¯å› ä¸ºå¾ˆéš¾çŸ¥é“è¿™ä¸ªæ–¹æ³•ä»€ä¹ˆæ—¶å€™æ‰èƒ½å¤Ÿè°ƒç”¨ã€‚</li></ul></li><li><p>åŒ…ï¼ŒJavaå…è®¸ä½¿ç”¨åŒ…ï¼ˆpackageï¼‰å°†ç±»ç»„ç»‡èµ·æ¥ã€‚</p><ul><li>ä½¿ç”¨åŒ…çš„ä¸»è¦åŸå› æ˜¯ç¡®ä¿ç±»åçš„å”¯ä¸€æ€§ã€‚</li><li>ä»ç¼–è¯‘å™¨çš„è§’åº¦æ¥çœ‹ï¼ŒåµŒå¥—çš„åŒ…ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ä¾‹å¦‚ï¼Œjava.utilåŒ…ä¸java.util.jaråŒ…æ¯«æ— å…³ç³»ã€‚æ¯ä¸€ä¸ªéƒ½æœ‰ç‹¬ç«‹çš„é›†åˆã€‚</li></ul></li><li><p>é™æ€å¯¼å…¥</p><ul><li>åœ¨æºæ–‡ä»¶é¡¶éƒ¨ï¼Œæ·»åŠ ä¸€æ¡import static java.lang.System.*;</li><li>å¯ä»¥æ›´ç®€æ´æ¯”å¦‚Math.sqrtå¯ä»¥ç®€å†™ä¸ºsqrt</li></ul></li><li><p>å°†ç±»æ”¾å…¥åŒ…ä¸­ï¼Œå°±å¿…é¡»å°†åŒ…çš„åå­—æ”¾åœ¨æºæ–‡ä»¶çš„å¼€å¤´ï¼ŒåŒ…ä¸­å®šä¹‰ç±»çš„ä»£ç ä¹‹å‰ã€‚å¦‚æœæ²¡æœ‰åœ¨æºæ–‡ä»¶ä¸­æ”¾ç½®packageè¯­å¥ï¼Œè¿™ä¸ªæºæ–‡ä»¶ä¸­çš„ç±»å°±è¢«æ”¾ç½®åœ¨ä¸€ä¸ªé»˜è®¤åŒ…ä¸­ã€‚</p></li><li><p>æ³¨é‡Š</p><ol><li>æ–¹æ³•æ³¨é‡Š<ol><li>@param å˜é‡æè¿°</li><li>@return æè¿°</li><li>@throws ç±»æè¿°</li></ol></li><li>é€šç”¨æ³¨é‡Š<ol><li>@author å§“å</li><li>@version ç‰ˆæœ¬</li><li>@since å¼•å…¥ç‰¹æ€§çš„ç‰ˆæœ¬æè¿°</li><li>@see å¼•ç”¨</li></ol></li><li>åŒ…æ³¨é‡Šå•ç‹¬åœ¨åŒ…ä¸­æ·»åŠ æ–‡æ¡£</li></ol></li><li><p>ç±»è®¾è®¡æŠ€å·§</p><ol><li>ä¸€å®šè¦ä¿è¯æ•°æ®ç§æœ‰ï¼Œç»å¯¹ä¸è¦ç ´åå°è£…æ€§ã€‚</li><li>ä¸€å®šè¦å¯¹æ•°æ®åˆå§‹åŒ–ã€‚</li><li>ä¸è¦åœ¨ç±»ä¸­ä½¿ç”¨è¿‡å¤šçš„åŸºæœ¬ç±»å‹ã€‚</li><li>ä¸æ˜¯æ‰€æœ‰çš„åŸŸéƒ½éœ€è¦ç‹¬ç«‹çš„åŸŸè®¿é—®å™¨å’ŒåŸŸæ›´æ”¹å™¨ã€‚</li><li>å°†èŒè´£è¿‡å¤šçš„ç±»è¿›è¡Œåˆ†è§£ã€‚</li><li>ç±»åå’Œæ–¹æ³•åè¦èƒ½å¤Ÿä½“ç°å®ƒä»¬çš„èŒè´£ã€‚</li><li>ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜çš„ç±»ã€‚</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CoreJava-3</title>
    <link href="/2020/04/26/CoreJava-3/"/>
    <url>/2020/04/26/CoreJava-3/</url>
    
    <content type="html"><![CDATA[<h3 id="Chapter-3-åŸºæœ¬è®¾è®¡ç»“æ„"><a href="#Chapter-3-åŸºæœ¬è®¾è®¡ç»“æ„" class="headerlink" title="Chapter 3 åŸºæœ¬è®¾è®¡ç»“æ„"></a>Chapter 3 åŸºæœ¬è®¾è®¡ç»“æ„</h3><ol><li><p>å…³é”®å­—<em>final</em>è¡¨ç¤ºå¸¸é‡ã€‚å…³é”®å­—<em>final</em>è¡¨ç¤ºè¿™ä¸ªå˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ã€‚å¸¸é‡åå…¨éƒ¨ä½¿ç”¨å¤§å†™ã€‚</p></li><li><p><em>static final</em>è®¾ç½®ç±»å¸¸é‡ã€‚å¯åœ¨ä¸€ä¸ªç±»çš„å¤šä¸ªæ–¹æ³•ä¸­ä½¿ç”¨ã€‚å¦‚æœç”Ÿå‘½ä¸ºpublicï¼Œå³<em>public</em>ï¼Œåˆ™å…¶ä»–ç±»çš„æ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªå¸¸é‡ã€‚</p></li><li><p><em>strictfp</em>å…³é”®å­—æ ‡è®°ç‚¹æ–¹æ³•å¿…é¡»ä½¿ç”¨ä¸¥æ ¼çš„æµ®ç‚¹è®¡ç®—æ¥ç”Ÿæˆå¯å†ç”Ÿçš„ç»“æœã€‚</p></li><li><p>String ä¸­çš„<em>substring</em>æ–¹æ³•ï¼Œs.substring(a, b)å¾—åˆ°ä»¥aä¸ºindexå¼€å¤´ï¼Œåˆ°bä¸ºæ­¢ä½†ä¸åŒ…å«bçš„å­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸ºb-aã€‚</p></li><li><p><em>join</em>æ–¹æ³•ï¼ŒString.join(â€œ/â€œ, â€œSâ€, â€œMâ€, â€œLâ€, â€œXLâ€);å¾—åˆ°çš„æ˜¯å­—ç¬¦ä¸²â€S/M/L/XLâ€ã€‚</p></li><li><p>Stringç±»å¯¹è±¡æ˜¯ä¸å¯å˜å­—ç¬¦ä¸²ã€‚ç¼–è¯‘å™¨å¯ä»¥è®©å­—ç¬¦ä¸²å…±äº«ã€‚</p></li><li><p>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰å¯ä»¥ç”¨.equals()æ–¹æ³•ã€‚å¦‚æœä¸åŒºåˆ†å¤§å°å†™å¯ä»¥ç”¨equalsIgnoreCaseæ–¹æ³•ã€‚<em>ä¸€å®šä¸è¦ä½¿ç”¨==è¿ç®—ç¬¦æ¥æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ã€‚è¿™åªèƒ½ç¡®å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åœ¨åŒä¸€ä¸ªä½ç½®ä¸Š</em></p></li><li><p>â€œâ€æ˜¯ç©ºä¸²ï¼Œæœ‰é•¿åº¦æœ‰å†…å®¹ã€‚nullè¡¨ç¤ºç›®å‰æ²¡æœ‰ä»»ä½•å¯¹è±¡ä¸è¯¥å˜é‡å…³è”ã€‚</p></li><li><p>ç ç‚¹ä¸ä»£ç å•å…ƒ</p></li></ol><ul><li>int[] codePoints = str.codePoints().toArray();å°†å­—ç¬¦ä¸²è½¬æˆä¸€ä¸ªæ•°ç»„ã€‚</li><li>String str = new String(codePoints, 0, codePoints.length);å°†ç ç‚¹æ•°ç»„è½¬åŒ–æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li></ul><ol><li><p>æ„å»ºå­—ç¬¦ä¸²</p><pre><code class="hljs Java">StringBuilder builder = <span class="hljs-keyword">new</span> StringBuilder();builder.append(ch);<span class="hljs-comment">// appends a single character</span>builder.append(str);<span class="hljs-comment">// appends a string</span>String completedString = builder.toString();</code></pre></li><li><p>æ§åˆ¶å°è¾“å…¥</p><pre><code class="hljs Java">Scanner in = <span class="hljs-keyword">new</span> Scanner(System.in);String name = in.nextLine();<span class="hljs-keyword">int</span> age = in.nextInt();</code></pre></li><li><p>æ–‡ä»¶å‡ºå…¥ä¸è¾“å‡º</p><pre><code class="hljs Java"><span class="hljs-comment">//input</span>Scanner in = <span class="hljs-keyword">new</span> Scanner(Paths.get(<span class="hljs-string">&quot;myfile.txt&quot;</span>), <span class="hljs-string">&quot;UTF-8&quot;</span>);<span class="hljs-comment">//output</span>PrintWriter out = <span class="hljs-keyword">new</span> PrintWriter(<span class="hljs-string">&quot;myfile.txt&quot;</span>), <span class="hljs-string">&quot;UTF-8&quot;</span>);</code></pre></li><li><p>Java SE 7 å¼€å§‹ï¼Œswitchä¸­çš„caseæ ‡ç­¾è¿˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²å­—é¢é‡ã€‚</p></li><li><p>breakæˆ–continueåæ¥label, å¯ä»¥åœ¨ä¸­æ–­ä¹‹åç›´æ¥è·³åˆ°labelçš„ä½ç½®ç»§ç»­æ‰§è¡Œã€‚</p></li><li><p>å¤§æ•°å€¼BigIntegerå®ç°å¤§æ•´æ•°ï¼›BigDecimalå®ç°å¤§æµ®ç‚¹æ•°ã€‚</p><pre><code class="hljs Java">BigInteger a = BigInteger.valueOf(<span class="hljs-number">100</span>);<span class="hljs-comment">//å°†æ™®é€šæ•°å€¼è½¬æ¢ä¸ºå¤§æ•°å€¼ï¼›</span>BigInteger c = a.add(b); <span class="hljs-comment">// c = a + b;</span>BigInteger d = c.multiply(b.add(BigInteger.valueOf(<span class="hljs-number">2</span>))); <span class="hljs-comment">// d = c * (b + 2)</span></code></pre></li><li><p>æ•°ç»„</p><pre><code class="hljs Java"><span class="hljs-keyword">int</span>[] a= <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">100</span>];</code></pre></li></ol><ul><li>åˆ›å»ºä¸€ä¸ªæ•°ç»„æ—¶ï¼Œæ‰€æœ‰å…ƒç´ éƒ½åˆå§‹åŒ–ä¸º0ã€‚booleanæ•°ç»„çš„å…ƒç´ ä¼šåˆå§‹åŒ–ä¸ºfalseã€‚å¯¹è±¡æ•°ç»„ä¼šåˆå§‹åŒ–ä¸ºnullã€‚<pre><code class="hljs Java"><span class="hljs-comment">//ä¸‹é¢æ‰€æœ‰å­—ç¬¦ä¸²éƒ½æ˜¯null</span>String[] names = <span class="hljs-keyword">new</span> String[<span class="hljs-number">10</span>];<span class="hljs-comment">//ä¸‹é¢æ‰€æœ‰å­—ç¬¦ä¸²éƒ½æ˜¯ç©ºä¸²</span><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) names[i] = <span class="hljs-string">&quot;&quot;</span>;</code></pre></li><li>ä¸€æ—¦åˆ›å»ºäº†æ•°ç»„å°±ä¸èƒ½æ”¹å˜å®ƒçš„å¤§å°ã€‚</li></ul><ol><li>for each å¾ªç¯</li></ol><ul><li>for (variable : collection) statement<pre><code class="hljs Java">System.out.println(Arrays.toString(a));<span class="hljs-comment">//æ‰“å°æ•°ç»„ï¼›</span></code></pre></li></ul><ol><li>æ•°ç»„æ‹·è´<pre><code class="hljs Java"><span class="hljs-keyword">int</span>[] copiedLuckyNumbers = Arrays.copyOf(luckyNumbers, luckynumbers.length);</code></pre></li><li><p>Array.sort(a); è¿›è¡Œæ’åº</p></li><li><p>ä¸è§„åˆ™æ•°ç»„</p><pre><code class="hljs Java"><span class="hljs-keyword">int</span>[][] odds = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[MAX+<span class="hljs-number">1</span>][];<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>; n &lt;= MAX; n+<span class="hljs-number">1</span>)    odds[n] = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n+<span class="hljs-number">1</span>];<span class="hljs-comment">//ä»¥ä¸Šç”Ÿæˆçš„æ˜¯ä¸€ä¸ªä¸‰è§’å½¢æ•°ç»„</span></code></pre></li></ol>]]></content>
    
    
    <categories>
      
      <category>Core Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Core Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
